<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ES6å¿«é€Ÿå…¥é—¨</title>
    <url>/2021/01/10/ES6%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h1 id="ES6å¿«é€Ÿå…¥é—¨"><a href="#ES6å¿«é€Ÿå…¥é—¨" class="headerlink" title="ES6å¿«é€Ÿå…¥é—¨"></a>ES6å¿«é€Ÿå…¥é—¨</h1><p>å…·ä½“ä½¿ç”¨å‚è€ƒ  <a href="https://es6.ruanyifeng.com/#docs/let">ES6å‚è€ƒæ–‡æ¡£</a></p>
<h2 id="1-let-å’Œ-const"><a href="#1-let-å’Œ-const" class="headerlink" title="1. let å’Œ const"></a>1. let å’Œ const</h2><h3 id="let-å‘½ä»¤"><a href="#let-å‘½ä»¤" class="headerlink" title="let å‘½ä»¤"></a>let å‘½ä»¤</h3><p>ES6 æ–°å¢äº†  <code>let</code>  å‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡ã€‚å®ƒçš„ç”¨æ³•ç±»ä¼¼äº  <code>var</code>ï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨  <code>let</code>  å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">a <span class="comment">// ReferenceError: a is not defined.</span></span><br><span class="line">b <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p><strong>ä¸å­˜åœ¨å˜é‡æå‡</strong></p>
<p>ES6ä»¥å‰ ä½¿ç”¨ var å…³é”®å­—å£°æ˜å˜é‡ï¼Œä¼šæœ‰å˜é‡æå‡ã€‚let ä¸ä¼šæœ‰å˜é‡æå‡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// var çš„æƒ…å†µ</span></span><br><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">// è¾“å‡ºundefined</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let çš„æƒ…å†µ</span></span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// æŠ¥é”™ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> bar = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p><strong>æš‚æ—¶æ€§æ­»åŒº</strong></p>
<p>åªè¦å—çº§ä½œç”¨åŸŸå†…å­˜åœ¨  <code>let</code>  å‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±â€œç»‘å®šâ€ï¼ˆbindingï¼‰è¿™ä¸ªåŒºåŸŸï¼Œä¸å†å—å¤–éƒ¨çš„å½±å“ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> tmp = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  tmp = <span class="string">&#x27;abc&#x27;</span>; <span class="comment">// ReferenceError</span></span><br><span class="line">  <span class="keyword">let</span> tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå­˜åœ¨å…¨å±€å˜é‡  <code>tmp</code>ï¼Œä½†æ˜¯å—çº§ä½œç”¨åŸŸå†…<code>let</code>åˆå£°æ˜äº†ä¸€ä¸ªå±€éƒ¨å˜é‡<code>tmp</code>ï¼Œå¯¼è‡´åè€…ç»‘å®šè¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥åœ¨<code>let</code>å£°æ˜å˜é‡å‰ï¼Œå¯¹<code>tmp</code>èµ‹å€¼ä¼šæŠ¥é”™ã€‚</p>
<p><strong>ä¸å…è®¸é‡å¤å£°æ˜</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h3><p>const å’Œ let äºŒè€…éƒ½æ˜¯å—çº§ä½œç”¨åŸŸã€‚ {} å†…çš„ä»£ç å—å³ä¸º let  å’Œ  const çš„ä½œç”¨åŸŸã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;  <span class="comment">// å˜é‡iåªç”¨æ¥æ§åˆ¶å¾ªç¯ï¼Œä½†æ˜¯å¾ªç¯ç»“æŸåï¼Œå®ƒå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œæ³„éœ²æˆäº†å…¨å±€å˜é‡ã€‚</span></span><br><span class="line">   a[i]=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   	  <span class="built_in">console</span>.log(i);</span><br><span class="line">   &#125;;</span><br><span class="line">&#125;</span><br><span class="line">a[<span class="number">6</span>](); <span class="comment">// 10 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a=[];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123; <span class="comment">// i ä¸ä¼šæ³„éœ²</span></span><br><span class="line">   a[i]=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   	  <span class="built_in">console</span>.log(i);</span><br><span class="line">   &#125;;</span><br><span class="line">&#125;</span><br><span class="line">a[<span class="number">6</span>](); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>


<h3 id="const-å‘½ä»¤"><a href="#const-å‘½ä»¤" class="headerlink" title="const å‘½ä»¤"></a>const å‘½ä»¤</h3><p><code>const</code> å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</p>
<p><code>const</code> ä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ã€‚</p>
<p><code>const</code> çš„ä½œç”¨åŸŸä¸<code>let</code>å‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚</p>
<p><code>const</code> å®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºç®€å•ç±»å‹çš„æ•°æ®ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼‰ï¼Œå€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„æŒ‡é’ˆï¼Œ<code>const</code>åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯ä¸æ˜¯å¯å˜çš„ï¼Œå°±å®Œå…¨ä¸èƒ½æ§åˆ¶äº†ã€‚</p>
<h2 id="2-è§£æ„èµ‹å€¼"><a href="#2-è§£æ„èµ‹å€¼" class="headerlink" title="2. è§£æ„èµ‹å€¼"></a>2. è§£æ„èµ‹å€¼</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> people = &#123;</span><br><span class="line">    name: <span class="string">&#x27;java&#x27;</span>,</span><br><span class="line">    age: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123; name, age &#125; = people</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;name&#125;</span> --- <span class="subst">$&#123;age&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> color = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> [first, second] = color</span><br><span class="line"><span class="built_in">console</span>.log(first) <span class="comment">// red</span></span><br><span class="line"><span class="built_in">console</span>.log(second) <span class="comment">// blue</span></span><br></pre></td></tr></table></figure>


<h2 id="3-å­—ç¬¦ä¸²çš„æ‰©å±•"><a href="#3-å­—ç¬¦ä¸²çš„æ‰©å±•" class="headerlink" title="3. å­—ç¬¦ä¸²çš„æ‰©å±•"></a>3. å­—ç¬¦ä¸²çš„æ‰©å±•</h2><p><strong>å­—ç¬¦ä¸²æ ¼å¼åŒ–</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> e6 = <span class="string">&#x27;java&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`hello <span class="subst">$&#123;e6&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>
<p><strong>å¤šè¡Œå­—ç¬¦ä¸²æ‹¼æ¥</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> template = <span class="string">`&lt;div&gt;</span></span><br><span class="line"><span class="string">        &lt;span&gt;hello world&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;`</span></span><br></pre></td></tr></table></figure>
<p><a href="https://es6.ruanyifeng.com/#docs/string-methods">å­—ç¬¦ä¸²æ–°å¢æ–¹æ³•</a></p>
<h2 id="4-å‡½æ•°"><a href="#4-å‡½æ•°" class="headerlink" title="4. å‡½æ•°"></a>4. å‡½æ•°</h2><p><strong>ES6ä¸ºå‚æ•°æä¾›äº†é»˜è®¤å€¼ã€‚</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">action</span>(<span class="params">num = <span class="number">200</span></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(num)</span><br><span class="line">&#125;</span><br><span class="line">action() <span class="comment">//200</span></span><br><span class="line">action(<span class="number">300</span>) <span class="comment">//300</span></span><br></pre></td></tr></table></figure>
<p><strong>ç®­å¤´å‡½æ•°</strong></p>
<p>ç‰¹ç‚¹:</p>
<ul>
<li>ä¸éœ€è¦functionå…³é”®å­—æ¥åˆ›å»ºå‡½æ•°</li>
<li>çœç•¥returnå…³é”®å­—</li>
<li>ç»§æ‰¿å½“å‰ä¸Šä¸‹æ–‡çš„ this å…³é”®å­—</li>
</ul>
<p>å‡½æ•°æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œæ˜¯å¯ä»¥çœç•¥æ‹¬å·ã€‚å‡½æ•°è¿”å›æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªè¡¨è¾¾å¼çš„æ—¶å€™å¯ä»¥çœç•¥{}ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="function">(<span class="params">name, age</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> fullName = name + age</span><br><span class="line">    <span class="keyword">return</span> fullName</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(p(<span class="string">&quot;java&quot;</span>, <span class="number">20</span>));</span><br></pre></td></tr></table></figure>


<h2 id="5-å¯¹è±¡çš„æ‹“å±•"><a href="#5-å¯¹è±¡çš„æ‹“å±•" class="headerlink" title="5. å¯¹è±¡çš„æ‹“å±•"></a>5. å¯¹è±¡çš„æ‹“å±•</h2><p><strong>å¯¹è±¡åˆå§‹åŒ–ç®€å†™</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é”®å€¼å¯¹é‡åï¼ŒES6å¯ä»¥ç®€å†™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">p</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name,</span><br><span class="line">        age</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(p(<span class="string">&quot;java&quot;</span>, <span class="number">20</span>));</span><br></pre></td></tr></table></figure>
<p><strong>ä¸ºå¯¹è±¡å­—é¢é‡æ–¹æ³•èµ‹å€¼</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p = &#123;</span><br><span class="line">    name: <span class="string">&#x27;java&#x27;</span>,</span><br><span class="line">    getName () &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">p.getName()</span><br></pre></td></tr></table></figure>
<p><strong>æµ…å¤åˆ¶</strong></p>
<p>ES6 å¯¹è±¡æä¾›äº† <code>Object.assign()  </code>  è¿™ä¸ªæ–¹æ³•æ¥å®ç°æµ…å¤åˆ¶ã€‚Object.assign() å¯ä»¥æŠŠä»»æ„å¤šä¸ªæºå¯¹è±¡è‡ªèº«å¯æšä¸¾çš„å±æ€§æ‹·è´ç»™ç›®æ ‡å¯¹è±¡ï¼Œç„¶åè¿”å›ç›®æ ‡å¯¹è±¡ã€‚ç¬¬ä¸€å‚æ•°ä¸ºç›®æ ‡å¯¹è±¡ã€‚åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸ºäº†ä¸æ”¹å˜æºå¯¹è±¡ã€‚ä¸€èˆ¬ä¼šæŠŠç›®æ ‡å¯¹è±¡ä¼ ä¸º {}ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> p = &#123;</span><br><span class="line">    name: <span class="string">&#x27;java&#x27;</span>,</span><br><span class="line">    getName () &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="built_in">Object</span>.assign(&#123;&#125;, p)</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>


<h2 id="6-æ¨¡å—åŒ–"><a href="#6-æ¨¡å—åŒ–" class="headerlink" title="6. æ¨¡å—åŒ–"></a>6. æ¨¡å—åŒ–</h2><h3 id="CommonJs-requireçš„ä½¿ç”¨"><a href="#CommonJs-requireçš„ä½¿ç”¨" class="headerlink" title="CommonJs requireçš„ä½¿ç”¨"></a>CommonJs requireçš„ä½¿ç”¨</h3><ul>
<li>a.js </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;hello module a&quot;</span>)</span><br><span class="line"><span class="built_in">exports</span>.x = <span class="number">1</span>  <span class="comment">// å‘å¤–éƒ¨æš´éœ²å˜é‡å’Œæ–¹æ³•</span></span><br></pre></td></tr></table></figure>
<ul>
<li>b.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> A = <span class="built_in">require</span>(<span class="string">&quot;./a.js&quot;</span>); <span class="comment">// å¼•å…¥æ¨¡å—a</span></span><br><span class="line"><span class="built_in">console</span>.log(A.x)</span><br></pre></td></tr></table></figure>
<p>node ä¸­çš„å…¨å±€å˜é‡ä¸º globalï¼Œå…¨å±€ä¸­åˆ›å»ºçš„å˜é‡ä½œä¸º global çš„å±æ€§ä¿å­˜ï¼Œå…¨å±€ä¸­åˆ›å»ºçš„æ–¹æ³•ä½œä¸º global çš„æ–¹æ³•ä¿å­˜ã€‚</p>
<h3 id="import-å’Œ-export"><a href="#import-å’Œ-export" class="headerlink" title="import å’Œ export"></a>import å’Œ export</h3><h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><ul>
<li>a.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ†åˆ«æš´éœ²</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">&quot;java&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;hello &quot;</span> + name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>b.js</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é€šç”¨çš„å¼•å…¥æ–¹å¼</span></span><br><span class="line"><span class="keyword">import</span> * as A from <span class="string">&#x27;./a.js&#x27;</span></span><br><span class="line">A.hello()</span><br></pre></td></tr></table></figure>
<h4 id="ES6-çš„å‡ ç§æš´éœ²æ–¹å¼"><a href="#ES6-çš„å‡ ç§æš´éœ²æ–¹å¼" class="headerlink" title="ES6 çš„å‡ ç§æš´éœ²æ–¹å¼"></a>ES6 çš„å‡ ç§æš´éœ²æ–¹å¼</h4><ul>
<li>ç»Ÿä¸€æš´éœ²</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;java&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;hello &quot;</span> + name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123;name, hello&#125;  </span><br></pre></td></tr></table></figure>
<ul>
<li>é»˜è®¤æš´éœ²</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name : <span class="string">&quot;java&quot;</span>,</span><br><span class="line">    hello: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;hello es6&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™ç§å¼•å…¥æ–¹å¼åœ¨è°ƒç”¨æ˜¯è¦åŠ  defaultï¼Œä¾‹å¦‚ A.default.hello()</span></span><br><span class="line"><span class="comment">// ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œæœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªexport default</span></span><br></pre></td></tr></table></figure>
<h4 id="ES6-çš„å‡ ç§å¼•å…¥æ–¹å¼"><a href="#ES6-çš„å‡ ç§å¼•å…¥æ–¹å¼" class="headerlink" title="ES6 çš„å‡ ç§å¼•å…¥æ–¹å¼"></a>ES6 çš„å‡ ç§å¼•å…¥æ–¹å¼</h4><ul>
<li>è§£æ„èµ‹å€¼å½¢å¼1</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">&quot;java&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;hello &quot;</span> + name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;name, hello&#125; <span class="keyword">from</span> <span class="string">&#x27;./a.js&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(name)</span><br></pre></td></tr></table></figure>
<ul>
<li>è§£æ„èµ‹å€¼å½¢å¼2</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    name : <span class="string">&quot;java&quot;</span>,</span><br><span class="line">    hello: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;hello es6&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="keyword">default</span> <span class="keyword">as</span> A&#125; <span class="keyword">from</span> <span class="string">&#x27;./a.js&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(A.name)</span><br><span class="line">A.hello()</span><br></pre></td></tr></table></figure>
<ul>
<li>ç®€ä¾¿å½¢å¼ï¼ˆé’ˆå¯¹é»˜è®¤æš´éœ²ï¼‰</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">import</span> A <span class="keyword">from</span> <span class="string">&#x27;./a.js&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(A.name)</span><br><span class="line">A.hello()</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ES6</category>
      </categories>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoæ­å»ºåšå®¢</title>
    <url>/2021/01/10/Hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>Hexoæ­å»ºåšå®¢</p>
<ol>
<li>Hexo çš„å®‰è£…å‚è€ƒ  <a href="https://hexo.io/zh-cn/docs/">Hexoå®˜æ–¹æ–‡æ¡£</a></li>
<li>å®‰è£… Next ä¸»é¢˜ï¼Œå‚è€ƒ  <a href="http://theme-next.iissnan.com/getting-started.html">Nextä¸»é¢˜å®˜æ–¹æ–‡æ¡£</a></li>
</ol>
<p>åŸºæœ¬å‘½ä»¤ï¼š</p>
<ul>
<li>æ–°å»ºä¸€ç¯‡åšå®¢</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new post &lt;title&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>ç”Ÿæˆ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>
<ul>
<li>æ¸…é™¤</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure>
<ul>
<li>éƒ¨ç½²</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<ul>
<li>æœ¬åœ°å¯åŠ¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo s -p &lt;port&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - Class ä¸ Style ç»‘å®š</title>
    <url>/2021/01/11/Vue%20-%20Class%20%E4%B8%8E%20Style%20%E7%BB%91%E5%AE%9A/</url>
    <content><![CDATA[<h2 id="Vue-Class-ä¸-Style-ç»‘å®š"><a href="#Vue-Class-ä¸-Style-ç»‘å®š" class="headerlink" title="Vue - Class ä¸ Style ç»‘å®š"></a>Vue - Class ä¸ Style ç»‘å®š</h2><h3 id="ç»‘å®š-HTML-Class"><a href="#ç»‘å®š-HTML-Class" class="headerlink" title="ç»‘å®š HTML Class"></a>ç»‘å®š HTML Class</h3><h4 id="å¯¹è±¡è¯­æ³•"><a href="#å¯¹è±¡è¯­æ³•" class="headerlink" title="å¯¹è±¡è¯­æ³•"></a>å¯¹è±¡è¯­æ³•</h4><p>æˆ‘ä»¬å¯ä»¥ä¼ ç»™ <code>v-bind:class</code> ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥åŠ¨æ€åœ°åˆ‡æ¢ classï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123; active: isActive &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„è¯­æ³•è¡¨ç¤º <code>active</code> è¿™ä¸ª class å­˜åœ¨ä¸å¦å°†å–å†³äºæ•°æ® property <code>isActive</code>ã€‚</p>
<p>ç»‘å®šçš„æ•°æ®å¯¹è±¡ä¸å¿…å†…è”å®šä¹‰åœ¨æ¨¡æ¿é‡Œï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;classObject&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  classObject: &#123;</span><br><span class="line">    active: <span class="literal">true</span>,</span><br><span class="line">    <span class="string">&#x27;text-danger&#x27;</span>: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œç»‘å®šä¸€ä¸ªè¿”å›å¯¹è±¡çš„è®¡ç®—å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  classObject: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      active: <span class="literal">true</span>,</span><br><span class="line">      <span class="string">&#x27;text-danger&#x27;</span>: <span class="built_in">this</span>.error &amp;&amp; <span class="built_in">this</span>.error.type === <span class="string">&#x27;fatal&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="æ•°ç»„è¯­æ³•"><a href="#æ•°ç»„è¯­æ³•" class="headerlink" title="æ•°ç»„è¯­æ³•"></a>æ•°ç»„è¯­æ³•</h4><p>å¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„ä¼ ç»™ <code>v-bind:class</code>ï¼Œä»¥åº”ç”¨ä¸€ä¸ª class åˆ—è¡¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;[activeClass, errorClass]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  activeClass: <span class="string">&#x27;active&#x27;</span>,</span><br><span class="line">  errorClass: <span class="string">&#x27;text-danger&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³æ ¹æ®æ¡ä»¶åˆ‡æ¢åˆ—è¡¨ä¸­çš„ classï¼Œå¯ä»¥ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;[isActive ? activeClass : &#x27;&#x27;, errorClass]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨æ•°ç»„è¯­æ³•ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡è¯­æ³•ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;[&#123; active: isActive &#125;, errorClass]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h4 id="ç”¨åœ¨ç»„ä»¶ä¸Š"><a href="#ç”¨åœ¨ç»„ä»¶ä¸Š" class="headerlink" title="ç”¨åœ¨ç»„ä»¶ä¸Š"></a>ç”¨åœ¨ç»„ä»¶ä¸Š</h4><p>å½“åœ¨ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ä¸Šä½¿ç”¨ <code>class</code> property æ—¶ï¼Œè¿™äº› class å°†è¢«æ·»åŠ åˆ°è¯¥ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šé¢ã€‚è¿™ä¸ªå…ƒç´ ä¸Šå·²ç»å­˜åœ¨çš„ class ä¸ä¼šè¢«è¦†ç›–ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å£°æ˜äº†è¿™ä¸ªç»„ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">Vue.component(&#x27;my-component&#x27;, &#123;</span><br><span class="line">  template: &#x27;<span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;foo bar&quot;</span>&gt;</span>Hi<span class="tag">&lt;/<span class="name">p</span>&gt;</span>&#x27;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨ä½¿ç”¨å®ƒçš„æ—¶å€™æ·»åŠ ä¸€äº› classï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">class</span>=<span class="string">&quot;baz boo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>HTML å°†è¢«æ¸²æŸ“ä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;foo bar baz boo&quot;</span>&gt;</span>Hi<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¯¹äºå¸¦æ•°æ®ç»‘å®š class ä¹ŸåŒæ ·é€‚ç”¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;&#123; active: isActive &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å½“ <code>isActive</code> ä¸º trueæ—¶ï¼ŒHTML å°†è¢«æ¸²æŸ“æˆä¸ºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;foo bar active&quot;</span>&gt;</span>Hi<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="ç»‘å®šå†…è”æ ·å¼"><a href="#ç»‘å®šå†…è”æ ·å¼" class="headerlink" title="ç»‘å®šå†…è”æ ·å¼"></a>ç»‘å®šå†…è”æ ·å¼</h3><h4 id="å¯¹è±¡è¯­æ³•-1"><a href="#å¯¹è±¡è¯­æ³•-1" class="headerlink" title="å¯¹è±¡è¯­æ³•"></a>å¯¹è±¡è¯­æ³•</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:style</span>=<span class="string">&quot;&#123; color: activeColor, fontSize: fontSize + &#x27;px&#x27; &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  activeColor: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">  fontSize: <span class="number">30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥ç»‘å®šåˆ°ä¸€ä¸ªæ ·å¼å¯¹è±¡é€šå¸¸æ›´å¥½ï¼Œè¿™ä¼šè®©æ¨¡æ¿æ›´æ¸…æ™°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div v-bind:style=<span class="string">&quot;styleObject&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">data: &#123;</span><br><span class="line">  styleObject: &#123;</span><br><span class="line">    color: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">    fontSize: <span class="string">&#x27;13px&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æ•°ç»„è¯­æ³•-1"><a href="#æ•°ç»„è¯­æ³•-1" class="headerlink" title="æ•°ç»„è¯­æ³•"></a>æ•°ç»„è¯­æ³•</h4><p><code>v-bind:style</code> çš„æ•°ç»„è¯­æ³•å¯ä»¥å°†å¤šä¸ª<strong>æ ·å¼å¯¹è±¡</strong>åº”ç”¨åˆ°åŒä¸€ä¸ªå…ƒç´ ä¸Šï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:style</span>=<span class="string">&quot;[baseStyles, overridingStyles]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - Vue å®ä¾‹</title>
    <url>/2021/01/11/Vue%20-%20Vue%20%E5%AE%9E%E4%BE%8B/</url>
    <content><![CDATA[<h2 id="Vue-Vue-å®ä¾‹"><a href="#Vue-Vue-å®ä¾‹" class="headerlink" title="Vue - Vue å®ä¾‹"></a>Vue - Vue å®ä¾‹</h2><p>Vueå‚è€ƒæ–‡æ¡£ï¼š<a href="https://cn.vuejs.org/v2/guide/">Vueå‚è€ƒæ–‡æ¡£</a></p>
<h3 id="åˆ›å»ºä¸€ä¸ª-Vue-å®ä¾‹"><a href="#åˆ›å»ºä¸€ä¸ª-Vue-å®ä¾‹" class="headerlink" title="åˆ›å»ºä¸€ä¸ª Vue å®ä¾‹"></a>åˆ›å»ºä¸€ä¸ª Vue å®ä¾‹</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  <span class="comment">// é€‰é¡¹</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>é€‰é¡¹å¯¹è±¡</strong>å¯ä»¥åœ¨ <a href="https://cn.vuejs.org/v2/api/#%E9%80%89%E9%A1%B9-%E6%95%B0%E6%8D%AE">API æ–‡æ¡£</a>ä¸­æµè§ˆå®Œæ•´çš„é€‰é¡¹åˆ—è¡¨ã€‚</p>
<h3 id="æ•°æ®ä¸æ–¹æ³•"><a href="#æ•°æ®ä¸æ–¹æ³•" class="headerlink" title="æ•°æ®ä¸æ–¹æ³•"></a>æ•°æ®ä¸æ–¹æ³•</h3><p>å½“ä¸€ä¸ª Vue å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œå®ƒå°† <code>data</code> å¯¹è±¡ä¸­çš„æ‰€æœ‰çš„ property åŠ å…¥åˆ° Vue çš„<strong>å“åº”å¼ç³»ç»Ÿ</strong>ä¸­ã€‚å½“è¿™äº› property çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè§†å›¾å°†ä¼šäº§ç”Ÿâ€œå“åº”â€ï¼Œå³åŒ¹é…æ›´æ–°ä¸ºæ–°çš„å€¼ã€‚</p>
<h3 id="å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­"><a href="#å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­" class="headerlink" title="å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­"></a>å®ä¾‹ç”Ÿå‘½å‘¨æœŸé’©å­</h3><p>åœ¨å®ä¾‹ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µè¢«è°ƒç”¨ï¼Œå¦‚ <a href="https://cn.vuejs.org/v2/api/#created"><code>created</code></a> ã€ <a href="https://cn.vuejs.org/v2/api/#mounted"><code>mounted</code></a>ã€<a href="https://cn.vuejs.org/v2/api/#updated"><code>updated</code></a> å’Œ <a href="https://cn.vuejs.org/v2/api/#destroyed"><code>destroyed</code></a>ã€‚ç”Ÿå‘½å‘¨æœŸé’©å­çš„ <code>this</code> ä¸Šä¸‹æ–‡æŒ‡å‘è°ƒç”¨å®ƒçš„ Vue å®ä¾‹ã€‚</p>
<blockquote>
<p>ä¸è¦åœ¨é€‰é¡¹ property æˆ–å›è°ƒä¸Šä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œæ¯”å¦‚ <code>created: () =&gt; console.log(this.a)</code> æˆ– <code>vm.$watch(&#39;a&#39;, newValue =&gt; this.myMethod())</code>ã€‚å› ä¸ºç®­å¤´å‡½æ•°å¹¶æ²¡æœ‰ <code>this</code>ï¼Œ<code>this</code> ä¼šä½œä¸ºå˜é‡ä¸€ç›´å‘ä¸Šçº§è¯æ³•ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œç›´è‡³æ‰¾åˆ°ä¸ºæ­¢ï¼Œç»å¸¸å¯¼è‡´é”™è¯¯ã€‚</p>
</blockquote>
<h3 id="ç”Ÿå‘½å‘¨æœŸå›¾ç¤º"><a href="#ç”Ÿå‘½å‘¨æœŸå›¾ç¤º" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸå›¾ç¤º"></a>ç”Ÿå‘½å‘¨æœŸå›¾ç¤º</h3><p><img src="https://cn.vuejs.org/images/lifecycle.png" alt="ç”Ÿå‘½å‘¨æœŸ"></p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - Vue-cli åˆ›å»ºé¡¹ç›®</title>
    <url>/2021/01/12/Vue%20-%20Vue-cli%20%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h1 id="Vue-Vue-cli-åˆ›å»ºé¡¹ç›®"><a href="#Vue-Vue-cli-åˆ›å»ºé¡¹ç›®" class="headerlink" title="Vue - Vue-cli åˆ›å»ºé¡¹ç›®"></a>Vue - Vue-cli åˆ›å»ºé¡¹ç›®</h1><ul>
<li><p>å®‰è£… nodeï¼Œnpmï¼Œvue-cli</p>
</li>
<li><p>è¾“å…¥å‘½ä»¤ vue create project</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Vue CLI v4<span class="number">.5</span><span class="number">.3</span></span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚                                          â”‚</span><br><span class="line">â”‚   New version available <span class="number">4.5</span><span class="number">.3</span> â†’ <span class="number">4.5</span><span class="number">.10</span>   â”‚</span><br><span class="line">â”‚     Run npm i -g <span class="meta">@vue</span>/cli to update!     â”‚</span><br><span class="line">â”‚                                          â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line"></span><br><span class="line">? Please pick a preset:</span><br><span class="line">  coderxdk ([Vue <span class="number">2</span>] babel)</span><br><span class="line">  Default ([Vue <span class="number">2</span>] babel, eslint)</span><br><span class="line">  Default (Vue <span class="number">3</span> Preview) ([Vue <span class="number">3</span>] babel, eslint)</span><br><span class="line">&gt; Manually select features</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">? Please pick a preset: Manually select features</span><br><span class="line">? Check the features needed <span class="keyword">for</span> your project:</span><br><span class="line">&gt;( ) Choose Vue version</span><br><span class="line"> (*) Babel</span><br><span class="line"> ( ) TypeScript</span><br><span class="line"> ( ) <span class="function">Progressive Web <span class="title">App</span> <span class="params">(PWA)</span> Support</span></span><br><span class="line"><span class="function"> <span class="params">(*)</span> Router</span></span><br><span class="line"><span class="function"> <span class="params">(*)</span> Vuex</span></span><br><span class="line"><span class="function"> <span class="params">( )</span> CSS Pre-processors</span></span><br><span class="line"><span class="function"> <span class="params">( )</span> Linter / Formatter</span></span><br><span class="line"><span class="function"> <span class="params">( )</span> Unit Testing</span></span><br><span class="line"><span class="function"> <span class="params">( )</span> E2E Testing</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">? Please pick a preset: Manually select features</span><br><span class="line">? Check the features needed <span class="keyword">for</span> your project: Babel, Router, Vuex</span><br><span class="line">? Use history mode <span class="keyword">for</span> router? (Requires proper server setup <span class="keyword">for</span> index fallback in production) No</span><br><span class="line">? Where <span class="keyword">do</span> you prefer placing config <span class="keyword">for</span> Babel, ESLint, etc.?</span><br><span class="line">  In dedicated config files</span><br><span class="line">&gt; In <span class="keyword">package</span>.json</span><br><span class="line"><span class="comment">// è¿™é‡Œé—®æ˜¯å¦éœ€è¦å½“ä½œæ¨¡æ¿ä¿å­˜ï¼Œé€‰æ‹© no</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ğŸ‰  Successfully created project project.</span><br><span class="line">ğŸ‘‰  Get started with the following commands:</span><br><span class="line"> $ cd project</span><br><span class="line"> $ npm run serve</span><br><span class="line"> <span class="comment">// è‡³æ­¤åˆ›å»ºæˆåŠŸ</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - axiosåŸºæœ¬ä½¿ç”¨</title>
    <url>/2021/01/12/Vue%20-%20axios%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="Vue-axiosåŸºæœ¬ä½¿ç”¨"><a href="#Vue-axiosåŸºæœ¬ä½¿ç”¨" class="headerlink" title="Vue - axiosåŸºæœ¬ä½¿ç”¨"></a>Vue - axiosåŸºæœ¬ä½¿ç”¨</h2><p><a href="http://www.axios-js.com/zh-cn/docs/">axiosä¸­æ–‡æ–‡æ¡£</a></p>
<h3 id="åŸºæœ¬ç¤ºä¾‹"><a href="#åŸºæœ¬ç¤ºä¾‹" class="headerlink" title="åŸºæœ¬ç¤ºä¾‹"></a>åŸºæœ¬ç¤ºä¾‹</h3><p>å¯ä»¥ä½¿ç”¨ npm install axios æˆ–è€…å¯¼å…¥ axios.js æ–‡ä»¶å¼•å…¥axios</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; info &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      info: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    axios</span><br><span class="line">      .get(<span class="string">&#x27;https://api.coindesk.com/v1/bpi/currentprice.json&#x27;</span>)</span><br><span class="line">      .then(<span class="function"><span class="params">response</span> =&gt;</span> (<span class="built_in">this</span>.info = response))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="çœŸå®ç¤ºä¾‹ï¼šå’Œæ•°æ®ååŒå·¥ä½œ"><a href="#çœŸå®ç¤ºä¾‹ï¼šå’Œæ•°æ®ååŒå·¥ä½œ" class="headerlink" title="çœŸå®ç¤ºä¾‹ï¼šå’Œæ•°æ®ååŒå·¥ä½œ"></a>çœŸå®ç¤ºä¾‹ï¼šå’Œæ•°æ®ååŒå·¥ä½œ</h3><p><strong>ä»ä¸€ä¸ª API å±•ç¤ºæ•°æ®</strong></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦çš„ä»·æ ¼ä¿¡æ¯åœ¨ <code>response.data.bpi</code> ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">axios</span><br><span class="line">  .get(<span class="string">&#x27;https://api.coindesk.com/v1/bpi/currentprice.json&#x27;</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> (<span class="built_in">this</span>.info = response.data.bpi))</span><br></pre></td></tr></table></figure>
<p>è¿™è®©å±•ç¤ºçš„å·¥ä½œå˜å¾—å®¹æ˜“äº†å¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ›´æ–° HTML ä»¥ä»è·å–çš„æ•°æ®ä¸­ä»…ä»…å±•ç¤ºçœŸæ­£éœ€è¦çš„ä¿¡æ¯ã€‚æˆ‘ä»¬ä¼šåˆ›å»ºä¸€ä¸ª<a href="https://cn.vuejs.org/v2/api/#Vue-filter">è¿‡æ»¤å™¨</a>æ¥ç¡®ä¿å°æ•°éƒ¨åˆ†çš„åˆç†å±•ç¤ºã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">filters: &#123;</span><br><span class="line">  currencydecimal (value) &#123;</span><br><span class="line">    <span class="keyword">return</span> value.toFixed(<span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Bitcoin Price Index<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  &lt;div</span><br><span class="line">    v-for=&quot;currency in info&quot;</span><br><span class="line">    class=&quot;currency&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &#123;&#123; currency.description &#125;&#125;:</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;lighten&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-html</span>=<span class="string">&quot;currency.symbol&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#123;&#123; currency.rate_float | currencydecimal &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p><strong>é”™è¯¯å¤„ç†</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">axios</span><br><span class="line">  .get(<span class="string">&#x27;https://api.coindesk.com/v1/bpi/currentprice.json&#x27;</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> (<span class="built_in">this</span>.info = response.data.bpi))</span><br><span class="line">  .catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="built_in">console</span>.log(error))</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - routeråŸºæœ¬ä½¿ç”¨</title>
    <url>/2021/01/17/Vue%20-%20router%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="Vue-routeråŸºæœ¬ä½¿ç”¨"><a href="#Vue-routeråŸºæœ¬ä½¿ç”¨" class="headerlink" title="Vue - routeråŸºæœ¬ä½¿ç”¨"></a>Vue - routeråŸºæœ¬ä½¿ç”¨</h2><p><a href="https://router.vuejs.org/zh/guide/">vue-router å‚è€ƒæ–‡æ¡£</a></p>
<h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><ul>
<li>å®‰è£…  <code>npm install vue-router --save </code></li>
<li>åˆ›å»ºè·¯ç”±ç»„ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    This is help page!</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;Help&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>å¯¼å…¥è·¯ç”±ï¼Œä½¿ç”¨è·¯ç”±ï¼Œé…ç½®æ˜ å°„</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&#x27;../views/Home.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    name: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    component: Home</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    name: <span class="string">&#x27;About&#x27;</span>,</span><br><span class="line">    component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/About.vue&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">   path: <span class="string">&#x27;/help&#x27;</span>,</span><br><span class="line">   name: <span class="string">&#x27;Help&#x27;</span>,</span><br><span class="line">   component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/Help.vue&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>
<ul>
<li>æŒ‚è½½è·¯ç”±å®ä¾‹</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>è§†å›¾æ¸²æŸ“</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;nav&quot;&gt;</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;&quot;&gt;Home&lt;&#x2F;router-link&gt; |</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;about&quot;&gt;About&lt;&#x2F;router-link&gt; |</span><br><span class="line">      &lt;router-link to&#x3D;&quot;&#x2F;help&quot;&gt;Help&lt;&#x2F;router-link&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;router-view&#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>è®¾ç½®historyæ¨¡å¼</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  routes,</span><br><span class="line">  mode: <span class="string">&#x27;history&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="ä»£ç æ§åˆ¶è·¯ç”±"><a href="#ä»£ç æ§åˆ¶è·¯ç”±" class="headerlink" title="ä»£ç æ§åˆ¶è·¯ç”±"></a>ä»£ç æ§åˆ¶è·¯ç”±</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;button @click&#x3D;&quot;toHelp&quot;&gt;Help&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* routerä¸ºVueRouterçš„å®ä¾‹ï¼Œç›¸å½“äºä¸€ä¸ªå…¨å±€çš„è·¯ç”±å™¨å¯¹è±¡ï¼Œé‡Œé¢å«æœ‰å¾ˆå¤šå±æ€§å’Œå­å¯¹è±¡ï¼Œ</span></span><br><span class="line"><span class="comment">ä¾‹å¦‚historyå¯¹è±¡ã€‚ç»å¸¸ç”¨çš„è·³è½¬é“¾æ¥å°±å¯ä»¥ç”¨this.$router.push æ¥å®Œæˆã€‚</span></span><br><span class="line"><span class="comment">this.$router.pushä¼šå¾€historyæ ˆä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„è®°å½•ã€‚</span></span><br><span class="line"><span class="comment">è¯¦è§å®˜æ–¹æ–‡æ¡£https://router.vuejs.org/zh/guide/essentials/navigation.html</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">routeç›¸å½“äºå½“å‰æ­£åœ¨è·³è½¬çš„è·¯ç”±å¯¹è±¡ã€‚ </span></span><br><span class="line"><span class="comment">å¯ä»¥ä»é‡Œé¢è·å–name, path, params, queryç­‰ã€‚*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        <span class="function"><span class="title">toHelp</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.$router);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.$route);</span><br><span class="line">            <span class="built_in">this</span>.$router.push(<span class="string">&#x27;/help&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="åŠ¨æ€è·¯ç”±"><a href="#åŠ¨æ€è·¯ç”±" class="headerlink" title="åŠ¨æ€è·¯ç”±"></a>åŠ¨æ€è·¯ç”±</h3><h4 id="ç®€å•ä½¿ç”¨"><a href="#ç®€å•ä½¿ç”¨" class="headerlink" title="ç®€å•ä½¿ç”¨"></a>ç®€å•ä½¿ç”¨</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">&#x27;/help/:id&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;Help&#x27;</span>,</span><br><span class="line">  component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/Help.vue&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;router-link v-bind:to=<span class="string">&quot;/help/+id&quot;</span>&gt;Help&lt;/router-link&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            id: <span class="number">0</span></span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å– id å‚æ•°</span></span><br><span class="line">&#123;&#123;<span class="built_in">this</span>.$route.params.id&#125;&#125;</span><br></pre></td></tr></table></figure>


<h3 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h3><ul>
<li>æ–°å»ºç»„ä»¶HomeNews.vue</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;&lt;h2&gt;This is news page&lt;&#x2F;h2&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;HomeNews&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>é…ç½®æ˜ å°„å…³ç³»</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">  name: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">  component: Home,</span><br><span class="line">  children: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">      component: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/HomeNews.vue&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Home.vue ä¸­æ·»åŠ </li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;router-link to&#x3D;&quot;&#x2F;home&#x2F;news&quot;&gt;å»Newsé¡µé¢&lt;&#x2F;router-link&gt;</span><br><span class="line">&lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br></pre></td></tr></table></figure>


<h3 id="å‚æ•°ä¼ é€’"><a href="#å‚æ•°ä¼ é€’" class="headerlink" title="å‚æ•°ä¼ é€’"></a>å‚æ•°ä¼ é€’</h3><ol>
<li><p>ä¸Šé¢æåˆ°çš„paramså°±æ˜¯ä¸€ç§å‚æ•°ä¼ é€’çš„æ–¹å¼</p>
</li>
<li><p>query æ–¹å¼</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;router-link v-bind:to&#x3D;&quot;&#123;path: &#39;&#x2F;profile&#39;, query: &#123;id: 10&#125;&#125;&quot;&gt;Profile&lt;&#x2F;router-link&gt;</span><br></pre></td></tr></table></figure>
<p>å–å‡ºå‚æ•°</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;h3&gt;&#123;&#123;$route.query&#125;&#125;&lt;&#x2F;h3&gt;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="å¯¼èˆªå®ˆå«"><a href="#å¯¼èˆªå®ˆå«" class="headerlink" title="å¯¼èˆªå®ˆå«"></a>å¯¼èˆªå®ˆå«</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åŠ¨æ€ä¿®æ”¹ç½‘é¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">// å‰ç½®é’©å­</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ä» from è·³åˆ° to</span></span><br><span class="line">  <span class="built_in">document</span>.title = to.name</span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åç½®é’©å­</span></span><br><span class="line">router.afterEach(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="keep-alive-ç»„ä»¶ç¼“å­˜"><a href="#keep-alive-ç»„ä»¶ç¼“å­˜" class="headerlink" title="keep-alive ç»„ä»¶ç¼“å­˜"></a>keep-alive ç»„ä»¶ç¼“å­˜</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  &lt;router-view&gt;&lt;&#x2F;router-view&gt;</span><br><span class="line">&lt;&#x2F;keep-alive&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - slotåŸºæœ¬ä½¿ç”¨</title>
    <url>/2021/01/17/Vue%20-%20slot%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h2 id="Vue-slotåŸºæœ¬ä½¿ç”¨"><a href="#Vue-slotåŸºæœ¬ä½¿ç”¨" class="headerlink" title="Vue - slotåŸºæœ¬ä½¿ç”¨"></a>Vue - slotåŸºæœ¬ä½¿ç”¨</h2><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p><strong>æ–¹å¼1</strong> </p>
<ul>
<li>main.js ä¸­æ·»åŠ </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;cpn&#x27;</span>, &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;div&gt;</span></span><br><span class="line"><span class="string">        &lt;strong&gt;slot æ’æ§½&lt;/strong&gt;</span></span><br><span class="line"><span class="string">        &lt;slot&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨ç»„ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;cpn&gt;&lt;p&gt;slotå†…å®¹1&lt;&#x2F;p&gt;&lt;&#x2F;cpn&gt;</span><br><span class="line">    &lt;cpn&gt;&lt;p&gt;slotå†…å®¹2&lt;&#x2F;p&gt;&lt;&#x2F;cpn&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ·»åŠ vue.config.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    runtimeCompiler: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ–¹å¼2</strong></p>
<ul>
<li>åˆ›å»ºç»„ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    Cpn2</span><br><span class="line">    &lt;slot&gt;&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;Cpn2&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ³¨å†Œç»„ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    import Cpn2 from &#39;@&#x2F;views&#x2F;Cpn2.vue&#39;  &#x2F;&#x2F; @ ç­‰ä»·äº &#x2F;src è¿™ä¸ªç›®å½•</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;MySlot&quot;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            Cpn2</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨ç»„ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;Cpn2&gt;&lt;p&gt;cpn2 å“ˆå“ˆå“ˆ&lt;&#x2F;p&gt;&lt;&#x2F;Cpn2&gt;</span><br></pre></td></tr></table></figure>


<h3 id="å…·åæ’æ§½çš„ä½¿ç”¨"><a href="#å…·åæ’æ§½çš„ä½¿ç”¨" class="headerlink" title="å…·åæ’æ§½çš„ä½¿ç”¨"></a>å…·åæ’æ§½çš„ä½¿ç”¨</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- ä¸ºæ’æ§½è®¾ç½® name --&gt;</span><br><span class="line">&lt;slot name&#x3D;&quot;left&quot;&gt;&lt;&#x2F;slot&gt;  </span><br><span class="line">&lt;!-- æŒ‡å®šæ’æ§½ --&gt;</span><br><span class="line">&lt;Cpn2&gt;&lt;p slot&#x3D;&quot;left&quot;&gt;left å“ˆå“ˆå“ˆ&lt;&#x2F;p&gt;&lt;&#x2F;Cpn2&gt;</span><br></pre></td></tr></table></figure>


<h3 id="ç¼–è¯‘ä½œç”¨åŸŸ"><a href="#ç¼–è¯‘ä½œç”¨åŸŸ" class="headerlink" title="ç¼–è¯‘ä½œç”¨åŸŸ"></a>ç¼–è¯‘ä½œç”¨åŸŸ</h3><p>çˆ¶çº§æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ï¼›å­æ¨¡æ¿é‡Œçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘çš„ã€‚</p>
<h3 id="ä½œç”¨åŸŸæ’æ§½çš„ä½¿ç”¨"><a href="#ä½œç”¨åŸŸæ’æ§½çš„ä½¿ç”¨" class="headerlink" title="ä½œç”¨åŸŸæ’æ§½çš„ä½¿ç”¨"></a>ä½œç”¨åŸŸæ’æ§½çš„ä½¿ç”¨</h3><ul>
<li>Cpn2.vue</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;slot :data&#x3D;&quot;pl&quot;&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">        &lt;li v-for&#x3D;&quot;item in pl&quot;&gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;li&gt;</span><br><span class="line">      &lt;&#x2F;ul&gt;</span><br><span class="line">  	&lt;&#x2F;slot&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &quot;Cpn2&quot;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                pl: [&#39;Java&#39;, &#39;C++&#39;, &#39;C#&#39;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä½¿ç”¨</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- çˆ¶ç»„ä»¶è·å–åˆ°å­ç»„ä»¶çš„æ•°æ®ï¼Œä»¥å¦ä¸€ç§æ–¹å¼è¿›è¡Œå±•ç¤º --&gt;</span><br><span class="line">&lt;Cpn2&gt;</span><br><span class="line">  &lt;template slot-scope&#x3D;&quot;slot&quot;&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123;slot.data.join(&#39; - &#39;)&#125;&#125;&lt;&#x2F;span&gt;</span><br><span class="line">  &lt;&#x2F;template&gt;</span><br><span class="line">&lt;&#x2F;Cpn2&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - vuexåŸºæœ¬ä½¿ç”¨</title>
    <url>/2021/01/12/Vue%20-%20vuex%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h1 id="Vue-vuexåŸºæœ¬ä½¿ç”¨"><a href="#Vue-vuexåŸºæœ¬ä½¿ç”¨" class="headerlink" title="Vue - vuexåŸºæœ¬ä½¿ç”¨"></a>Vue - vuexåŸºæœ¬ä½¿ç”¨</h1><p><a href="https://vuex.vuejs.org/zh/guide/">vuexå‚è€ƒæ–‡æ¡£</a></p>
<p>æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„**çŠ¶æ€ (state)**ã€‚Vuex å’Œå•çº¯çš„å…¨å±€å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ç‚¹ä¸åŒï¼š</p>
<ol>
<li>Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚</li>
<li>ä¸èƒ½ç›´æ¥æ”¹å˜ store ä¸­çš„çŠ¶æ€ã€‚æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°<strong>æäº¤ (commit) mutation</strong>ã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®ç°ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£æˆ‘ä»¬çš„åº”ç”¨ã€‚</li>
</ol>
<h2 id="æœ€ç®€å•çš„-Store"><a href="#æœ€ç®€å•çš„-Store" class="headerlink" title="æœ€ç®€å•çš„ Store"></a>æœ€ç®€å•çš„ Store</h2><p>å®‰è£… <code>npm install vuex --save</code></p>
<p><code>store/index.js ä»£ç </code></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    <span class="function"><span class="title">increment</span>(<span class="params">state</span>)</span>&#123;</span><br><span class="line">      state.count++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  modules: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†åœ¨ Vue ç»„ä»¶ä¸­è®¿é—® <code>this.$store</code> propertyï¼Œéœ€è¦ä¸º Vue å®ä¾‹æä¾›åˆ›å»ºå¥½çš„ storeã€‚Vuex æä¾›äº†ä¸€ä¸ªä»æ ¹ç»„ä»¶å‘æ‰€æœ‰å­ç»„ä»¶ï¼Œä»¥ <code>store</code> é€‰é¡¹çš„æ–¹å¼â€œæ³¨å…¥â€è¯¥ store çš„æœºåˆ¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,  <span class="comment">// key å’Œè¢«ä¼ å…¥çš„å˜é‡ åŒå</span></span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥ä»ç»„ä»¶çš„æ–¹æ³•æäº¤ä¸€ä¸ªå˜æ›´ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;about&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;cnt&#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;increment&quot;&gt;+ 1&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">        name: &#39;About&#39;,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                cnt: &#39;&#39;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            increment() &#123;</span><br><span class="line">                this.$store.commit(&#39;increment&#39;)</span><br><span class="line">                this.cnt &#x3D; this.$store.state.count</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p> å¯ä»¥æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œä½¿ç”¨vueæ’ä»¶æŸ¥çœ‹å˜æ›´è®°å½•ã€‚å†æ¬¡å¼ºè°ƒï¼Œæˆ‘ä»¬é€šè¿‡æäº¤ mutation çš„æ–¹å¼ï¼Œè€Œéç›´æ¥æ”¹å˜ <code>store.state.count</code>ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æƒ³è¦æ›´æ˜ç¡®åœ°è¿½è¸ªåˆ°çŠ¶æ€çš„å˜åŒ–ã€‚è¿™æ ·ä¹Ÿè®©æˆ‘ä»¬æœ‰æœºä¼šå»å®ç°ä¸€äº›èƒ½è®°å½•æ¯æ¬¡çŠ¶æ€æ”¹å˜ï¼Œä¿å­˜çŠ¶æ€å¿«ç…§çš„è°ƒè¯•å·¥å…·ã€‚</p>
<p><img src="https://vuex.vuejs.org/vuex.png"></p>
<h2 id="State"><a href="#State" class="headerlink" title="State"></a>State</h2><h3 id="å•ä¸€çŠ¶æ€æ ‘"><a href="#å•ä¸€çŠ¶æ€æ ‘" class="headerlink" title="å•ä¸€çŠ¶æ€æ ‘"></a>å•ä¸€çŠ¶æ€æ ‘</h3><p>Vuex ä½¿ç”¨<strong>å•ä¸€çŠ¶æ€æ ‘</strong>ï¼Œç”¨ä¸€ä¸ªå¯¹è±¡å°±åŒ…å«äº†å…¨éƒ¨çš„åº”ç”¨å±‚çº§çŠ¶æ€ã€‚æ¯ä¸ªåº”ç”¨å°†ä»…ä»…åŒ…å«ä¸€ä¸ª store å®ä¾‹ã€‚</p>
<h3 id="åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—-Vuex-çŠ¶æ€"><a href="#åœ¨-Vue-ç»„ä»¶ä¸­è·å¾—-Vuex-çŠ¶æ€" class="headerlink" title="åœ¨ Vue ç»„ä»¶ä¸­è·å¾— Vuex çŠ¶æ€"></a>åœ¨ Vue ç»„ä»¶ä¸­è·å¾— Vuex çŠ¶æ€</h3><p>ç”±äº Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ï¼Œä» store å®ä¾‹ä¸­è¯»å–çŠ¶æ€æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯åœ¨è®¡ç®—å±æ€§ä¸­è¿”å›æŸä¸ªçŠ¶æ€ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ª Counter ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> Counter = &#123;</span><br><span class="line">  template: <span class="string">`&lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;`</span>,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    count () &#123;</span><br><span class="line">      <span class="keyword">return</span> store.state.count</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯å½“ <code>store.state.count</code> å˜åŒ–çš„æ—¶å€™, éƒ½ä¼šé‡æ–°æ±‚å–è®¡ç®—å±æ€§ï¼Œå¹¶ä¸”è§¦å‘æ›´æ–°ç›¸å…³è”çš„ DOMã€‚</p>
<p>Vuex é€šè¿‡ <code>store</code> é€‰é¡¹ï¼Œæä¾›äº†ä¸€ç§æœºåˆ¶å°†çŠ¶æ€ä»æ ¹ç»„ä»¶â€œæ³¨å…¥â€åˆ°æ¯ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼ˆéœ€è°ƒç”¨ <code>Vue.use(Vuex)</code>ï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="comment">// æŠŠ store å¯¹è±¡æä¾›ç»™ store é€‰é¡¹ï¼Œè¿™å¯ä»¥æŠŠ store çš„å®ä¾‹æ³¨å…¥æ‰€æœ‰çš„å­ç»„ä»¶</span></span><br><span class="line">  store,</span><br><span class="line">  components: &#123; Counter &#125;,</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;app&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;counter&gt;&lt;/counter&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡åœ¨æ ¹å®ä¾‹ä¸­æ³¨å†Œ <code>store</code> é€‰é¡¹ï¼Œè¯¥ store å®ä¾‹ä¼šæ³¨å…¥åˆ°æ ¹ç»„ä»¶ä¸‹çš„æ‰€æœ‰å­ç»„ä»¶ä¸­ï¼Œä¸”å­ç»„ä»¶èƒ½é€šè¿‡ <code>this.$store</code> è®¿é—®åˆ°ã€‚è®©æˆ‘ä»¬æ›´æ–°ä¸‹ <code>Counter</code> çš„å®ç°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> Counter = &#123;</span><br><span class="line">  template: <span class="string">`&lt;div&gt;&#123;&#123; count &#125;&#125;&lt;/div&gt;`</span>,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    count () &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.$store.state.count</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="Getter"><a href="#Getter" class="headerlink" title="Getter"></a>Getter</h2><p>Vuex å…è®¸æˆ‘ä»¬åœ¨ store ä¸­å®šä¹‰â€œgetterâ€ï¼ˆå¯ä»¥è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§ï¼‰ã€‚å°±åƒè®¡ç®—å±æ€§ä¸€æ ·ï¼Œgetter çš„è¿”å›å€¼ä¼šæ ¹æ®å®ƒçš„ä¾èµ–è¢«ç¼“å­˜èµ·æ¥ï¼Œä¸”åªæœ‰å½“å®ƒçš„ä¾èµ–å€¼å‘ç”Ÿäº†æ”¹å˜æ‰ä¼šè¢«é‡æ–°è®¡ç®—ã€‚</p>
<p>Getter æ¥å— state ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    todos: [</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">text</span>: <span class="string">&#x27;...&#x27;</span>, <span class="attr">done</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">text</span>: <span class="string">&#x27;...&#x27;</span>, <span class="attr">done</span>: <span class="literal">false</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    doneTodos: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> state.todos.filter(<span class="function"><span class="params">todo</span> =&gt;</span> todo.done)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="é€šè¿‡å±æ€§è®¿é—®"><a href="#é€šè¿‡å±æ€§è®¿é—®" class="headerlink" title="é€šè¿‡å±æ€§è®¿é—®"></a>é€šè¿‡å±æ€§è®¿é—®</h3><p>Getter ä¼šæš´éœ²ä¸º <code>store.getters</code> å¯¹è±¡ï¼Œä½ å¯ä»¥ä»¥å±æ€§çš„å½¢å¼è®¿é—®è¿™äº›å€¼ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store.getters.doneTodos <span class="comment">// -&gt; [&#123; id: 1, text: &#x27;...&#x27;, done: true &#125;]</span></span><br></pre></td></tr></table></figure>
<p>Getter ä¹Ÿå¯ä»¥æ¥å—å…¶ä»– getter ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  doneTodosCount: <span class="function">(<span class="params">state, getters</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> getters.doneTodos.length</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store.getters.doneTodosCount <span class="comment">// -&gt; 1</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨ä»»ä½•ç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">  doneTodosCount () &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.$store.getters.doneTodosCount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œgetter åœ¨é€šè¿‡å±æ€§è®¿é—®æ—¶æ˜¯ä½œä¸º Vue çš„å“åº”å¼ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ç¼“å­˜å…¶ä¸­çš„ã€‚</p>
<h3 id="é€šè¿‡æ–¹æ³•è®¿é—®"><a href="#é€šè¿‡æ–¹æ³•è®¿é—®" class="headerlink" title="é€šè¿‡æ–¹æ³•è®¿é—®"></a>é€šè¿‡æ–¹æ³•è®¿é—®</h3><p>ä½ ä¹Ÿå¯ä»¥é€šè¿‡è®© getter è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å®ç°ç»™ getter ä¼ å‚ã€‚åœ¨ä½ å¯¹ store é‡Œçš„æ•°ç»„è¿›è¡ŒæŸ¥è¯¢æ—¶éå¸¸æœ‰ç”¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  getTodoById: <span class="function">(<span class="params">state</span>) =&gt;</span> <span class="function">(<span class="params">id</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> state.todos.find(<span class="function"><span class="params">todo</span> =&gt;</span> todo.id === id)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store.getters.getTodoById(<span class="number">2</span>) <span class="comment">// -&gt; &#123; id: 2, text: &#x27;...&#x27;, done: false &#125;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œgetter åœ¨é€šè¿‡æ–¹æ³•è®¿é—®æ—¶ï¼Œæ¯æ¬¡éƒ½ä¼šå»è¿›è¡Œè°ƒç”¨ï¼Œè€Œä¸ä¼šç¼“å­˜ç»“æœã€‚</p>
<h2 id="Mutation"><a href="#Mutation" class="headerlink" title="Mutation"></a>Mutation</h2><p>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„ <strong>äº‹ä»¶ç±»å‹ (type)</strong> å’Œ ä¸€ä¸ª **å›è°ƒå‡½æ•° (handler)**ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä¸èƒ½ç›´æ¥è°ƒç”¨ mutation handlerã€‚è¿™ä¸ªé€‰é¡¹æ›´åƒæ˜¯äº‹ä»¶æ³¨å†Œï¼šâ€œå½“è§¦å‘ä¸€ä¸ªç±»å‹ä¸º <code>increment</code> çš„ mutation æ—¶ï¼Œè°ƒç”¨æ­¤å‡½æ•°ã€‚â€è¦å”¤é†’ä¸€ä¸ª mutation handlerï¼Œä½ éœ€è¦ä»¥ç›¸åº”çš„ type è°ƒç”¨ <strong>store.commit</strong> æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store.commit(<span class="string">&#x27;increment&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="æäº¤è½½è·ï¼ˆPayloadï¼‰"><a href="#æäº¤è½½è·ï¼ˆPayloadï¼‰" class="headerlink" title="æäº¤è½½è·ï¼ˆPayloadï¼‰"></a>æäº¤è½½è·ï¼ˆPayloadï¼‰</h3><p>ä½ å¯ä»¥å‘ <code>store.commit</code> ä¼ å…¥é¢å¤–çš„å‚æ•°ï¼Œå³ mutation çš„ <strong>è½½è·ï¼ˆpayloadï¼‰</strong>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  increment (state, n) &#123;</span><br><span class="line">    state.count += n</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store.commit(<span class="string">&#x27;increment&#x27;</span>, <span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè½½è·åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µå¹¶ä¸”è®°å½•çš„ mutation ä¼šæ›´æ˜“è¯»ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  increment (state, payload) &#123;</span><br><span class="line">    state.count += payload.amount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store.commit(<span class="string">&#x27;increment&#x27;</span>, &#123;</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼"><a href="#å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼" class="headerlink" title="å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼"></a>å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼</h3><p>æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« <code>type</code> å±æ€§çš„å¯¹è±¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store.commit(&#123;</span><br><span class="line">  type: <span class="string">&#x27;increment&#x27;</span>,</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>å½“ä½¿ç”¨å¯¹è±¡é£æ ¼çš„æäº¤æ–¹å¼ï¼Œæ•´ä¸ªå¯¹è±¡éƒ½ä½œä¸ºè½½è·ä¼ ç»™ mutation å‡½æ•°ï¼Œå› æ­¤ handler ä¿æŒä¸å˜ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  increment (state, payload) &#123;</span><br><span class="line">    state.count += payload.amount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Mutation-éœ€éµå®ˆ-Vue-çš„å“åº”è§„åˆ™"><a href="#Mutation-éœ€éµå®ˆ-Vue-çš„å“åº”è§„åˆ™" class="headerlink" title="Mutation éœ€éµå®ˆ Vue çš„å“åº”è§„åˆ™"></a>Mutation éœ€éµå®ˆ Vue çš„å“åº”è§„åˆ™</h3><p>æ—¢ç„¶ Vuex çš„ store ä¸­çš„çŠ¶æ€æ˜¯å“åº”å¼çš„ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬å˜æ›´çŠ¶æ€æ—¶ï¼Œç›‘è§†çŠ¶æ€çš„ Vue ç»„ä»¶ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ã€‚è¿™ä¹Ÿæ„å‘³ç€ Vuex ä¸­çš„ mutation ä¹Ÿéœ€è¦ä¸ä½¿ç”¨ Vue ä¸€æ ·éµå®ˆä¸€äº›æ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li>æœ€å¥½æå‰åœ¨ä½ çš„ store ä¸­åˆå§‹åŒ–å¥½æ‰€æœ‰æ‰€éœ€å±æ€§ã€‚</li>
<li>å½“éœ€è¦åœ¨å¯¹è±¡ä¸Šæ·»åŠ æ–°å±æ€§æ—¶ï¼Œä½ åº”è¯¥</li>
</ol>
<ul>
<li><p>ä½¿ç”¨ <code>Vue.set(obj, &#39;newProp&#39;, 123)</code>, æˆ–è€…</p>
</li>
<li><p>ä»¥æ–°å¯¹è±¡æ›¿æ¢è€å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œåˆ©ç”¨<a href="https://github.com/tc39/proposal-object-rest-spread">å¯¹è±¡å±•å¼€è¿ç®—ç¬¦ (opens new window)</a>æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">state.obj = &#123; ...state.obj, <span class="attr">newProp</span>: <span class="number">123</span> &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<ol>
<li>åˆ é™¤ä½¿ç”¨ <code>Vue.delete(obj, key)</code></li>
</ol>
<h3 id="Mutation-å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°"><a href="#Mutation-å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°" class="headerlink" title="Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°"></a>Mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</h3><p>ä¸€æ¡é‡è¦çš„åŸåˆ™å°±æ˜¯è¦è®°ä½ <strong>mutation å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°</strong>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">mutations: &#123;</span><br><span class="line">  someMutation (state) &#123;</span><br><span class="line">    api.callAsyncMethod(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æƒ³è±¡ï¼Œæˆ‘ä»¬æ­£åœ¨ debug ä¸€ä¸ª app å¹¶ä¸”è§‚å¯Ÿ devtool ä¸­çš„ mutation æ—¥å¿—ã€‚æ¯ä¸€æ¡ mutation è¢«è®°å½•ï¼Œdevtools éƒ½éœ€è¦æ•æ‰åˆ°å‰ä¸€çŠ¶æ€å’Œåä¸€çŠ¶æ€çš„å¿«ç…§ã€‚ç„¶è€Œï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ mutation ä¸­çš„å¼‚æ­¥å‡½æ•°ä¸­çš„å›è°ƒè®©è¿™ä¸å¯èƒ½å®Œæˆï¼šå› ä¸ºå½“ mutation è§¦å‘çš„æ—¶å€™ï¼Œå›è°ƒå‡½æ•°è¿˜æ²¡æœ‰è¢«è°ƒç”¨ï¼Œdevtools ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™å›è°ƒå‡½æ•°å®é™…ä¸Šè¢«è°ƒç”¨â€”â€”å®è´¨ä¸Šä»»ä½•åœ¨å›è°ƒå‡½æ•°ä¸­è¿›è¡Œçš„çŠ¶æ€çš„æ”¹å˜éƒ½æ˜¯ä¸å¯è¿½è¸ªçš„ã€‚</p>
<h3 id="åœ¨ç»„ä»¶ä¸­æäº¤-Mutation"><a href="#åœ¨ç»„ä»¶ä¸­æäº¤-Mutation" class="headerlink" title="åœ¨ç»„ä»¶ä¸­æäº¤ Mutation"></a>åœ¨ç»„ä»¶ä¸­æäº¤ Mutation</h3><p>ä½ å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>this.$store.commit(&#39;xxx&#39;)</code> æäº¤ mutationã€‚</p>
<h2 id="Action"><a href="#Action" class="headerlink" title="Action"></a>Action</h2><p>Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š</p>
<ul>
<li>Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li>
<li>Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚</li>
</ul>
<p>ä¸€ä¸ªç®€å•çš„ actionï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    increment (state) &#123;</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    increment (context) &#123;</span><br><span class="line">      context.commit(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Action å‡½æ•°æ¥å—ä¸€ä¸ªä¸ store å®ä¾‹å…·æœ‰ç›¸åŒæ–¹æ³•å’Œå±æ€§çš„ context å¯¹è±¡ï¼Œå› æ­¤ä½ å¯ä»¥è°ƒç”¨ <code>context.commit</code> æäº¤ä¸€ä¸ª mutationï¼Œæˆ–è€…é€šè¿‡ <code>context.state</code> å’Œ <code>context.getters</code> æ¥è·å– state å’Œ gettersã€‚</p>
<h3 id="åˆ†å‘-Action"><a href="#åˆ†å‘-Action" class="headerlink" title="åˆ†å‘ Action"></a>åˆ†å‘ Action</h3><p>Action é€šè¿‡ <code>store.dispatch</code> æ–¹æ³•è§¦å‘ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">store.dispatch(<span class="string">&#x27;increment&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥åœ¨ action å†…éƒ¨æ‰§è¡Œ<strong>å¼‚æ­¥</strong>æ“ä½œï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">actions: &#123;</span><br><span class="line">  incrementAsync (&#123; commit &#125;) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      commit(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Actions æ”¯æŒåŒæ ·çš„è½½è·æ–¹å¼å’Œå¯¹è±¡æ–¹å¼è¿›è¡Œåˆ†å‘ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä»¥è½½è·å½¢å¼åˆ†å‘</span></span><br><span class="line">store.dispatch(<span class="string">&#x27;incrementAsync&#x27;</span>, &#123;</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥å¯¹è±¡å½¢å¼åˆ†å‘</span></span><br><span class="line">store.dispatch(&#123;</span><br><span class="line">  type: <span class="string">&#x27;incrementAsync&#x27;</span>,</span><br><span class="line">  amount: <span class="number">10</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="åœ¨ç»„ä»¶ä¸­åˆ†å‘-Action"><a href="#åœ¨ç»„ä»¶ä¸­åˆ†å‘-Action" class="headerlink" title="åœ¨ç»„ä»¶ä¸­åˆ†å‘ Action"></a>åœ¨ç»„ä»¶ä¸­åˆ†å‘ Action</h3><p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>this.$store.dispatch(&#39;xxx&#39;)</code> åˆ†å‘ actionã€‚</p>
<h2 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h2><p>Vuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆ<strong>æ¨¡å—ï¼ˆmoduleï¼‰</strong>ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  state: <span class="function">() =&gt;</span> (&#123; ... &#125;),</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;,</span><br><span class="line">  getters: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moduleB = &#123;</span><br><span class="line">  state: <span class="function">() =&gt;</span> (&#123; ... &#125;),</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA,</span><br><span class="line">    b: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">store.state.a <span class="comment">// -&gt; moduleA çš„çŠ¶æ€</span></span><br><span class="line">store.state.b <span class="comment">// -&gt; moduleB çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - äº‹ä»¶å¤„ç†</title>
    <url>/2021/01/11/Vue%20-%20%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<h2 id="Vue-äº‹ä»¶å¤„ç†"><a href="#Vue-äº‹ä»¶å¤„ç†" class="headerlink" title="Vue - äº‹ä»¶å¤„ç†"></a>Vue - äº‹ä»¶å¤„ç†</h2><h3 id="ç›‘å¬äº‹ä»¶"><a href="#ç›‘å¬äº‹ä»¶" class="headerlink" title="ç›‘å¬äº‹ä»¶"></a>ç›‘å¬äº‹ä»¶</h3><p>å¯ä»¥ç”¨ <code>v-on</code> æŒ‡ä»¤ç›‘å¬ DOM äº‹ä»¶ï¼Œå¹¶åœ¨è§¦å‘æ—¶è¿è¡Œä¸€äº› JavaScript ä»£ç ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;example-1&quot;</span>&gt;</span><br><span class="line">  &lt;button v-on:click=<span class="string">&quot;counter += 1&quot;</span>&gt;Add <span class="number">1</span>&lt;/button&gt;</span><br><span class="line">  &lt;p&gt;The button above has been clicked &#123;&#123; counter &#125;&#125; times.&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> example1 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#example-1&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    counter: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="äº‹ä»¶å¤„ç†æ–¹æ³•"><a href="#äº‹ä»¶å¤„ç†æ–¹æ³•" class="headerlink" title="äº‹ä»¶å¤„ç†æ–¹æ³•"></a>äº‹ä»¶å¤„ç†æ–¹æ³•</h3><p> <code>v-on</code> å¯ä»¥æ¥æ”¶ä¸€ä¸ªéœ€è¦è°ƒç”¨çš„æ–¹æ³•åç§°ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;example-2&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- `greet` æ˜¯æ–¹æ³•å --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;greet&quot;</span>&gt;</span>Greet<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="å†…è”å¤„ç†å™¨ä¸­çš„æ–¹æ³•"><a href="#å†…è”å¤„ç†å™¨ä¸­çš„æ–¹æ³•" class="headerlink" title="å†…è”å¤„ç†å™¨ä¸­çš„æ–¹æ³•"></a>å†…è”å¤„ç†å™¨ä¸­çš„æ–¹æ³•</h3><p>é™¤äº†ç›´æ¥ç»‘å®šåˆ°ä¸€ä¸ªæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åœ¨å†…è” JavaScript è¯­å¥ä¸­è°ƒç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;example-3&quot;</span>&gt;</span><br><span class="line">  &lt;button v-on:click=<span class="string">&quot;say(&#x27;hi&#x27;)&quot;</span>&gt;Say hi&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#example-3&#x27;</span>,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    say: <span class="function"><span class="keyword">function</span> (<span class="params">message</span>) </span>&#123;</span><br><span class="line">      alert(message)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>æœ‰æ—¶ä¹Ÿéœ€è¦åœ¨å†…è”è¯­å¥å¤„ç†å™¨ä¸­è®¿é—®åŸå§‹çš„ DOM äº‹ä»¶ã€‚å¯ä»¥ç”¨ç‰¹æ®Šå˜é‡ <code>$event</code> æŠŠå®ƒä¼ å…¥æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;button v-on:click=<span class="string">&quot;warn(&#x27;Form cannot be submitted yet.&#x27;, $event)&quot;</span>&gt;Submit&lt;/button&gt;</span><br><span class="line">methods: &#123;</span><br><span class="line">  warn: <span class="function"><span class="keyword">function</span> (<span class="params">message, event</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ç°åœ¨æˆ‘ä»¬å¯ä»¥è®¿é—®åŸç”Ÿäº‹ä»¶å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">if</span> (event) &#123;</span><br><span class="line">      event.preventDefault()</span><br><span class="line">    &#125;</span><br><span class="line">    alert(message)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><p>åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨ <code>event.preventDefault()</code> æˆ– <code>event.stopPropagation()</code> æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒVue.js ä¸º <code>v-on</code> æä¾›äº†<strong>äº‹ä»¶ä¿®é¥°ç¬¦</strong>ã€‚ä¹‹å‰æè¿‡ï¼Œä¿®é¥°ç¬¦æ˜¯ç”±ç‚¹å¼€å¤´çš„æŒ‡ä»¤åç¼€æ¥è¡¨ç¤ºçš„ã€‚</p>
<p><code>.stop</code> <code>.prevent</code> <code>.capture</code> <code>.self</code> <code>.once</code> <code>.passive</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click.stop</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:submit.prevent</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click.stop.prevent</span>=<span class="string">&quot;doThat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åªæœ‰ä¿®é¥°ç¬¦ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:submit.prevent</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å³å†…éƒ¨å…ƒç´ è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click.capture</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click.self</span>=<span class="string">&quot;doThat&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶ï¼Œé¡ºåºå¾ˆé‡è¦ï¼›ç›¸åº”çš„ä»£ç ä¼šä»¥åŒæ ·çš„é¡ºåºäº§ç”Ÿã€‚å› æ­¤ï¼Œç”¨ <code>v-on:click.prevent.self</code> ä¼šé˜»æ­¢<strong>æ‰€æœ‰çš„ç‚¹å‡»</strong>ï¼Œè€Œ <code>v-on:click.self.prevent</code> åªä¼šé˜»æ­¢å¯¹å…ƒç´ è‡ªèº«çš„ç‚¹å‡»ã€‚</p>
<h3 id="æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="æŒ‰é”®ä¿®é¥°ç¬¦"></a>æŒ‰é”®ä¿®é¥°ç¬¦</h3><p>Vue å…è®¸ä¸º <code>v-on</code> åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åªæœ‰åœ¨ `key` æ˜¯ `Enter` æ—¶è°ƒç”¨ `vm.submit()` --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-on:keyup.enter</span>=<span class="string">&quot;submit&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Vue æä¾›äº†ç»å¤§å¤šæ•°å¸¸ç”¨çš„æŒ‰é”®ç çš„åˆ«åï¼š</p>
<p><code>.enter</code> <code>.tab</code> <code>.delete</code> (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®) <code>.esc</code> <code>.space</code> <code>.up</code> <code>.down</code> <code>.left</code> <code>.right</code></p>
<h3 id="ç³»ç»Ÿä¿®é¥°é”®"><a href="#ç³»ç»Ÿä¿®é¥°é”®" class="headerlink" title="ç³»ç»Ÿä¿®é¥°é”®"></a>ç³»ç»Ÿä¿®é¥°é”®</h3><blockquote>
<p>2.1.0 æ–°å¢   å¯ä»¥ç”¨å¦‚ä¸‹ä¿®é¥°ç¬¦æ¥å®ç°ä»…åœ¨æŒ‰ä¸‹ç›¸åº”æŒ‰é”®æ—¶æ‰è§¦å‘é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶çš„ç›‘å¬å™¨ã€‚</p>
</blockquote>
<p><code>.ctrl</code> <code>.alt</code> <code>.shift</code> <code>.meta</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Alt + C --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-on:keyup.alt.67</span>=<span class="string">&quot;clear&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Ctrl + Click --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click.ctrl</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span>Do something<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¯·æ³¨æ„ä¿®é¥°é”®ä¸å¸¸è§„æŒ‰é”®ä¸åŒï¼Œåœ¨å’Œ <code>keyup</code> äº‹ä»¶ä¸€èµ·ç”¨æ—¶ï¼Œäº‹ä»¶è§¦å‘æ—¶ä¿®é¥°é”®å¿…é¡»å¤„äºæŒ‰ä¸‹çŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œåªæœ‰åœ¨æŒ‰ä½ <code>ctrl</code> çš„æƒ…å†µä¸‹é‡Šæ”¾å…¶å®ƒæŒ‰é”®ï¼Œæ‰èƒ½è§¦å‘ <code>keyup.ctrl</code>ã€‚è€Œå•å•é‡Šæ”¾ <code>ctrl</code> ä¹Ÿä¸ä¼šè§¦å‘äº‹ä»¶ã€‚å¦‚æœä½ æƒ³è¦è¿™æ ·çš„è¡Œä¸ºï¼Œè¯·ä¸º <code>ctrl</code> æ¢ç”¨ <code>keyCode</code>ï¼š<code>keyup.17</code>ã€‚</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - åˆ—è¡¨æ¸²æŸ“</title>
    <url>/2021/01/11/Vue%20-%20%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93/</url>
    <content><![CDATA[<h2 id="Vue-åˆ—è¡¨æ¸²æŸ“"><a href="#Vue-åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="Vue - åˆ—è¡¨æ¸²æŸ“"></a>Vue - åˆ—è¡¨æ¸²æŸ“</h2><h3 id="v-for-åŸºæœ¬ä½¿ç”¨"><a href="#v-for-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="v-for åŸºæœ¬ä½¿ç”¨"></a><code>v-for</code> åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;example-1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.message&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; item.message &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> example1 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#example-1&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    items: [</span><br><span class="line">      &#123; <span class="attr">message</span>: <span class="string">&#x27;Foo&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">message</span>: <span class="string">&#x27;Bar&#x27;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>åœ¨ <code>v-for</code> å—ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ propertyã€‚<code>v-for</code> è¿˜æ”¯æŒå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå³å½“å‰é¡¹çš„ç´¢å¼•ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;example-2&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in items&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; parentMessage &#125;&#125; - &#123;&#123; index &#125;&#125; - &#123;&#123; item.message &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> example2 = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#example-2&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    parentMessage: <span class="string">&#x27;Parent&#x27;</span>,</span><br><span class="line">    items: [</span><br><span class="line">      &#123; <span class="attr">message</span>: <span class="string">&#x27;Foo&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">message</span>: <span class="string">&#x27;Bar&#x27;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="v-for-é‡Œä½¿ç”¨å¯¹è±¡"><a href="#v-for-é‡Œä½¿ç”¨å¯¹è±¡" class="headerlink" title="v-for é‡Œä½¿ç”¨å¯¹è±¡"></a><code>v-for</code> é‡Œä½¿ç”¨å¯¹è±¡</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;v-for-object&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;value in object&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; value &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#v-for-object&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    object: &#123;</span><br><span class="line">      title: <span class="string">&#x27;How to do lists in Vue&#x27;</span>,</span><br><span class="line">      author: <span class="string">&#x27;Jane Doe&#x27;</span>,</span><br><span class="line">      publishedAt: <span class="string">&#x27;2016-04-10&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥æä¾›ç¬¬äºŒä¸ªçš„å‚æ•°ä¸º property åç§° (ä¹Ÿå°±æ˜¯é”®å)ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, name) in object&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; name &#125;&#125;: &#123;&#123; value &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°ä½œä¸ºç´¢å¼•ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(value, name, index) in object&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; index &#125;&#125;. &#123;&#123; name &#125;&#125;: &#123;&#123; value &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="ç»´æŠ¤çŠ¶æ€"><a href="#ç»´æŠ¤çŠ¶æ€" class="headerlink" title="ç»´æŠ¤çŠ¶æ€"></a>ç»´æŠ¤çŠ¶æ€</h3><p>ä¸ºäº†ç»™ Vue ä¸€ä¸ªæç¤ºï¼Œä»¥ä¾¿å®ƒèƒ½è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»è€Œé‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰å…ƒç´ ï¼Œéœ€è¦ä¸ºæ¯é¡¹æä¾›ä¸€ä¸ªå”¯ä¸€ <code>key</code> attributeï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span> <span class="attr">v-bind:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- å†…å®¹ --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å°½å¯èƒ½åœ¨ä½¿ç”¨ <code>v-for</code> æ—¶æä¾› <code>key</code> attributeï¼Œé™¤ééå†è¾“å‡ºçš„ DOM å†…å®¹éå¸¸ç®€å•ï¼Œæˆ–è€…æ˜¯åˆ»æ„ä¾èµ–é»˜è®¤è¡Œä¸ºä»¥è·å–æ€§èƒ½ä¸Šçš„æå‡ã€‚ä¸è¦ä½¿ç”¨å¯¹è±¡æˆ–æ•°ç»„ä¹‹ç±»çš„éåŸºæœ¬ç±»å‹å€¼ä½œä¸º <code>v-for</code> çš„ <code>key</code>ã€‚è¯·ç”¨å­—ç¬¦ä¸²æˆ–æ•°å€¼ç±»å‹çš„å€¼ã€‚</p>
<h3 id="æ•°ç»„æ›´æ–°æ£€æµ‹"><a href="#æ•°ç»„æ›´æ–°æ£€æµ‹" class="headerlink" title="æ•°ç»„æ›´æ–°æ£€æµ‹"></a>æ•°ç»„æ›´æ–°æ£€æµ‹</h3><p>Vue å°†è¢«ä¾¦å¬çš„æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹ï¼Œæ‰€ä»¥å®ƒä»¬ä¹Ÿå°†ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚è¿™äº›è¢«åŒ…è£¹è¿‡çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p>
<p><code>push()</code>  <code>pop()</code>  <code>shift()</code>  <code>unshift()</code>  <code>splice()</code>  <code>sort()</code>   <code>reverse()</code></p>
<p>éå˜æ›´æ–¹æ³•ï¼Œä¾‹å¦‚ <code>filter()</code>ã€<code>concat()</code> å’Œ <code>slice()</code>ã€‚å®ƒä»¬ä¸ä¼šå˜æ›´åŸå§‹æ•°ç»„ï¼Œè€Œ<strong>æ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„</strong>ã€‚</p>
<p>ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue <strong>ä¸èƒ½æ£€æµ‹</strong>æ•°ç»„å’Œå¯¹è±¡çš„å˜åŒ–ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;v-for-object&quot;</span> <span class="attr">class</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;value in array&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; value &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#v-for-object&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        array: [</span><br><span class="line">            <span class="number">10</span>,</span><br><span class="line">            <span class="number">20</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä½¿ç”¨  <code>vm.array[0]=1</code>  æ— æ³•è¢«æ£€æµ‹ã€‚</p>
<h3 id="æ˜¾ç¤ºè¿‡æ»¤-æ’åºåçš„ç»“æœ"><a href="#æ˜¾ç¤ºè¿‡æ»¤-æ’åºåçš„ç»“æœ" class="headerlink" title="æ˜¾ç¤ºè¿‡æ»¤/æ’åºåçš„ç»“æœ"></a>æ˜¾ç¤ºè¿‡æ»¤/æ’åºåçš„ç»“æœ</h3><p>è‹¥è¦æ˜¾ç¤ºä¸€ä¸ªæ•°ç»„ç»è¿‡è¿‡æ»¤æˆ–æ’åºåçš„ç‰ˆæœ¬ï¼Œè€Œä¸å®é™…å˜æ›´æˆ–é‡ç½®åŸå§‹æ•°æ®ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œæ¥è¿”å›è¿‡æ»¤æˆ–æ’åºåçš„æ•°ç»„ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;n in evenNumbers&quot;</span>&gt;</span>&#123;&#123; n &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  numbers: [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> ]</span><br><span class="line">&#125;,</span><br><span class="line">computed: &#123;</span><br><span class="line">  evenNumbers: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.numbers.filter(<span class="function"><span class="keyword">function</span> (<span class="params">number</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> number % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è®¡ç®—å±æ€§ä¸é€‚ç”¨çš„æƒ…å†µä¸‹ (åœ¨åµŒå¥— <code>v-for</code> å¾ªç¯ä¸­) å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-for</span>=<span class="string">&quot;set in sets&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;n in even(set)&quot;</span>&gt;</span>&#123;&#123; n &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  sets: [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]]</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">  even: <span class="function"><span class="keyword">function</span> (<span class="params">numbers</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numbers.filter(<span class="function"><span class="keyword">function</span> (<span class="params">number</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> number % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="åœ¨-v-for-é‡Œä½¿ç”¨å€¼èŒƒå›´"><a href="#åœ¨-v-for-é‡Œä½¿ç”¨å€¼èŒƒå›´" class="headerlink" title="åœ¨ v-for é‡Œä½¿ç”¨å€¼èŒƒå›´"></a>åœ¨ <code>v-for</code> é‡Œä½¿ç”¨å€¼èŒƒå›´</h3><p><code>v-for</code> ä¹Ÿå¯ä»¥æ¥å—æ•´æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä¼šæŠŠæ¨¡æ¿é‡å¤å¯¹åº”æ¬¡æ•°ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-for</span>=<span class="string">&quot;n in 10&quot;</span>&gt;</span>&#123;&#123; n &#125;&#125; <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="åœ¨-template-ä¸Šä½¿ç”¨-v-for"><a href="#åœ¨-template-ä¸Šä½¿ç”¨-v-for" class="headerlink" title="åœ¨ template ä¸Šä½¿ç”¨ v-for"></a>åœ¨ <code>template</code> ä¸Šä½¿ç”¨ <code>v-for</code></h3><p>ç±»ä¼¼äº <code>v-if</code>ï¼Œä½ ä¹Ÿå¯ä»¥åˆ©ç”¨å¸¦æœ‰ <code>v-for</code> çš„ <code>&lt;template&gt;</code> æ¥å¾ªç¯æ¸²æŸ“ä¸€æ®µåŒ…å«å¤šä¸ªå…ƒç´ çš„å†…å®¹ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; item.msg &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;divider&quot;</span> <span class="attr">role</span>=<span class="string">&quot;presentation&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="v-for-ä¸-v-if-ä¸€åŒä½¿ç”¨"><a href="#v-for-ä¸-v-if-ä¸€åŒä½¿ç”¨" class="headerlink" title="v-for ä¸ v-if ä¸€åŒä½¿ç”¨"></a><code>v-for</code> ä¸ <code>v-if</code> ä¸€åŒä½¿ç”¨</h3><p>æ³¨æ„æˆ‘ä»¬<strong>ä¸</strong>æ¨èåœ¨åŒä¸€å…ƒç´ ä¸Šä½¿ç”¨ <code>v-if</code> å’Œ <code>v-for</code>ã€‚</p>
<p>å½“å®ƒä»¬å¤„äºåŒä¸€èŠ‚ç‚¹ï¼Œ<code>v-for</code> çš„ä¼˜å…ˆçº§æ¯” <code>v-if</code> æ›´é«˜ï¼Œè¿™æ„å‘³ç€ <code>v-if</code> å°†åˆ†åˆ«é‡å¤è¿è¡Œäºæ¯ä¸ª <code>v-for</code> å¾ªç¯ä¸­ã€‚å½“ä½ åªæƒ³ä¸º<strong>éƒ¨åˆ†</strong>é¡¹æ¸²æŸ“èŠ‚ç‚¹æ—¶ï¼Œè¿™ç§ä¼˜å…ˆçº§çš„æœºåˆ¶ä¼šååˆ†æœ‰ç”¨ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;todo in todos&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;!todo.isComplete&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; todo &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç å°†åªæ¸²æŸ“æœªå®Œæˆçš„ todoã€‚</p>
<p>è€Œå¦‚æœä½ çš„ç›®çš„æ˜¯æœ‰æ¡ä»¶åœ°è·³è¿‡å¾ªç¯çš„æ‰§è¡Œï¼Œé‚£ä¹ˆå¯ä»¥å°† <code>v-if</code> ç½®äºå¤–å±‚å…ƒç´ ä¸Šã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-if</span>=<span class="string">&quot;todos.length&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;todo in todos&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; todo &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-else</span>&gt;</span>No todos left!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="åœ¨ç»„ä»¶ä¸Šä½¿ç”¨-v-for"><a href="#åœ¨ç»„ä»¶ä¸Šä½¿ç”¨-v-for" class="headerlink" title="åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ v-for"></a>åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-for</code></h3><p>åœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸Šï¼Œä½ å¯ä»¥åƒåœ¨ä»»ä½•æ™®é€šå…ƒç´ ä¸Šä¸€æ ·ä½¿ç”¨ <code>v-for</code>ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">my-component</span> <span class="attr">v-for</span>=<span class="string">&quot;item in items&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>2.2.0+ çš„ç‰ˆæœ¬é‡Œï¼Œå½“åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-for</code> æ—¶ï¼Œ<code>key</code> ç°åœ¨æ˜¯å¿…é¡»çš„ã€‚</p>
</blockquote>
<p>ç„¶è€Œï¼Œä»»ä½•æ•°æ®éƒ½ä¸ä¼šè¢«è‡ªåŠ¨ä¼ é€’åˆ°ç»„ä»¶é‡Œï¼Œå› ä¸ºç»„ä»¶æœ‰è‡ªå·±ç‹¬ç«‹çš„ä½œç”¨åŸŸã€‚ä¸ºäº†æŠŠè¿­ä»£æ•°æ®ä¼ é€’åˆ°ç»„ä»¶é‡Œï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ propï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">todo-item</span> <span class="attr">v-for</span>=<span class="string">&quot;item in array&quot;</span> <span class="attr">v-bind:title</span>=<span class="string">&quot;item.title&quot;</span> <span class="attr">v-bind:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">todo-item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">&quot;cpn&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;todo-item&#x27;</span>, &#123;</span><br><span class="line">    template: <span class="string">&#x27;#cpn&#x27;</span>,</span><br><span class="line">    props: [<span class="string">&#x27;title&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        array: [</span><br><span class="line">            &#123;<span class="attr">title</span>: <span class="string">&#x27;hello&#x27;</span>, <span class="attr">id</span>: <span class="number">1</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">title</span>: <span class="string">&#x27;world&#x27;</span>, <span class="attr">id</span>: <span class="number">2</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - æ¡ä»¶æ¸²æŸ“</title>
    <url>/2021/01/11/Vue%20-%20%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93/</url>
    <content><![CDATA[<h2 id="Vue-æ¡ä»¶æ¸²æŸ“"><a href="#Vue-æ¡ä»¶æ¸²æŸ“" class="headerlink" title="Vue - æ¡ä»¶æ¸²æŸ“"></a>Vue - æ¡ä»¶æ¸²æŸ“</h2><h3 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;awesome&quot;</span>&gt;</span>Vue is awesome!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-if</span>=<span class="string">&quot;awesome&quot;</span>&gt;</span>Vue is awesome!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-else</span>&gt;</span>Oh no ğŸ˜¢<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å› ä¸º <code>v-if</code> æ˜¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œæ‰€ä»¥å¿…é¡»å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šã€‚å¦‚æœæƒ³åˆ‡æ¢å¤šä¸ªå…ƒç´ ï¼Œå¯ä»¥æŠŠä¸€ä¸ª <code>&lt;template&gt;</code> å…ƒç´ å½“åšä¸å¯è§çš„åŒ…è£¹å…ƒç´ ï¼Œå¹¶åœ¨ä¸Šé¢ä½¿ç”¨ <code>v-if</code>ã€‚æœ€ç»ˆçš„æ¸²æŸ“ç»“æœå°†ä¸åŒ…å« <code>&lt;template&gt;</code> å…ƒç´ ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;ok&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Paragraph 1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Paragraph 2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="v-else"><a href="#v-else" class="headerlink" title="v-else"></a>v-else</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;Math.random() &gt; 0.5&quot;</span>&gt;</span></span><br><span class="line">  Now you see me</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">  Now you don&#x27;t</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>v-else</code> å…ƒç´ å¿…é¡»ç´§è·Ÿåœ¨å¸¦ <code>v-if</code> æˆ–è€… <code>v-else-if</code> çš„å…ƒç´ çš„åé¢ï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šè¢«è¯†åˆ«ã€‚</p>
<h3 id="v-else-if"><a href="#v-else-if" class="headerlink" title="v-else-if"></a>v-else-if</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;type === &#x27;A&#x27;&quot;</span>&gt;</span> A <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;type === &#x27;B&#x27;&quot;</span>&gt;</span> B <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;type === &#x27;C&#x27;&quot;</span>&gt;</span> C <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span> Not A/B/C <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ç”¨-key-ç®¡ç†å¯å¤ç”¨çš„å…ƒç´ "><a href="#ç”¨-key-ç®¡ç†å¯å¤ç”¨çš„å…ƒç´ " class="headerlink" title="ç”¨ key ç®¡ç†å¯å¤ç”¨çš„å…ƒç´ "></a>ç”¨ <code>key</code> ç®¡ç†å¯å¤ç”¨çš„å…ƒç´ </h3><p>Vue ä¼šå°½å¯èƒ½é«˜æ•ˆåœ°æ¸²æŸ“å…ƒç´ ï¼Œé€šå¸¸ä¼šå¤ç”¨å·²æœ‰å…ƒç´ è€Œä¸æ˜¯ä»å¤´å¼€å§‹æ¸²æŸ“ã€‚è¿™ä¹ˆåšé™¤äº†ä½¿ Vue å˜å¾—éå¸¸å¿«ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶å®ƒä¸€äº›å¥½å¤„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å…è®¸ç”¨æˆ·åœ¨ä¸åŒçš„ç™»å½•æ–¹å¼ä¹‹é—´åˆ‡æ¢ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;loginType === &#x27;username&#x27;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Username<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter your username&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter your email address&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆåœ¨ä¸Šé¢çš„ä»£ç ä¸­åˆ‡æ¢ <code>loginType</code> å°†ä¸ä¼šæ¸…é™¤ç”¨æˆ·å·²ç»è¾“å…¥çš„å†…å®¹ã€‚å› ä¸ºä¸¤ä¸ªæ¨¡æ¿ä½¿ç”¨äº†ç›¸åŒçš„å…ƒç´ ï¼Œ<code>&lt;input&gt;</code> ä¸ä¼šè¢«æ›¿æ¢æ‰â€”â€”ä»…ä»…æ˜¯æ›¿æ¢äº†å®ƒçš„ <code>placeholder</code>ã€‚ </p>
<p>æ‰€ä»¥ Vue ä¸ºä½ æä¾›äº†ä¸€ç§æ–¹å¼æ¥è¡¨è¾¾â€œè¿™ä¸¤ä¸ªå…ƒç´ æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œä¸è¦å¤ç”¨å®ƒä»¬â€ã€‚æ·»åŠ å…·æœ‰å”¯ä¸€å€¼çš„ <code>key</code> å³å¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;loginType === &#x27;username&#x27;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Username<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter your username&quot;</span> <span class="attr">key</span>=<span class="string">&quot;username-input&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter your email address&quot;</span> <span class="attr">key</span>=<span class="string">&quot;email-input&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h2 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">v-show</span>=<span class="string">&quot;ok&quot;</span>&gt;</span>Hello!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸åŒçš„æ˜¯å¸¦æœ‰ <code>v-show</code> çš„å…ƒç´ å§‹ç»ˆä¼šè¢«æ¸²æŸ“å¹¶ä¿ç•™åœ¨ DOM ä¸­ã€‚<code>v-show</code> åªæ˜¯ç®€å•åœ°åˆ‡æ¢å…ƒç´ çš„ CSS property <code>display</code>ã€‚<code>v-show</code> ä¸æ”¯æŒ <code>&lt;template&gt;</code> å…ƒç´ ï¼Œä¹Ÿä¸æ”¯æŒ <code>v-else</code>ã€‚</p>
<h2 id="v-if-vs-v-show"><a href="#v-if-vs-v-show" class="headerlink" title="v-if  vs v-show"></a>v-if  vs v-show</h2><p><code>v-if</code> æ˜¯â€œçœŸæ­£â€çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºã€‚</p>
<p><code>v-if</code> ä¹Ÿæ˜¯<strong>æƒ°æ€§çš„</strong>ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšï¼Œç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸï¼Œæ‰å¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚</p>
<p><code>v-show</code> ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS è¿›è¡Œåˆ‡æ¢ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œ<code>v-if</code> æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ <code>v-show</code> æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚è‹¥éœ€è¦é¢‘ç¹åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ <code>v-show</code> ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ <code>v-if</code> è¾ƒå¥½ã€‚</p>
<h2 id="v-if-ä¸-v-for-ä¸€èµ·ä½¿ç”¨"><a href="#v-if-ä¸-v-for-ä¸€èµ·ä½¿ç”¨" class="headerlink" title="v-if ä¸ v-for ä¸€èµ·ä½¿ç”¨"></a>v-if ä¸ v-for ä¸€èµ·ä½¿ç”¨</h2><p><strong>ä¸æ¨è</strong>åŒæ—¶ä½¿ç”¨ <code>v-if</code> å’Œ <code>v-for</code>ã€‚å½“ <code>v-if</code> ä¸ <code>v-for</code> ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œ<code>v-for</code> å…·æœ‰æ¯” <code>v-if</code> æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚</p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - ç»„ä»¶åŸºç¡€</title>
    <url>/2021/01/12/Vue%20-%20%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h2 id="Vue-ç»„ä»¶åŸºç¡€"><a href="#Vue-ç»„ä»¶åŸºç¡€" class="headerlink" title="Vue - ç»„ä»¶åŸºç¡€"></a>Vue - ç»„ä»¶åŸºç¡€</h2><h3 id="åŸºæœ¬ç¤ºä¾‹ï¼ˆå…¨å±€æ³¨å†Œï¼‰"><a href="#åŸºæœ¬ç¤ºä¾‹ï¼ˆå…¨å±€æ³¨å†Œï¼‰" class="headerlink" title="åŸºæœ¬ç¤ºä¾‹ï¼ˆå…¨å±€æ³¨å†Œï¼‰"></a>åŸºæœ¬ç¤ºä¾‹ï¼ˆå…¨å±€æ³¨å†Œï¼‰</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;components-demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;button-counter&#x27;</span>, &#123;</span><br><span class="line">    template: <span class="string">&#x27;&lt;button v-on:click=&quot;count++&quot;&gt;You clicked me &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            count: <span class="number">0</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">new</span> Vue(&#123; <span class="attr">el</span>: <span class="string">&#x27;#components-demo&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>


<h3 id="ç»„ä»¶çš„å¤ç”¨"><a href="#ç»„ä»¶çš„å¤ç”¨" class="headerlink" title="ç»„ä»¶çš„å¤ç”¨"></a>ç»„ä»¶çš„å¤ç”¨</h3><p>ä½ å¯ä»¥å°†ç»„ä»¶è¿›è¡Œä»»æ„æ¬¡æ•°çš„å¤ç”¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button-counter</span>&gt;</span><span class="tag">&lt;/<span class="name">button-counter</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ¯ä¸ªç»„ä»¶éƒ½ä¼šå„è‡ªç‹¬ç«‹ç»´æŠ¤å®ƒçš„ <code>count</code>ã€‚å› ä¸ºä½ æ¯ç”¨ä¸€æ¬¡ç»„ä»¶ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªå®ƒçš„æ–°<strong>å®ä¾‹</strong>è¢«åˆ›å»ºã€‚</p>
<h4 id="data-å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°"><a href="#data-å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°" class="headerlink" title="data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°"></a><code>data</code> å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°</h4><p><strong>ä¸€ä¸ªç»„ä»¶çš„ data é€‰é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå› æ­¤æ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€ä»½è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">data: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    count: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="ç»„ä»¶çš„ç»„ç»‡"><a href="#ç»„ä»¶çš„ç»„ç»‡" class="headerlink" title="ç»„ä»¶çš„ç»„ç»‡"></a>ç»„ä»¶çš„ç»„ç»‡</h3><p> Vue ä¸¤ç§ç»„ä»¶çš„æ³¨å†Œç±»å‹ï¼š<strong>å…¨å±€æ³¨å†Œ</strong>å’Œ<strong>å±€éƒ¨æ³¨å†Œ</strong>ã€‚è¯¦è§   <a href="https://cn.vuejs.org/v2/guide/components-registration.html">ç»„ä»¶æ³¨å†Œ</a></p>
<h4 id="å±€éƒ¨æ³¨å†Œ"><a href="#å±€éƒ¨æ³¨å†Œ" class="headerlink" title="å±€éƒ¨æ³¨å†Œ"></a>å±€éƒ¨æ³¨å†Œ</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ComponentA = &#123;</span><br><span class="line">    template: <span class="string">&#x27;#cpn&#x27;</span>,</span><br><span class="line">    props: &#123;</span><br><span class="line">      message: <span class="built_in">String</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨ <code>components</code> é€‰é¡¹ä¸­å®šä¹‰ä½ æƒ³è¦ä½¿ç”¨çš„ç»„ä»¶ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    <span class="string">&#x27;component-a&#x27;</span>: ComponentA,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>å¯¹äº <code>components</code> å¯¹è±¡æ¥è¯´ï¼Œå…¶ property åå°±æ˜¯è‡ªå®šä¹‰å…ƒç´ çš„åå­—ï¼Œå…¶å€¼å°±æ˜¯è¿™ä¸ªç»„ä»¶å¯¹è±¡ã€‚</p>
<p><strong>å±€éƒ¨æ³¨å†Œçš„ç»„ä»¶åœ¨å…¶å­ç»„ä»¶ä¸­ä¸å¯ç”¨</strong>ã€‚å¦‚æœå¸Œæœ› <code>ComponentA</code> åœ¨ <code>ComponentB</code> ä¸­å¯ç”¨ï¼Œåˆ™éœ€è¦è¿™æ ·å†™ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ComponentA = &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="keyword">var</span> ComponentB = &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    <span class="string">&#x27;component-a&#x27;</span>: ComponentA</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ–è€…å¦‚æœä½ é€šè¿‡ Babel å’Œ webpack ä½¿ç”¨ ES2015 æ¨¡å—ï¼Œé‚£ä¹ˆä»£ç çœ‹èµ·æ¥æ›´åƒï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ComponentA <span class="keyword">from</span> <span class="string">&#x27;./ComponentA.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ComponentA</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ComponentA</code> çš„å˜é‡åå…¶å®æ˜¯ <code>ComponentA: ComponentA</code> çš„ç¼©å†™ï¼Œå³è¿™ä¸ªå˜é‡ååŒæ—¶æ˜¯ï¼š</p>
<ul>
<li>ç”¨åœ¨æ¨¡æ¿ä¸­çš„è‡ªå®šä¹‰å…ƒç´ çš„åç§°</li>
<li>åŒ…å«äº†è¿™ä¸ªç»„ä»¶é€‰é¡¹çš„å˜é‡å</li>
</ul>
<h4 id="æ¨¡å—ç³»ç»Ÿ"><a href="#æ¨¡å—ç³»ç»Ÿ" class="headerlink" title="æ¨¡å—ç³»ç»Ÿ"></a>æ¨¡å—ç³»ç»Ÿ</h4><p><strong>åœ¨æ¨¡å—ç³»ç»Ÿä¸­å±€éƒ¨æ³¨å†Œ</strong></p>
<p>åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ¨èåˆ›å»ºä¸€ä¸ª <code>components</code> ç›®å½•ï¼Œå¹¶å°†æ¯ä¸ªç»„ä»¶æ”¾ç½®åœ¨å…¶å„è‡ªçš„æ–‡ä»¶ä¸­ã€‚ç„¶åä½ éœ€è¦åœ¨å±€éƒ¨æ³¨å†Œä¹‹å‰å¯¼å…¥æ¯ä¸ªä½ æƒ³ä½¿ç”¨çš„ç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªå‡è®¾çš„ <code>ComponentB.js</code> æˆ– <code>ComponentB.vue</code> æ–‡ä»¶ä¸­ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ComponentA <span class="keyword">from</span> <span class="string">&#x27;./ComponentA&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ComponentC <span class="keyword">from</span> <span class="string">&#x27;./ComponentC&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    ComponentA,</span><br><span class="line">    ComponentC</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ <code>ComponentA</code> å’Œ <code>ComponentC</code> éƒ½å¯ä»¥åœ¨ <code>ComponentB</code> çš„æ¨¡æ¿ä¸­ä½¿ç”¨äº†ã€‚</p>
<h3 id="é€šè¿‡-Prop-å‘å­ç»„ä»¶ä¼ é€’æ•°æ®"><a href="#é€šè¿‡-Prop-å‘å­ç»„ä»¶ä¼ é€’æ•°æ®" class="headerlink" title="é€šè¿‡ Prop å‘å­ç»„ä»¶ä¼ é€’æ•°æ®"></a>é€šè¿‡ Prop å‘å­ç»„ä»¶ä¼ é€’æ•°æ®</h3><p>Prop æ˜¯ä½ å¯ä»¥åœ¨ç»„ä»¶ä¸Šæ³¨å†Œçš„ä¸€äº›è‡ªå®šä¹‰ attributeã€‚å½“ä¸€ä¸ªå€¼ä¼ é€’ç»™ä¸€ä¸ª prop attribute çš„æ—¶å€™ï¼Œå®ƒå°±å˜æˆäº†é‚£ä¸ªç»„ä»¶å®ä¾‹çš„ä¸€ä¸ª propertyã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;blog-post-demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">blog-post</span> <span class="attr">v-for</span>=<span class="string">&quot;post in posts&quot;</span> <span class="attr">v-bind:key</span>=<span class="string">&quot;post.id&quot;</span> <span class="attr">v-bind:title</span>=<span class="string">&quot;post.title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;blog-post&#x27;</span>, &#123;</span><br><span class="line">    props: [<span class="string">&#x27;title&#x27;</span>],</span><br><span class="line">    template: <span class="string">&#x27;&lt;h3&gt;&#123;&#123; title &#125;&#125;&lt;/h3&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#blog-post-demo&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        posts: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">&#x27;My journey with Vue&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">title</span>: <span class="string">&#x27;Blogging with Vue&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">title</span>: <span class="string">&#x27;Why Vue is so fun&#x27;</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="å•ä¸ªæ ¹å…ƒç´ "><a href="#å•ä¸ªæ ¹å…ƒç´ " class="headerlink" title="å•ä¸ªæ ¹å…ƒç´ "></a>å•ä¸ªæ ¹å…ƒç´ </h3><p><strong>æ¯ä¸ªç»„ä»¶å¿…é¡»åªæœ‰ä¸€ä¸ªæ ¹å…ƒç´ </strong></p>
<p> <code>&lt;blog-post&gt;</code> ç»„ä»¶å¯ä»¥æ¥å—ä¸€ä¸ªå•ç‹¬çš„ <code>post</code> propï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;blog-post&#x27;</span>, &#123;</span><br><span class="line">  props: [<span class="string">&#x27;post&#x27;</span>],</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;blog-post&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;h3&gt;&#123;&#123; post.title &#125;&#125;&lt;/h3&gt;</span></span><br><span class="line"><span class="string">      &lt;div v-html=&quot;post.content&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h3 id="ç›‘å¬å­ç»„ä»¶äº‹ä»¶"><a href="#ç›‘å¬å­ç»„ä»¶äº‹ä»¶" class="headerlink" title="ç›‘å¬å­ç»„ä»¶äº‹ä»¶"></a>ç›‘å¬å­ç»„ä»¶äº‹ä»¶</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;blog-posts-events-demo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:style</span>=<span class="string">&quot;&#123; fontSize: postFontSize + &#x27;em&#x27; &#125;&quot;</span>&gt;</span></span><br><span class="line">    &lt;blog-post</span><br><span class="line">        v-for=&quot;post in posts&quot;</span><br><span class="line">        v-bind:key=&quot;post.id&quot;</span><br><span class="line">        v-bind:post=&quot;post&quot;</span><br><span class="line">        v-on:enlarge=&quot;postFontSize += 0.1&quot;</span><br><span class="line">    &gt;<span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é€šè¿‡ v-on ç›‘å¬å­ç»„ä»¶å®ä¾‹çš„enlargeäº‹ä»¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å­ç»„ä»¶å¯ä»¥é€šè¿‡è°ƒç”¨ $emit æ–¹æ³•å¹¶ä¼ å…¥äº‹ä»¶åç§°æ¥è§¦å‘ä¸€ä¸ªäº‹ä»¶</span></span><br><span class="line">Vue.component(<span class="string">&#x27;blog-post&#x27;</span>, &#123;</span><br><span class="line">    props: [<span class="string">&#x27;post&#x27;</span>],</span><br><span class="line">    template: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;blog-post&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;h3&gt;&#123;&#123; post.title &#125;&#125;&lt;/h3&gt;</span></span><br><span class="line"><span class="string">          &lt;button v-on:click=&quot;$emit(&#x27;enlarge&#x27;)&quot;&gt;Enlarge&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#blog-posts-events-demo&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        posts: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">title</span>: <span class="string">&#x27;My journey with Vue&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">title</span>: <span class="string">&#x27;Blogging with Vue&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">title</span>: <span class="string">&#x27;Why Vue is so fun&#x27;</span> &#125;</span><br><span class="line">        ],</span><br><span class="line">        postFontSize: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h4 id="ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼"><a href="#ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼" class="headerlink" title="ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼"></a>ä½¿ç”¨äº‹ä»¶æŠ›å‡ºä¸€ä¸ªå€¼</h4><p>ä¾‹å¦‚è®© <code>&lt;blog-post&gt;</code> ç»„ä»¶å†³å®šå®ƒçš„æ–‡æœ¬è¦æ”¾å¤§å¤šå°‘ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨ <code>$emit</code> çš„ç¬¬äºŒä¸ªå‚æ•°æ¥æä¾›è¿™ä¸ªå€¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;$emit(&#x27;enlarge&#x27;, 0.1)&quot;</span>&gt;</span>Enlarge<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åå½“åœ¨çˆ¶çº§ç»„ä»¶ç›‘å¬è¿™ä¸ªäº‹ä»¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>$event</code> è®¿é—®åˆ°è¢«æŠ›å‡ºçš„è¿™ä¸ªå€¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;blog-post</span><br><span class="line">  ...</span><br><span class="line">  v-on:enlarge=&quot;postFontSize += $event&quot;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ–è€…è¿™ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;blog-post</span><br><span class="line">  ...</span><br><span class="line">  v-on:enlarge=&quot;onEnlargeText&quot;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆè¿™ä¸ªå€¼å°†ä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥è¿™ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  onEnlargeText: <span class="function"><span class="keyword">function</span> (<span class="params">enlargeAmount</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.postFontSize += enlargeAmount</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="åœ¨ç»„ä»¶ä¸Šä½¿ç”¨-v-model"><a href="#åœ¨ç»„ä»¶ä¸Šä½¿ç”¨-v-model" class="headerlink" title="åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ v-model"></a>åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-model</code></h4><p>è‡ªå®šä¹‰äº‹ä»¶ä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºæ”¯æŒ <code>v-model</code> çš„è‡ªå®šä¹‰è¾“å…¥ç»„ä»¶ã€‚è®°ä½ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;searchText&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç­‰ä»·äºï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">  v-bind:value=&quot;searchText&quot;</span><br><span class="line">  v-on:input=&quot;searchText = $event.target.value&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<p>å½“ç”¨åœ¨ç»„ä»¶ä¸Šæ—¶ï¼Œ<code>v-model</code> åˆ™ä¼šè¿™æ ·ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;custom-input</span><br><span class="line">  v-bind:value=&quot;searchText&quot;</span><br><span class="line">  v-on:input=&quot;searchText = $event&quot;</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">custom-input</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†è®©å®ƒæ­£å¸¸å·¥ä½œï¼Œè¿™ä¸ªç»„ä»¶å†…çš„ <code>&lt;input&gt;</code> å¿…é¡»ï¼š</p>
<ul>
<li>å°†å…¶ <code>value</code> attribute ç»‘å®šåˆ°ä¸€ä¸ªåå« <code>value</code> çš„ prop ä¸Š</li>
<li>åœ¨å…¶ <code>input</code> äº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå°†æ–°çš„å€¼é€šè¿‡è‡ªå®šä¹‰çš„ <code>input</code> äº‹ä»¶æŠ›å‡º</li>
</ul>
<p>å†™æˆä»£ç ä¹‹åæ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;custom-input&#x27;</span>, &#123;</span><br><span class="line">  props: [<span class="string">&#x27;value&#x27;</span>],</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;input</span></span><br><span class="line"><span class="string">      v-bind:value=&quot;value&quot;</span></span><br><span class="line"><span class="string">      v-on:input=&quot;$emit(&#x27;input&#x27;, $event.target.value)&quot;</span></span><br><span class="line"><span class="string">    &gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ <code>v-model</code> å°±åº”è¯¥å¯ä»¥åœ¨è¿™ä¸ªç»„ä»¶ä¸Šå®Œç¾åœ°å·¥ä½œèµ·æ¥äº†ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">custom-input</span> <span class="attr">v-model</span>=<span class="string">&quot;searchText&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">custom-input</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="é€šè¿‡æ’æ§½åˆ†å‘å†…å®¹"><a href="#é€šè¿‡æ’æ§½åˆ†å‘å†…å®¹" class="headerlink" title="é€šè¿‡æ’æ§½åˆ†å‘å†…å®¹"></a>é€šè¿‡æ’æ§½åˆ†å‘å†…å®¹</h3><p>å’Œ HTML å…ƒç´ ä¸€æ ·ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å‘ä¸€ä¸ªç»„ä»¶ä¼ é€’å†…å®¹ï¼Œåƒè¿™æ ·ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">alert-box</span>&gt;</span></span><br><span class="line">  Something bad happened.</span><br><span class="line"><span class="tag">&lt;/<span class="name">alert-box</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨Vue è‡ªå®šä¹‰çš„ <code>&lt;slot&gt;</code> å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Vue.component(<span class="string">&#x27;alert-box&#x27;</span>, &#123;</span><br><span class="line">  template: <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;demo-alert-box&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;strong&gt;Error!&lt;/strong&gt;</span></span><br><span class="line"><span class="string">      &lt;slot&gt;&lt;/slot&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">  `</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - æ¨¡æ¿è¯­æ³•</title>
    <url>/2021/01/11/Vue%20-%20%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h2 id="Vue-æ¨¡æ¿è¯­æ³•"><a href="#Vue-æ¨¡æ¿è¯­æ³•" class="headerlink" title="Vue - æ¨¡æ¿è¯­æ³•"></a>Vue - æ¨¡æ¿è¯­æ³•</h2><h3 id="æ’å€¼"><a href="#æ’å€¼" class="headerlink" title="æ’å€¼"></a>æ’å€¼</h3><h4 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h4><p>å¸¸è§çš„å½¢å¼å°±æ˜¯ä½¿ç”¨ â€œMustacheâ€ è¯­æ³•çš„æ–‡æœ¬æ’å€¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä½¿ç”¨ v-once æŒ‡ä»¤ï¼Œèƒ½æ‰§è¡Œä¸€æ¬¡æ€§åœ°æ’å€¼ã€‚</p>
<h4 id="åŸå§‹-HTML"><a href="#åŸå§‹-HTML" class="headerlink" title="åŸå§‹ HTML"></a>åŸå§‹ HTML</h4><p>ä¸ºäº†è¾“å‡ºçœŸæ­£çš„ HTMLï¼Œä½ éœ€è¦ä½¿ç”¨ <code>v-html</code> æŒ‡ä»¤ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Using v-html directive: <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-html</span>=<span class="string">&quot;rawHtml&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &quot;#app&quot;,</span><br><span class="line">    data: &#123;</span><br><span class="line">        rawHtml: &#x27;<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: #00B7FF&quot;</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="Attribute"><a href="#Attribute" class="headerlink" title="Attribute"></a>Attribute</h4><p>å±æ€§ç»‘å®šåº”è¯¥ä½¿ç”¨ <code>v-bind</code> æŒ‡ä»¤ï¼š</p>
<p>å¯¹äºå¸ƒå°” attribute (å®ƒä»¬åªè¦å­˜åœ¨å°±æ„å‘³ç€å€¼ä¸º <code>true</code>)ï¼Œ<code>v-bind</code> å·¥ä½œèµ·æ¥ç•¥æœ‰ä¸åŒï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-bind:disabled</span>=<span class="string">&quot;isButtonDisabled&quot;</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœ <code>isButtonDisabled</code> çš„å€¼æ˜¯ <code>null</code>ã€<code>undefined</code> æˆ– <code>false</code>ï¼Œåˆ™ <code>disabled</code> attribute ç”šè‡³ä¸ä¼šè¢«åŒ…å«åœ¨æ¸²æŸ“å‡ºæ¥çš„ <code>&lt;button&gt;</code> å…ƒç´ ä¸­ã€‚</p>
<h4 id="ä½¿ç”¨JavaScriptè¡¨è¾¾å¼"><a href="#ä½¿ç”¨JavaScriptè¡¨è¾¾å¼" class="headerlink" title="ä½¿ç”¨JavaScriptè¡¨è¾¾å¼"></a>ä½¿ç”¨JavaScriptè¡¨è¾¾å¼</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;&#123; number + 1 &#125;&#125;</span><br><span class="line">&#123;&#123; ok ? &#x27;YES&#x27; : &#x27;NO&#x27; &#125;&#125;</span><br><span class="line">&#123;&#123; message.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;) &#125;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:id</span>=<span class="string">&quot;&#x27;list-&#x27; + id&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ¯ä¸ªç»‘å®šéƒ½åªèƒ½åŒ…å«<strong>å•ä¸ªè¡¨è¾¾å¼</strong>ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä¾‹å­éƒ½<strong>ä¸ä¼š</strong>ç”Ÿæ•ˆã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- è¿™æ˜¯è¯­å¥ï¼Œä¸æ˜¯è¡¨è¾¾å¼ --&gt;</span></span><br><span class="line">&#123;&#123; var a = 1 &#125;&#125;</span><br><span class="line"><span class="comment">&lt;!-- æµæ§åˆ¶ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œè¯·ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ --&gt;</span></span><br><span class="line">&#123;&#123; if (ok) &#123; return message &#125; &#125;&#125;</span><br></pre></td></tr></table></figure>


<h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h3><h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-bind:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œ <code>href</code> æ˜¯å‚æ•°ï¼Œå‘ŠçŸ¥ <code>v-bind</code> æŒ‡ä»¤å°†è¯¥å…ƒç´ çš„ <code>href</code> attribute ä¸è¡¨è¾¾å¼ <code>url</code> çš„å€¼ç»‘å®šã€‚</p>
<h4 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h4><p>ä¿®é¥°ç¬¦æ˜¯ <code>.</code> æŒ‡æ˜çš„ç‰¹æ®Šåç¼€ï¼Œç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®šã€‚ä¾‹å¦‚ï¼Œ<code>.prevent</code> ä¿®é¥°ç¬¦å‘Šè¯‰ <code>v-on</code> æŒ‡ä»¤å¯¹äºè§¦å‘çš„äº‹ä»¶è°ƒç”¨ <code>event.preventDefault()</code>ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;form v-on:submit.prevent&#x3D;&quot;onSubmit&quot;&gt;...&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>


<h3 id="ç¼©å†™"><a href="#ç¼©å†™" class="headerlink" title="ç¼©å†™"></a>ç¼©å†™</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- v-bind ç¼©å†™ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">:href</span>=<span class="string">&quot;url&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- v-on ç¼©å†™ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ç¼©å†™ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - è¡¨å•è¾“å…¥ç»‘å®š</title>
    <url>/2021/01/11/Vue%20-%20%E8%A1%A8%E5%8D%95%E8%BE%93%E5%85%A5%E7%BB%91%E5%AE%9A/</url>
    <content><![CDATA[<h2 id="Vue-è¡¨å•è¾“å…¥ç»‘å®š"><a href="#Vue-è¡¨å•è¾“å…¥ç»‘å®š" class="headerlink" title="Vue - è¡¨å•è¾“å…¥ç»‘å®š"></a>Vue - è¡¨å•è¾“å…¥ç»‘å®š</h2><h3 id="åŸºç¡€ç”¨æ³•"><a href="#åŸºç¡€ç”¨æ³•" class="headerlink" title="åŸºç¡€ç”¨æ³•"></a>åŸºç¡€ç”¨æ³•</h3><p>å¯ä»¥ç”¨ <code>v-model</code> æŒ‡ä»¤åœ¨è¡¨å• <code>&lt;input&gt;</code>ã€<code>&lt;textarea&gt;</code> åŠ <code>&lt;select&gt;</code> å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚</p>
<p><code>v-model</code> ä¼šå¿½ç•¥æ‰€æœ‰è¡¨å•å…ƒç´ çš„ <code>value</code>ã€<code>checked</code>ã€<code>selected</code> attribute çš„åˆå§‹å€¼ï¼Œå°† Vue å®ä¾‹çš„æ•°æ®ä½œä¸ºæ•°æ®æ¥æºã€‚</p>
<p><code>v-model</code> åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„ property å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š</p>
<ul>
<li>text å’Œ textarea å…ƒç´ ä½¿ç”¨ <code>value</code> property å’Œ <code>input</code> äº‹ä»¶ï¼›</li>
<li>checkbox å’Œ radio ä½¿ç”¨ <code>checked</code> property å’Œ <code>change</code> äº‹ä»¶ï¼›</li>
<li>select å­—æ®µå°† <code>value</code> ä½œä¸º property å¹¶å°† <code>change</code> ä½œä¸ºäº‹ä»¶ã€‚</li>
</ul>
<h4 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;edit me&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Message is: &#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="å¤šè¡Œæ–‡æœ¬"><a href="#å¤šè¡Œæ–‡æœ¬" class="headerlink" title="å¤šè¡Œæ–‡æœ¬"></a>å¤šè¡Œæ–‡æœ¬</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Multiline message is:<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;white-space: pre-line;&quot;</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;add multiple lines&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="å¤é€‰æ¡†"><a href="#å¤é€‰æ¡†" class="headerlink" title="å¤é€‰æ¡†"></a>å¤é€‰æ¡†</h4><p>å•ä¸ªå¤é€‰æ¡†ï¼Œç»‘å®šåˆ°å¸ƒå°”å€¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checked&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span>&#123;&#123; checked &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¤šä¸ªå¤é€‰æ¡†ï¼Œç»‘å®šåˆ°åŒä¸€ä¸ªæ•°ç»„ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;jack&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Jack&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checkedNames&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;jack&quot;</span>&gt;</span>Jack<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;john&quot;</span> <span class="attr">value</span>=<span class="string">&quot;John&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checkedNames&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;john&quot;</span>&gt;</span>John<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;mike&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Mike&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;checkedNames&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;mike&quot;</span>&gt;</span>Mike<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Checked names: &#123;&#123; checkedNames &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;...&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    checkedNames: []</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="å•é€‰æŒ‰é’®"><a href="#å•é€‰æŒ‰é’®" class="headerlink" title="å•é€‰æŒ‰é’®"></a>å•é€‰æŒ‰é’®</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;example-4&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;one&quot;</span> <span class="attr">value</span>=<span class="string">&quot;One&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;picked&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;one&quot;</span>&gt;</span>One<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">id</span>=<span class="string">&quot;two&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Two&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;picked&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;two&quot;</span>&gt;</span>Two<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>Picked: &#123;&#123; picked &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#example-4&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    picked: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="é€‰æ‹©æ¡†"><a href="#é€‰æ‹©æ¡†" class="headerlink" title="é€‰æ‹©æ¡†"></a>é€‰æ‹©æ¡†</h4><p>å•é€‰æ—¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;example-5&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;selected&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">disabled</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>è¯·é€‰æ‹©<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>A<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>B<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>C<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>Selected: &#123;&#123; selected &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;...&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    selected: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>æ¨èåƒä¸Šé¢è¿™æ ·æä¾›ä¸€ä¸ªå€¼ä¸ºç©ºçš„ç¦ç”¨é€‰é¡¹ã€‚</p>
<p>å¤šé€‰æ—¶ (ç»‘å®šåˆ°ä¸€ä¸ªæ•°ç»„)ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;example-6&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">multiple</span> <span class="attr">style</span>=<span class="string">&quot;width: 50px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>A<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>B<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span>&gt;</span>C<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>Selected: &#123;&#123; selected &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#example-6&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    selected: []</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ç”¨ <code>v-for</code> æ¸²æŸ“çš„åŠ¨æ€é€‰é¡¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;selected&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-for</span>=<span class="string">&quot;option in options&quot;</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;option.value&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; option.text &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>Selected: &#123;&#123; selected &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;...&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    selected: <span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">    options: [</span><br><span class="line">      &#123; <span class="attr">text</span>: <span class="string">&#x27;One&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;A&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">text</span>: <span class="string">&#x27;Two&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;B&#x27;</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">text</span>: <span class="string">&#x27;Three&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;C&#x27;</span> &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="å€¼ç»‘å®š"><a href="#å€¼ç»‘å®š" class="headerlink" title="å€¼ç»‘å®š"></a>å€¼ç»‘å®š</h3><p>å¯¹äºå•é€‰æŒ‰é’®ï¼Œå¤é€‰æ¡†åŠé€‰æ‹©æ¡†çš„é€‰é¡¹ï¼Œ<code>v-model</code> ç»‘å®šçš„å€¼é€šå¸¸æ˜¯é™æ€å­—ç¬¦ä¸² (å¯¹äºå¤é€‰æ¡†ä¹Ÿå¯ä»¥æ˜¯å¸ƒå°”å€¼)ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å½“é€‰ä¸­æ—¶ï¼Œ`picked` ä¸ºå­—ç¬¦ä¸² &quot;a&quot; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;picked&quot;</span> <span class="attr">value</span>=<span class="string">&quot;a&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- `toggle` ä¸º true æˆ– false --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;toggle&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å½“é€‰ä¸­ç¬¬ä¸€ä¸ªé€‰é¡¹æ—¶ï¼Œ`selected` ä¸ºå­—ç¬¦ä¸² &quot;abc&quot; --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;selected&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;abc&quot;</span>&gt;</span>ABC<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬å¯èƒ½æƒ³æŠŠå€¼ç»‘å®šåˆ° Vue å®ä¾‹çš„ä¸€ä¸ªåŠ¨æ€ property ä¸Šï¼Œè¿™æ—¶å¯ä»¥ç”¨ <code>v-bind</code> å®ç°ï¼Œå¹¶ä¸”è¿™ä¸ª property çš„å€¼å¯ä»¥ä¸æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<h4 id="å¤é€‰æ¡†-1"><a href="#å¤é€‰æ¡†-1" class="headerlink" title="å¤é€‰æ¡†"></a>å¤é€‰æ¡†</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">  type=&quot;checkbox&quot;</span><br><span class="line">  v-model=&quot;toggle&quot;</span><br><span class="line">  true-value=&quot;yes&quot;</span><br><span class="line">  false-value=&quot;no&quot;&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å½“é€‰ä¸­æ—¶</span></span><br><span class="line">vm.toggle === <span class="string">&#x27;yes&#x27;</span></span><br><span class="line"><span class="comment">// å½“æ²¡æœ‰é€‰ä¸­æ—¶</span></span><br><span class="line">vm.toggle === <span class="string">&#x27;no&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ <code>true-value</code> å’Œ <code>false-value</code> attribute å¹¶ä¸ä¼šå½±å“è¾“å…¥æ§ä»¶çš„ <code>value</code> attributeï¼Œå› ä¸ºæµè§ˆå™¨åœ¨æäº¤è¡¨å•æ—¶å¹¶ä¸ä¼šåŒ…å«æœªè¢«é€‰ä¸­çš„å¤é€‰æ¡†ã€‚å¦‚æœè¦ç¡®ä¿è¡¨å•ä¸­è¿™ä¸¤ä¸ªå€¼ä¸­çš„ä¸€ä¸ªèƒ½å¤Ÿè¢«æäº¤ï¼Œ(å³â€œyesâ€æˆ–â€œnoâ€)ï¼Œè¯·æ¢ç”¨å•é€‰æŒ‰é’®ã€‚</p>
<h4 id="å•é€‰æŒ‰é’®-1"><a href="#å•é€‰æŒ‰é’®-1" class="headerlink" title="å•é€‰æŒ‰é’®"></a>å•é€‰æŒ‰é’®</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;pick&quot;</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;a&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å½“é€‰ä¸­æ—¶</span></span><br><span class="line">vm.pick === vm.a</span><br></pre></td></tr></table></figure>
<h4 id="é€‰æ‹©æ¡†çš„é€‰é¡¹"><a href="#é€‰æ‹©æ¡†çš„é€‰é¡¹" class="headerlink" title="é€‰æ‹©æ¡†çš„é€‰é¡¹"></a>é€‰æ‹©æ¡†çš„é€‰é¡¹</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">v-model</span>=<span class="string">&quot;selected&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- å†…è”å¯¹è±¡å­—é¢é‡ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">v-bind:value</span>=<span class="string">&quot;&#123; number: 123 &#125;&quot;</span>&gt;</span>123<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å½“é€‰ä¸­æ—¶</span></span><br><span class="line"><span class="keyword">typeof</span> vm.selected <span class="comment">// =&gt; &#x27;object&#x27;</span></span><br><span class="line">vm.selected.number <span class="comment">// =&gt; 123</span></span><br></pre></td></tr></table></figure>


<h3 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h3><ul>
<li><code>.lazy</code></li>
</ul>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>v-model</code> åœ¨æ¯æ¬¡ <code>input</code> äº‹ä»¶è§¦å‘åå°†è¾“å…¥æ¡†çš„å€¼ä¸æ•°æ®è¿›è¡ŒåŒæ­¥ ã€‚ä½ å¯ä»¥æ·»åŠ  <code>lazy</code> ä¿®é¥°ç¬¦ï¼Œä»è€Œè½¬ä¸ºåœ¨ <code>change</code> äº‹ä»¶_ä¹‹å_è¿›è¡ŒåŒæ­¥ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ¨changeæ—¶è€Œéinputæ—¶æ›´æ–° --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>.number</code></li>
</ul>
<p>å¦‚æœæƒ³è‡ªåŠ¨å°†ç”¨æˆ·çš„è¾“å…¥å€¼è½¬ä¸ºæ•°å€¼ç±»å‹ï¼Œå¯ä»¥ç»™ <code>v-model</code> æ·»åŠ  <code>number</code> ä¿®é¥°ç¬¦ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.number</span>=<span class="string">&quot;age&quot;</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é€šå¸¸å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå³ä½¿åœ¨ <code>type=&quot;number&quot;</code> æ—¶ï¼ŒHTML è¾“å…¥å…ƒç´ çš„å€¼ä¹Ÿæ€»ä¼šè¿”å›å­—ç¬¦ä¸²ã€‚å¦‚æœè¿™ä¸ªå€¼æ— æ³•è¢« <code>parseFloat()</code> è§£æï¼Œåˆ™ä¼šè¿”å›åŸå§‹çš„å€¼ã€‚</p>
<ul>
<li><code>.trim</code></li>
</ul>
<p>å¦‚æœè¦è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦ï¼Œå¯ä»¥ç»™ <code>v-model</code> æ·»åŠ  <code>trim</code> ä¿®é¥°ç¬¦ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model.trim</span>=<span class="string">&quot;msg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue - è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨</title>
    <url>/2021/01/11/Vue%20-%20%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%92%8C%E4%BE%A6%E5%90%AC%E5%99%A8/</url>
    <content><![CDATA[<h2 id="Vue-è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨"><a href="#Vue-è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨" class="headerlink" title="Vue - è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨"></a>Vue - è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨</h2><h3 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h3><h4 id="åŸºç¡€ä¾‹å­"><a href="#åŸºç¡€ä¾‹å­" class="headerlink" title="åŸºç¡€ä¾‹å­"></a>åŸºç¡€ä¾‹å­</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;example&quot;</span>&gt;</span><br><span class="line">  &lt;p&gt;Original message: <span class="string">&quot;&#123;&#123; message &#125;&#125;&quot;</span>&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;Computed reversed message: <span class="string">&quot;&#123;&#123; reversedMessage &#125;&#125;&quot;</span>&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#example&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        message: <span class="string">&#x27;Hello&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">        <span class="function"><span class="title">reversedMessage</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">            <span class="comment">// thisæŒ‡å‘ vm å®ä¾‹</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.message.split(<span class="string">&#x27;&#x27;</span>).reverse().join(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h4 id="è®¡ç®—å±æ€§ç¼“å­˜-vs-æ–¹æ³•"><a href="#è®¡ç®—å±æ€§ç¼“å­˜-vs-æ–¹æ³•" class="headerlink" title="è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•"></a>è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•</h4><p><strong>è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„</strong>ã€‚åªåœ¨ç›¸å…³å“åº”å¼ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶å®ƒä»¬æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚è¿™å°±æ„å‘³ç€åªè¦ <code>message</code> è¿˜æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå¤šæ¬¡è®¿é—® <code>reversedMessage</code> è®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ¯å½“è§¦å‘é‡æ–°æ¸²æŸ“æ—¶ï¼Œè°ƒç”¨æ–¹æ³•å°†<strong>æ€»ä¼š</strong>å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚</p>
<h4 id="è®¡ç®—å±æ€§-vs-ä¾¦å¬å±æ€§"><a href="#è®¡ç®—å±æ€§-vs-ä¾¦å¬å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§ vs ä¾¦å¬å±æ€§"></a>è®¡ç®—å±æ€§ vs ä¾¦å¬å±æ€§</h4><p>ä»¥ä¸‹ä¾‹å­æ›´å¥½çš„åšæ³•æ˜¯ä½¿ç”¨è®¡ç®—å±æ€§è€Œä¸æ˜¯å‘½ä»¤å¼çš„ <code>watch</code> å›è°ƒã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span>&#123;&#123; fullName &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#demo&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">&#x27;Foo&#x27;</span>,</span><br><span class="line">    lastName: <span class="string">&#x27;Bar&#x27;</span>,</span><br><span class="line">    fullName: <span class="string">&#x27;Foo Bar&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    firstName: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.fullName = val + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.lastName</span><br><span class="line">    &#125;,</span><br><span class="line">    lastName: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + <span class="string">&#x27; &#x27;</span> + val</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç æ˜¯å‘½ä»¤å¼ä¸”é‡å¤çš„ã€‚å°†å®ƒä¸è®¡ç®—å±æ€§çš„ç‰ˆæœ¬è¿›è¡Œæ¯”è¾ƒï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#demo&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">&#x27;Foo&#x27;</span>,</span><br><span class="line">    lastName: <span class="string">&#x27;Bar&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    fullName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.firstName + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.lastName</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


<h4 id="è®¡ç®—å±æ€§çš„-setter"><a href="#è®¡ç®—å±æ€§çš„-setter" class="headerlink" title="è®¡ç®—å±æ€§çš„ setter"></a>è®¡ç®—å±æ€§çš„ setter</h4><p>è®¡ç®—å±æ€§é»˜è®¤åªæœ‰ getterï¼Œéœ€è¦æ—¶å¯ä»¥æä¾›ä¸€ä¸ª setterã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">set: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>


<h3 id="ä¾¦å¬å™¨"><a href="#ä¾¦å¬å™¨" class="headerlink" title="ä¾¦å¬å™¨"></a>ä¾¦å¬å™¨</h3><p> Vue é€šè¿‡ <code>watch</code> é€‰é¡¹æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ï¼Œæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯æœ€æœ‰ç”¨çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&#x27;#demo&#x27;</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">&#x27;Foo&#x27;</span>,</span><br><span class="line">    lastName: <span class="string">&#x27;Bar&#x27;</span>,</span><br><span class="line">    fullName: <span class="string">&#x27;Foo Bar&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    firstName: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.fullName = val + <span class="string">&#x27; &#x27;</span> + <span class="built_in">this</span>.lastName</span><br><span class="line">    &#125;,</span><br><span class="line">    lastName: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.fullName = <span class="built_in">this</span>.firstName + <span class="string">&#x27; &#x27;</span> + val</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯åŸºç¡€</title>
    <url>/2021/01/10/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<p>å‰ç«¯åŸºç¡€</p>
<p><a href="https://www.w3school.com.cn/h.asp">HTMLå‚è€ƒæ–‡æ¡£</a></p>
<p><a href="https://www.w3school.com.cn/h.asp">CSSå‚è€ƒæ–‡æ¡£</a></p>
<p><a href="https://www.w3school.com.cn/js/index.asp">JavaScriptå‚è€ƒæ–‡æ¡£</a></p>
<p><a href="https://jquery.cuishifeng.cn/index.html">jQueryå‚è€ƒæ–‡æ¡£</a></p>
<p><strong>CSSé€‰æ‹©å™¨</strong></p>
<ul>
<li><p>æ ‡ç­¾é€‰æ‹©å™¨</p>
</li>
<li><p>idé€‰æ‹©å™¨</p>
</li>
<li><p>ç±»é€‰æ‹©å™¨ </p>
</li>
<li><p>åä»£é€‰æ‹©å™¨</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.d</span> <span class="selector-tag">p</span> &#123;&#125; &lt;!<span class="selector-tag">--</span> <span class="selector-tag">class</span> ä¸º <span class="selector-tag">d</span>ï¼Œåä»£ä¸º <span class="selector-tag">p</span> æ ‡ç­¾ <span class="selector-tag">--</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>äº¤é›†é€‰æ‹©å™¨</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.p2</span> &#123;&#125; &lt;!<span class="selector-tag">--</span> ä¸­é—´æ²¡æœ‰ç©ºæ ¼(<span class="selector-tag">p</span><span class="selector-class">.p2</span> åˆå« <span class="selector-tag">p</span> æ ‡ç­¾ åˆå«<span class="selector-tag">p2</span>) <span class="selector-tag">--</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>å¹¶é›†é€‰æ‹©å™¨</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.d4</span> <span class="selector-tag">h1</span>,<span class="selector-tag">li</span> &#123;&#125; &lt;!<span class="selector-tag">--</span> ä¸­é—´ç”¨é€—å·éš”å¼€ <span class="selector-tag">--</span>&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>é€šé…ç¬¦  (*)</p>
</li>
</ul>
<p><strong>ç›’æ¨¡å‹</strong></p>
<ul>
<li>widthï¼šæŒ‡çš„æ˜¯å†…å®¹åŒºåŸŸçš„å®½åº¦</li>
<li>heightï¼šå€¼å¾—æ˜¯å†…å®¹åŒºåŸŸçš„é«˜åº¦</li>
<li>paddingï¼šå†…è¾¹è·</li>
<li>borderï¼šè¾¹æ¡†</li>
<li>marginï¼šå¤–è¾¹è·</li>
</ul>
]]></content>
      <categories>
        <category>å‰ç«¯åŸºç¡€</category>
      </categories>
      <tags>
        <tag>å‰ç«¯åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitçš„ä½¿ç”¨</title>
    <url>/2021/01/19/Git/</url>
    <content><![CDATA[<h1 id="Gitçš„ä½¿ç”¨"><a href="#Gitçš„ä½¿ç”¨" class="headerlink" title="Gitçš„ä½¿ç”¨"></a>Gitçš„ä½¿ç”¨</h1><p><a href="https://learngitbranching.js.org/">https://learngitbranching.js.org</a> git å­¦ä¹ ç½‘ç«™</p>
<p><a href="http://www.javaboy.org/git/">http://www.javaboy.org/git/</a></p>
<h2 id="GitåŸºæœ¬æ“ä½œ"><a href="#GitåŸºæœ¬æ“ä½œ" class="headerlink" title="GitåŸºæœ¬æ“ä½œ"></a>GitåŸºæœ¬æ“ä½œ</h2><p><strong>å·¥ä½œåŒºå’Œæš‚å­˜åŒº</strong></p>
<p><img src="http://www.javaboy.org/images/git/p166.png" alt="img"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å·¥ä½œåŒºå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æˆ‘ä»¬èƒ½çœ‹åˆ°çš„å·¥ä½œç›®å½•ï¼Œå°±æ˜¯æœ¬åœ°çš„æ–‡ä»¶å¤¹ã€‚</span><br><span class="line">è¿™äº›æœ¬åœ°çš„æ–‡ä»¶å¤¹æˆ‘ä»¬è¦é€šè¿‡ git add å‘½ä»¤å…ˆå°†ä»–ä»¬æ·»åŠ åˆ°æš‚å­˜åŒºä¸­ã€‚</span><br><span class="line">git commit å‘½ä»¤åˆ™å¯ä»¥å°†æš‚å­˜åŒºä¸­çš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“ä¸­å»ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">-åˆå§‹åŒ–ä»“åº“     git init</span></span><br><span class="line"><span class="comment">-æŸ¥çœ‹ä»“åº“çŠ¶æ€   git status</span></span><br><span class="line"><span class="comment">-æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº   git add filename</span></span><br><span class="line"><span class="comment">-æäº¤åˆ°æœ¬åœ°ä»“åº“   git commit -m &quot;å¤‡æ³¨&quot;</span></span><br><span class="line"><span class="comment">-ä¿®æ”¹æäº¤å¤‡æ³¨   git commit --amend</span></span><br><span class="line"><span class="comment">-æŸ¥çœ‹æäº¤æ—¥å¿—   git log</span></span><br><span class="line"><span class="comment">-æ˜¾ç¤ºæ—¥å¿—ç®€ç•¥ä¿¡æ¯   git log --pretty=short</span></span><br><span class="line"><span class="comment">-æŸ¥çœ‹æŸä¸€ä¸ªæ–‡ä»¶çš„æäº¤æ—¥å¿—   git log filename</span></span><br><span class="line"><span class="comment">-æŸ¥çœ‹æäº¤æ—¶æ–‡ä»¶çš„å˜åŒ–ï¼ŒåŠ ä¸Š -p å‚æ•°å³å¯ï¼Œç»¿è‰²çš„ + è¡¨ç¤ºæ–°å¢çš„è¡Œï¼Œçº¢è‰²çš„ - è¡¨ç¤ºåˆ é™¤çš„è¡Œã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-git log æœ‰ä¸€ä¸ªå±€é™æ€§ï¼Œå°±æ˜¯ä¸èƒ½æŸ¥çœ‹å·²ç»åˆ é™¤çš„ commit çš„æ—¥å¿—ã€‚ä¸¾ä¸ªä¾‹å­ï¼šä¸‹ç­äº†ï¼Œæˆ‘å‘ç°ä»Šå¤©ä¸‹åˆæäº¤çš„ä»£ç å…¨éƒ½æ˜¯æœ‰é—®é¢˜çš„ï¼Œäºæ˜¯åšäº†ä¸€ä¸ªç‰ˆæœ¬å›é€€ï¼Œå›é€€åˆ°ä»Šå¤©æ—©ä¸Šçš„çŠ¶æ€ï¼Œç„¶åå…³æœºå›å®¶ï¼Œç¬¬äºŒå¤©æ¥äº†åæˆ‘å‘ç°æé”™äº†ï¼Œå…¶å®é‚£äº›ä»£ç éƒ½æ˜¯ OK çš„ï¼Œäºæ˜¯æˆ‘åˆæƒ³è®©ä»“åº“ç‰ˆæœ¬å‰è¿›åˆ°æ˜¨å¤©ä¸‹åˆçš„çŠ¶æ€ï¼Œå´å‘ç° git log å‘½ä»¤æŸ¥çœ‹ä¸åˆ°æ˜¨å¤©ä¸‹åˆæäº¤çš„ç‰ˆæœ¬å·ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ git reflog å‘½ä»¤æ¥å®ç°è¿™ä¸€ä¸ªè¯·æ±‚ï¼Œ git reflog å‘½ä»¤å¯ä»¥æ˜¾ç¤ºæ•´ä¸ªæœ¬åœ°ä»“åº“çš„ commit, åŒ…æ‹¬æ‰€æœ‰ branch çš„ commit, ç”šè‡³åŒ…æ‹¬å·²ç»æ’¤é”€çš„ commit, åªè¦ HEAD å‘ç”Ÿäº†å˜åŒ–, å°±ä¼šåœ¨ reflog é‡Œé¢çœ‹å¾—åˆ°ï¼Œè€Œ git log åªæ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ commit ï¼Œå¹¶ä¸”ä¸æ˜¾ç¤ºåˆ é™¤æ‰çš„ commitã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-æŸ¥çœ‹æ›´æ”¹å‰åçš„å·®å¼‚ </span></span><br><span class="line"><span class="comment">git diff å‘½ä»¤å¯ä»¥æŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„åŒºåˆ«ä»¥åŠå·¥ä½œåŒºå’Œæœ€æ–°æäº¤çš„å·®åˆ«</span></span><br><span class="line"><span class="comment">å·¥ä½œåŒºå’Œæœ¬åœ°ä»“åº“ä¸­æœ€æ–°æäº¤çš„å†…å®¹çš„å·®å¼‚ï¼Œå¯ä»¥é€šè¿‡ git diff HEAD å‘½ä»¤æŸ¥çœ‹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-å‹ç¼©æäº¤å†å²</span></span><br><span class="line"><span class="comment">git rebase -i å‘½ä»¤å¯ä»¥å®ç°æäº¤å†å²çš„å‹ç¼©ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨å¼€å‘æŸä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œæäº¤äº†å¾ˆå¤šæ¬¡ï¼Œå½“æ‰€æœ‰åŠŸèƒ½éƒ½å†™å®Œæ—¶ï¼Œæƒ³å°†è¿™äº›æäº¤å‹ç¼©ä¸ºä¸€ä¸ªï¼Œå°±å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>


<h2 id="Git-ä¸­çš„åæ‚”è¯"><a href="#Git-ä¸­çš„åæ‚”è¯" class="headerlink" title="Git ä¸­çš„åæ‚”è¯"></a>Git ä¸­çš„åæ‚”è¯</h2><h3 id="å·¥ä½œåŒºçš„ä»£ç æ’¤é”€"><a href="#å·¥ä½œåŒºçš„ä»£ç æ’¤é”€" class="headerlink" title="å·¥ä½œåŒºçš„ä»£ç æ’¤é”€"></a>å·¥ä½œåŒºçš„ä»£ç æ’¤é”€</h3><p>å¯èƒ½æœ‰ä¸€å¤©æˆ‘æ­£åœ¨å†™ä»£ç ï¼Œå†™äº†å¾ˆä¹…å‘ç°å†™é”™äº†ï¼Œæƒ³æ¢å¤åˆ°ä¸€å¼€å§‹çš„çŠ¶æ€ï¼Œä¸€ä¸ªç¬¨åŠæ³•å°±æ˜¯æŠŠåˆšåˆšå†™çš„ä»£ç ä¸€è¡Œä¸€è¡Œçš„åˆ é™¤ï¼Œä¸è¿‡è¿™ç§æ–¹å¼æˆæœ¬å¤ªé«˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>git checkout -- &lt;file&gt;</code> å‘½ä»¤æ¥æ’¤é”€å·¥ä½œåŒºçš„ä»£ç ä¿®æ”¹ã€‚</p>
<p><img src="http://www.javaboy.org/images/git/p182.gif"></p>
<p>é¦–å…ˆæˆ‘ä»¬æ‰§è¡Œäº† git status å‘½ä»¤ï¼Œå‘ç°å·¥ä½œåŒºæ˜¯å¹²å‡€çš„ï¼Œç„¶åæ‰§è¡Œäº† cat å‘½ä»¤ï¼Œå‘ç°æ–‡ä»¶åªæœ‰ä¸¤è¡Œå†…å®¹ï¼Œç„¶åé€šè¿‡ vi ç¼–è¾‘å™¨å‘æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼Œä¿å­˜å¹¶é€€å‡ºï¼Œé€€å‡ºæ¥ä¹‹ååˆæ‰§è¡Œäº† git status å‘½ä»¤ï¼Œæ­¤æ—¶å·¥ä½œåŒºçš„çŠ¶æ€å·²ç»å‘ç”Ÿå˜åŒ–ï¼Œç„¶åæˆ‘ä»¬æ‰§è¡Œäº† git checkout â€“ git01.txt å‘½ä»¤ï¼Œè¡¨ç¤ºæ’¤é”€ä¹‹å‰çš„æ“ä½œï¼Œè®© git01.txt æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œè¯¥å‘½ä»¤æ‰§è¡ŒæˆåŠŸä¹‹åï¼Œæˆ‘ä»¬å†æ‰§è¡Œ cat å‘½ä»¤å‘ç°æ–‡ä»¶å†…å®¹å·²ç»æ¢å¤äº†ï¼Œæ­¤æ—¶å†æ‰§è¡Œ git status ï¼ŒçŠ¶æ€ä¹Ÿæ¢å¤äº†ã€‚</p>
<h3 id="æš‚å­˜åŒºçš„ä»£ç æƒ³æ’¤é”€"><a href="#æš‚å­˜åŒºçš„ä»£ç æƒ³æ’¤é”€" class="headerlink" title="æš‚å­˜åŒºçš„ä»£ç æƒ³æ’¤é”€"></a>æš‚å­˜åŒºçš„ä»£ç æƒ³æ’¤é”€</h3><p>ä»£ç å·²ç»æäº¤åˆ°æš‚å­˜åŒºä¹Ÿèƒ½æ’¤é”€ï¼Œåˆ†ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<p>1.å°†æš‚å­˜åŒºçš„ä»£ç æ’¤é”€åˆ°å·¥ä½œåŒº  <code>git reset HEAD</code><br>2.å°†å·¥ä½œåŒºçš„ä»£ç æ’¤é”€</p>
<h3 id="æäº¤åˆ°æœ¬åœ°ä»“åº“çš„ä»£ç æƒ³æ’¤é”€"><a href="#æäº¤åˆ°æœ¬åœ°ä»“åº“çš„ä»£ç æƒ³æ’¤é”€" class="headerlink" title="æäº¤åˆ°æœ¬åœ°ä»“åº“çš„ä»£ç æƒ³æ’¤é”€"></a>æäº¤åˆ°æœ¬åœ°ä»“åº“çš„ä»£ç æƒ³æ’¤é”€</h3><p>åˆ©ç”¨ <code>git reset --hard &lt;ç‰ˆæœ¬å·&gt;</code> å‘½ä»¤æ¥å®ç°ç‰ˆæœ¬å›é€€ï¼Œè¯¥å‘½ä»¤ä¸­çš„ç‰ˆæœ¬å·æœ‰å‡ ç§ä¸åŒçš„å†™æ³•ï¼š</p>
<blockquote>
<p>1.å¯ä»¥ä½¿ç”¨ HEAD^ æ¥æè¿°ç‰ˆæœ¬ï¼Œä¸€ä¸ª ^ è¡¨ç¤ºå‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¸¤ä¸ª ^^ è¡¨ç¤ºå‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä»¥æ­¤ç±»æ¨ã€‚<br>2.ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ¥ä»£æ›¿ ^ ï¼Œæ¯”å¦‚è¯´å‰ 100 ä¸ªç‰ˆæœ¬å¯ä»¥å†™ä½œ HEAD~100 ã€‚<br>3.ä¹Ÿå¯ä»¥ç›´æ¥å†™ç‰ˆæœ¬å·ï¼Œè¡¨ç¤ºè·³è½¬åˆ°æŸä¸€ä¸ªç‰ˆæœ¬å¤„ã€‚æˆ‘ä»¬æ¯æ¬¡æäº¤æˆåŠŸåï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªå“ˆå¸Œç ä½œä¸ºç‰ˆæœ¬å·ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥å¡«ç‰ˆæœ¬å·ï¼Œå“ˆå¸Œç å¾ˆé•¿ï¼Œä½†æ˜¯åªéœ€è¦è¾“å…¥å‰é¢å‡ ä¸ªå­—ç¬¦å³å¯ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">é€šè¿‡ git log æŸ¥çœ‹å½“å‰æäº¤æ—¥å¿—</span><br><span class="line">git reset HEAD^^ å‘å‰å›é€€ä¸¤ä¸ªç‰ˆæœ¬</span><br><span class="line">æŸ¥çœ‹æ—¥å¿—ï¼Œå‘ç°æœ€åä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬å·æ˜¯ 695ce1fe , åˆ©ç”¨ git reset --hard 695ce1fe å‘½ä»¤å›åˆ°å›é€€ä¹‹å‰çš„çŠ¶æ€</span><br><span class="line">é€šè¿‡ git reset --hard HEAD~<span class="number">1</span> å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</span><br></pre></td></tr></table></figure>


<h2 id="Git-åˆ†æ”¯ç®¡ç†"><a href="#Git-åˆ†æ”¯ç®¡ç†" class="headerlink" title="Git åˆ†æ”¯ç®¡ç†"></a>Git åˆ†æ”¯ç®¡ç†</h2><p><strong>åˆ†æ”¯çš„å¿…è¦æ€§</strong></p>
<p>åœ¨å®Œæˆä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œä¸å¯èƒ½æ˜¯â€œå•çº¿ç¨‹â€å¼€å‘çš„ï¼Œä¾‹å¦‚ï¼šé¡¹ç›® 2.0 ç‰ˆæœ¬ä¸Šçº¿äº†ï¼Œç°åœ¨è¦ç€æ‰‹å¼€å‘ 3.0 ç‰ˆæœ¬ï¼ŒåŒæ—¶ 2.0 ç‰ˆæœ¬å¯èƒ½è¿˜æœ‰ä¸€äº› bug éœ€è¦ä¿®å¤ï¼Œè¿™äº› bug ä¿®å¤ä¹‹åæˆ‘ä»¬å¯èƒ½è¿˜ä¼šå‘ 2.1ï¼Œ2.2ï¼Œ2.3 è¿™äº›ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ç­‰æ‰€æœ‰ bug éƒ½ä¿®å¤å®Œäº†å†å»å¼€å‘ 3.0 ç‰ˆæœ¬ï¼Œä¿®å¤ 2.0 çš„ bug å’Œå¼€å‘ 3.0 çš„æ–°åŠŸèƒ½æ˜¯ä¸¤ä¸ªå¹¶è¡Œçš„ä»»åŠ¡ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ 3.0 çš„åŠŸèƒ½å¼€å‘ç›´æ¥åœ¨ master åˆ†æ”¯ä¸Šè¿›è¡Œè‚¯å®šä¸åˆé€‚ï¼Œæˆ‘ä»¬è¦ä¿è¯æœ‰ä¸€ä¸ªç¨³å®šï¼Œå¯ä»¥éšæ—¶å‘ç‰ˆæœ¬çš„åˆ†æ”¯å­˜åœ¨ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªè§’è‰²ç”± master åˆ†æ”¯æ¥æ‰®æ¼”ï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥çµæ´»çš„ä½¿ç”¨ Git ä¸­çš„åˆ†æ”¯ç®¡ç†åŠŸèƒ½ï¼š</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªé•¿æœŸåˆ†æ”¯ç”¨æ¥å¼€å‘ 3.0 åŠŸèƒ½ï¼Œå‡è®¾è¿™ä¸ªåˆ†æ”¯çš„åå­—å°±å« v3ï¼Œæˆ‘ä»¬åœ¨ v3 ä¸Šæ·»åŠ æ–°åŠŸèƒ½ï¼Œå¹¶ä¸æ–­æµ‹è¯•ï¼Œå½“    v3 ç¨³å®šåï¼Œå°† v3 åˆå¹¶åˆ° master åˆ†æ”¯ä¸Šã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªç‰¹æ€§åˆ†æ”¯ç”¨æ¥ä¿®å¤ 2.0 çš„ bug ï¼Œä¸€æ—¦ bug ä¿®å¤æˆåŠŸï¼Œå°±å°†è¯¥åˆ†æ”¯åˆå¹¶åˆ° master ä¸Šï¼Œä¸€å‘ç°æ–° bugï¼Œ    å°±ç«‹é©¬å†åˆ›å»ºåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œä¿®å¤æˆåŠŸä¹‹åå†åˆå¹¶ã€‚</li>
</ol>
<h3 id="æŸ¥çœ‹åˆ†æ”¯"><a href="#æŸ¥çœ‹åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹åˆ†æ”¯"></a>æŸ¥çœ‹åˆ†æ”¯</h3><p> <code>git branch</code> å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ä»“åº“æœ‰å“ªäº›åˆ†æ”¯ï¼Œå¤„äºå“ªä¸€ä¸ªåˆ†æ”¯ã€‚</p>
<h3 id="åˆ†æ”¯åˆ›å»ºå’Œåˆ‡æ¢"><a href="#åˆ†æ”¯åˆ›å»ºå’Œåˆ‡æ¢" class="headerlink" title="åˆ†æ”¯åˆ›å»ºå’Œåˆ‡æ¢"></a>åˆ†æ”¯åˆ›å»ºå’Œåˆ‡æ¢</h3><p><code>git branch &lt;åˆ†æ”¯å&gt;</code> å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œç„¶ååˆ©ç”¨ <code>git checkout &lt;åˆ†æ”¯å&gt;</code> æ¥åˆ‡æ¢åˆ†æ”¯</p>
<p> <code>git checkout -b &lt;åˆ†æ”¯å&gt;</code>  åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</p>
<p> <code>git checkout -</code>  åˆ‡æ¢å›ä¸Šä¸€ä¸ªåˆ†æ”¯</p>
<h3 id="åˆ†æ”¯åˆå¹¶"><a href="#åˆ†æ”¯åˆå¹¶" class="headerlink" title="åˆ†æ”¯åˆå¹¶"></a>åˆ†æ”¯åˆå¹¶</h3><ol>
<li><p>ç°åœ¨åˆ‡æ¢åˆ° fa åˆ†æ”¯ï¼Œç”±äº fa åˆ†æ”¯æ˜¯ä» master åˆ†æ”¯ä¸­åˆ›å»ºå‡ºæ¥çš„ï¼Œæ‰€ä»¥ fa åˆ†æ”¯çš„å†…å®¹å’Œ master åˆ†æ”¯çš„å†…å®¹ä¸€è‡´ï¼Œç„¶ååœ¨ fa åˆ†æ”¯ä¸­å‘ git01.txt æ–‡ä»¶æ·»åŠ ä¸€è¡Œå†…å®¹å¹¶æäº¤ï¼Œæ­¤æ—¶ fa åˆ†æ”¯ä¸­çš„ git01.txt å’Œ master åˆ†æ”¯ä¸­ git01.txt çš„å†…å®¹å°±ä¸ç›¸åŒã€‚</p>
</li>
<li><p>ç°åœ¨é€šè¿‡ git merge â€“no-ff &lt;åˆ†æ”¯å&gt; å‘½ä»¤å°† fa åˆ†æ”¯åˆå¹¶åˆ° master åˆ†æ”¯ä¸Šã€‚å…¶ä¸­ â€“no-ff è¡¨ç¤ºå¼ºè¡Œå…³é—­ fast-forward æ–¹å¼ï¼Œ fast-forward æ–¹å¼è¡¨ç¤ºå½“æ¡ä»¶å…è®¸æ—¶ï¼Œ git ç›´æ¥æŠŠ HEAD æŒ‡é’ˆæŒ‡å‘åˆå¹¶åˆ†æ”¯çš„å¤´ï¼Œå®Œæˆåˆå¹¶ï¼Œè¿™ç§æ–¹å¼åˆå¹¶é€Ÿåº¦å¿«ï¼Œä½†æ˜¯åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­æ²¡æœ‰åˆ›å»º commitï¼Œæ‰€ä»¥å¦‚æœå½“æˆ‘ä»¬åˆ é™¤æ‰è¿™ä¸ªåˆ†æ”¯æ—¶å°±å†ä¹Ÿæ‰¾ä¸å›æ¥äº†ï¼Œå› æ­¤åœ¨è¿™é‡Œæˆ‘ä»¬å°†ä¹‹å…³é—­ã€‚</p>
</li>
<li><p>æƒ³è¦åˆå¹¶åˆ†æ”¯ï¼Œæˆ‘ä»¬å…ˆåˆ‡æ¢åˆ° master åˆ†æ”¯ä¸Šï¼Œç„¶åæ‰§è¡Œ git merge â€“no-ff fa å‘½ä»¤å³å¯å®Œæˆåˆ†æ”¯åˆå¹¶ï¼Œåˆå¹¶æˆåŠŸåï¼Œæˆ‘ä»¬çœ‹åˆ° master åˆ†æ”¯ä¸Šçš„ git01.txt ä¸Šå·²ç»æœ‰äº† fa åˆ†æ”¯ä¸­çš„å†…å®¹äº†ã€‚ </p>
</li>
</ol>
<p><code>git log --graph</code> å‘½ä»¤æ¥ç›´è§‚çš„æŸ¥çœ‹åˆ†æ”¯çš„åˆ›å»ºå’Œåˆå¹¶ç­‰æ“ä½œã€‚</p>
<h3 id="åˆ†æ”¯è¡åˆ"><a href="#åˆ†æ”¯è¡åˆ" class="headerlink" title="åˆ†æ”¯è¡åˆ"></a>åˆ†æ”¯è¡åˆ</h3><p>æ‰€è°“çš„åˆ†æ”¯è¡åˆå…¶å®ä¹Ÿæ˜¯åˆ†æ”¯åˆå¹¶çš„ä¸€ç§æ–¹å¼ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹çœ‹è¿™ä¸ªåˆ†æ”¯è¡åˆåˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„ã€‚ç°åœ¨æˆ‘çš„ master åˆ†æ”¯çš„å†…å®¹å’Œ fa åˆ†æ”¯çš„å†…å®¹æ˜¯ä¿æŒä¸€è‡´çš„ï¼Œfa æ˜¯ä» master ä¸­åˆ›å»ºå‡ºæ¥çš„ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p195.png"><img src="http://www.javaboy.org/images/git/p195.png" alt="p195"></a></p>
<p>ç°åœ¨å‘ fa å’Œ master ä¸­å„è‡ªåšä¸€æ¬¡æäº¤ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p196.png"><img src="http://www.javaboy.org/images/git/p196.png" alt="p196"></a></p>
<p>æ­¤æ—¶æˆ‘ä»¬æ‰§è¡Œå¦‚ä¸‹ä¸¤æ¡å‘½ä»¤å°†ä¸¤ä¸ªåˆ†æ”¯åˆå¹¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout fa</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git rebase master</span></span><br></pre></td></tr></table></figure>
<p>rebase å‘½ä»¤åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¼šé¦–å…ˆæŠŠ fa ä¸­çš„æ¯ä¸ª commit å–æ¶ˆï¼Œå¹¶ä¸”å°†ä¹‹ä¿å­˜ä¸ºä¸´æ—¶ patch ï¼Œå†å°† fa åˆ†æ”¯æ›´æ–°ä¸ºæœ€æ–°çš„ master åˆ†æ”¯ï¼Œç„¶åå†æŠŠé‚£äº›ä¸´æ—¶çš„ patch åº”ç”¨åˆ° fa ä¸Šï¼Œæ­¤æ—¶ fa åˆ†æ”¯å°†æŒ‡å‘æ–°åˆ›å»ºçš„ commit ä¸Šï¼Œé‚£äº›è€çš„ commit å°†ä¼šè¢«ä¸¢å¼ƒï¼Œè¿™äº›è¢«ä¸¢å¼ƒçš„ commit åœ¨æ‰§è¡Œ git gc å‘½ä»¤æ—¶ä¼šè¢«åˆ é™¤ã€‚åˆå¹¶åçš„åˆ†æ”¯å¦‚ä¸‹å›¾ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p197.png"><img src="http://www.javaboy.org/images/git/p197.png" alt="p197"></a></p>
<p> <code>git rebase master</code> å‘½ä»¤åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æœ‰å¯èƒ½ä¼šå‘ç”Ÿå†²çªï¼Œå‘ç”Ÿå†²çªæ—¶æˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§ç›´æ¥é€€å›åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œå¦ä¸€ç§å°±æ˜¯è§£å†³å†²çªç»§ç»­æäº¤ã€‚</p>
<h3 id="é€€å›åˆ°ä¹‹å‰çš„çŠ¶æ€"><a href="#é€€å›åˆ°ä¹‹å‰çš„çŠ¶æ€" class="headerlink" title="é€€å›åˆ°ä¹‹å‰çš„çŠ¶æ€"></a>é€€å›åˆ°ä¹‹å‰çš„çŠ¶æ€</h3><p>å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥å›åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git rebase --abort</span><br></pre></td></tr></table></figure>
<h3 id="è§£å†³å†²çª"><a href="#è§£å†³å†²çª" class="headerlink" title="è§£å†³å†²çª"></a>è§£å†³å†²çª</h3><p>ä¸è¿‡å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯è¦è§£å†³å†²çªï¼Œè§£å†³åç»§ç»­æäº¤ã€‚ç”¨ç¼–è¾‘å™¨æ‰“å¼€å†²çªçš„æ–‡ä»¶ï¼Œçœ‹åˆ°çš„å†…å®¹å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p198.png"><img src="http://www.javaboy.org/images/git/p198.png" alt="p198"></a></p>
<p><code>======</code>ä¸Šé¢çš„æ˜¯ HEAD ä¸­çš„å†…å®¹ï¼Œä¸‹é¢çš„æ˜¯è¦åˆå¹¶çš„å†…å®¹ï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚ç¼–è¾‘æ–‡ä»¶ï¼Œç¼–è¾‘å®Œæˆä¹‹åï¼Œé€šè¿‡å¦‚ä¸‹ä¸¤æ¡å‘½ä»¤ç»§ç»­å®Œæˆåˆå¹¶ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add git01.txt</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git rebase --<span class="built_in">continue</span></span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸‹å›¾ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p199.png"><img src="http://www.javaboy.org/images/git/p199.png" alt="p199"></a></p>
<h3 id="å†²çªè§£å†³"><a href="#å†²çªè§£å†³" class="headerlink" title="å†²çªè§£å†³"></a>å†²çªè§£å†³</h3><p>å‰é¢æåˆ°äº†åœ¨åˆ†æ”¯è¡åˆæ—¶å‡ºç°å†²çªçš„è§£å†³æ–¹æ¡ˆï¼Œå…¶å®æ™®é€šçš„åˆå¹¶ä¹Ÿæœ‰å¯èƒ½å‡ºå†²çªï¼Œå‡ºç°å†²çªå¾ˆæ­£å¸¸ï¼Œè§£å†³å°±æ˜¯äº†ï¼Œgit merge åˆå¹¶åˆ†æ”¯æ—¶å¦‚æœå‡ºç°å†²çªè¿˜æ˜¯å…ˆé‡æ–°ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œç¼–è¾‘å®Œæˆåï¼Œå†æ‰§è¡Œ git add å’Œ git commit å³å¯ã€‚</p>
<h2 id="Git-å…³è”è¿œç¨‹ä»“åº“"><a href="#Git-å…³è”è¿œç¨‹ä»“åº“" class="headerlink" title="Git å…³è”è¿œç¨‹ä»“åº“"></a>Git å…³è”è¿œç¨‹ä»“åº“</h2><h3 id="é…ç½®-SSH-KEY"><a href="#é…ç½®-SSH-KEY" class="headerlink" title="é…ç½® SSH KEY"></a>é…ç½® SSH KEY</h3><p>é…ç½® SSH KEY çš„åŸç†å¾ˆç®€å•ï¼Œé‡‡ç”¨éå¯¹ç§°åŠ å¯†æ–¹å¼ç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼Œå…¬é’¥å‘Šè¯‰ GitHub ï¼Œç§é’¥ç•™åœ¨è‡ªå·±ç”µè„‘ï¼Œå½“å‘ GitHub ä¸Šæäº¤æ•°æ®æ—¶ï¼ŒGitHub ä¼šç”¨æˆ‘ä»¬ç•™ç»™å®ƒçš„å…¬é’¥åŠ å¯†ä¸€æ®µæ¶ˆæ¯è¿”å›ç»™æˆ‘ä»¬çš„ç”µè„‘ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿç”¨ç§é’¥è§£å¯†æˆåŠŸï¼Œè¯´æ˜æ˜¯åˆæ³•çš„ç”¨æˆ·ï¼Œè¿™æ ·å°±é¿å…æˆ‘ä»¬è¾“å…¥ç”¨æˆ·åå¯†ç äº†ã€‚ã€€</p>
<h4 id="1-æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å·²æœ‰-SSHKEY"><a href="#1-æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å·²æœ‰-SSHKEY" class="headerlink" title="1.æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å·²æœ‰ SSHKEY"></a>1.æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å·²æœ‰ SSHKEY</h4><p>æŸ¥çœ‹å½“å‰ç”¨æˆ·ç›®å½•ä¸‹æ˜¯å¦æœ‰ .ssh æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p202.png"><img src="http://www.javaboy.org/images/git/p202.png" alt="p202"></a></p>
<p>å¦‚æœæŸ¥çœ‹ä¹‹åæœ‰ç»“æœï¼Œåˆ™ç›´æ¥è·³è½¬åˆ°ç¬¬å››æ­¥ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰å°±ç»§ç»­ç”Ÿæˆã€‚</p>
<h4 id="2-ç”Ÿæˆ-SSH-æŒ‡çº¹"><a href="#2-ç”Ÿæˆ-SSH-æŒ‡çº¹" class="headerlink" title="2.ç”Ÿæˆ SSH æŒ‡çº¹"></a>2.ç”Ÿæˆ SSH æŒ‡çº¹</h4><p>ç”Ÿæˆ SSH æŒ‡çº¹çš„å‘½ä»¤å¾ˆç®€å•ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;ä½ çš„é‚®ç®±åœ°å€&quot;</span><br></pre></td></tr></table></figure>
<h4 id="3-æ·»åŠ -ssh-åˆ°-ssh-agent-ä¸­"><a href="#3-æ·»åŠ -ssh-åˆ°-ssh-agent-ä¸­" class="headerlink" title="3.æ·»åŠ  ssh åˆ° ssh-agent ä¸­"></a>3.æ·»åŠ  ssh åˆ° ssh-agent ä¸­</h4><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">eval &quot;$(ssh-agent -s)&quot;</span><br></pre></td></tr></table></figure>
<p>åšå¥½ä¹‹åï¼Œæˆ‘ä»¬å½“å‰ç”¨æˆ·ç›®å½•ä¸‹å·²ç»æœ‰äº†ä¸€ä¸ªåä¸º .ssh çš„éšè—æ–‡ä»¶å¤¹äº†ï¼Œæ‰“å¼€è¿™ä¸ªç›®å½•ï¼Œä¼šå‘ç°æœ‰ä¸€ä¸ªåä¸º id_rsa.pub çš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¸€ä¼šè¦ä½¿ç”¨çš„å…¬é’¥æ–‡ä»¶ã€‚</p>
<h4 id="4-å°†å…¬é’¥å‘Šè¯‰-GitHub"><a href="#4-å°†å…¬é’¥å‘Šè¯‰-GitHub" class="headerlink" title="4.å°†å…¬é’¥å‘Šè¯‰ GitHub"></a>4.å°†å…¬é’¥å‘Šè¯‰ GitHub</h4><p>ç™»å½• GitHub ï¼Œç‚¹å‡»å³ä¸Šè§’çš„å‘ä¸‹çš„ç®­å¤´ï¼Œé€‰æ‹© Settings ï¼Œåœ¨æ–°æ‰“å¼€çš„é¡µé¢ä¸­å·¦è¾¹ä¾§æ é€‰æ‹© <strong>SSH and GPG keys</strong> ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p203.png"><img src="http://www.javaboy.org/images/git/p203.png" alt="p203"></a></p>
<p>å®Œäº†ä¹‹åç‚¹å‡»æœ€ä¸‹é¢çš„ Add SSH key æŒ‰é’®å³å¯ã€‚</p>
<h3 id="å…³è”è¿œç¨‹ä»“åº“"><a href="#å…³è”è¿œç¨‹ä»“åº“" class="headerlink" title="å…³è”è¿œç¨‹ä»“åº“"></a>å…³è”è¿œç¨‹ä»“åº“</h3><p>åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“ testï¼Œå°†æœ¬åœ°ä»“åº“å’Œè¿™ä¸ªè¿œç¨‹ä»“åº“è¿›è¡Œå…³è”ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote add origin git@github.com:lenve/test.git</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™æ¡å‘½ä»¤ä¸­ï¼Œgit ä¼šè‡ªåŠ¨å°†è¿œç¨‹ä»“åº“çš„åå­—è®¾ç½®ä¸º origin ï¼Œæ–¹ä¾¿æˆ‘ä»¬çš„åç»­æ“ä½œã€‚</p>
<h3 id="æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>æ¨é€åˆ°è¿œç¨‹ä»“åº“</h3><h4 id="æ¨é€åˆ°masteråˆ†æ”¯"><a href="#æ¨é€åˆ°masteråˆ†æ”¯" class="headerlink" title="æ¨é€åˆ°masteråˆ†æ”¯"></a>æ¨é€åˆ°masteråˆ†æ”¯</h4><p>å‡è®¾æˆ‘æƒ³å°†æœ¬åœ° master åˆ†æ”¯ä¸Šçš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ master åˆ†æ”¯ä¸Šï¼Œæ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin master</span></span><br></pre></td></tr></table></figure>
<p>-uå‚æ•°å¯ä»¥åœ¨æ¨é€çš„åŒæ—¶ï¼Œå°† origin ä»“åº“çš„ master åˆ†æ”¯è®¾ç½®ä¸ºæœ¬åœ°ä»“åº“å½“å‰åˆ†æ”¯çš„ upstreamï¼ˆä¸Šæ¸¸ï¼‰ã€‚æ·»åŠ äº†è¿™ä¸ªå‚æ•°ï¼Œå°†æ¥è¿è¡Œ git pull å‘½ä»¤ä»è¿œç¨‹ä»“åº“è·å–å†…å®¹æ—¶ï¼Œæœ¬åœ°ä»“åº“çš„è¿™ä¸ªåˆ†æ”¯å°±å¯ä»¥ç›´æ¥ä» origin çš„ master åˆ†æ”¯è·å–å†…å®¹ï¼Œçœå»äº†å¦å¤–æ·»åŠ å‚æ•°çš„éº»çƒ¦ã€‚è¿™ä¸ªå‚æ•°ä¹Ÿåªç”¨åœ¨ç¬¬ä¸€æ¬¡ push æ—¶åŠ ä¸Šï¼Œä»¥åç›´æ¥è¿è¡Œ git push å‘½ä»¤å³å¯ã€‚</p>
<blockquote>
<p>æ–°ç”Ÿæˆå¯†é’¥çš„æ—¶å€™ï¼Œgit cloneæˆ–è€…pushçš„æ—¶å€™ï¼Œç»å¸¸ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">The authenticity of host &#39;github.com (192.30.255.112)&#39; can&#39;t be established.</span><br><span class="line">RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.</span><br></pre></td></tr></table></figure>

<p>Googleä¹‹åæ˜ç™½ï¼Œå°‘äº†ä¸€ä¸ªknown_hostsæ–‡ä»¶ï¼Œæœ¬æ¥å¯†é’¥æ–‡ä»¶åº”è¯¥æ˜¯ä¸‰ä¸ªï¼Œç°åœ¨æ˜¯ä¸¤ä¸ªï¼Œä¾¿æŠ¥äº†è¿™æ ·çš„é”™è¯¯ï¼Œæ­¤æ—¶é€‰æ‹©yeså›è½¦ä¹‹åä¾¿å¯ï¼ŒåŒæ—¶ç”Ÿæˆäº†ç¼ºå°‘äº†çš„known_hostsæ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)? &#x2F;&#x2F;è¾“å…¥yesï¼Œå›è½¦</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="æ¨é€åˆ°å…¶ä»–åˆ†æ”¯"><a href="#æ¨é€åˆ°å…¶ä»–åˆ†æ”¯" class="headerlink" title="æ¨é€åˆ°å…¶ä»–åˆ†æ”¯"></a>æ¨é€åˆ°å…¶ä»–åˆ†æ”¯</h4><p>å¦‚æœæƒ³æ¨é€åˆ°å…¶ä»–åˆ†æ”¯ï¼Œè¿˜æ˜¯è¿™æ¡å‘½ä»¤ï¼Œä¿®æ”¹ä¸€ä¸‹åˆ†æ”¯çš„åå­—å³å¯ï¼Œæ¯”å¦‚æˆ‘ä¹Ÿæƒ³æŠŠæˆ‘çš„ fa åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ä¸­ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout fa</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin fa</span></span><br></pre></td></tr></table></figure>
<p>å…ˆåˆ‡æ¢åˆ° fa åˆ†æ”¯ï¼Œç„¶åæ‰§è¡Œ git push å‘½ä»¤ï¼Œå‚æ•°å«ä¹‰å’Œä¹‹å‰çš„ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ›å»ºçš„è¿œç¨‹ä»“åº“çš„åˆ†æ”¯åä¹Ÿä¸º faï¼ˆå½“ç„¶æˆ‘ä»¬å¯ä»¥å–ä»»ä½•åå­—ï¼Œä½†æ˜¯ä¸ºäº†ä¸æ··æ·†ï¼Œæœ€å¥½å–ä¸€è‡´çš„åå­—ï¼‰ã€‚è¿™ä¸¤æ¡å‘½ä»¤æ‰§è¡ŒæˆåŠŸä¹‹åï¼Œæ­¤æ—¶åœ¨ç½‘é¡µä¸­æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°å·²ç»æœ‰å¤šä¸ªåˆ†æ”¯äº†</p>
<h3 id="ä»è¿œç¨‹ä»“åº“è·å–"><a href="#ä»è¿œç¨‹ä»“åº“è·å–" class="headerlink" title="ä»è¿œç¨‹ä»“åº“è·å–"></a>ä»è¿œç¨‹ä»“åº“è·å–</h3><h4 id="é¦–æ¬¡è·å–"><a href="#é¦–æ¬¡è·å–" class="headerlink" title="é¦–æ¬¡è·å–"></a>é¦–æ¬¡è·å–</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> git@github.com:lenve/test.git</span></span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºå…‹éš†æ–‡ä»¶åˆ°æœ¬åœ°ä»“åº“ã€‚æ­¤æ—¶å…‹éš†çš„è¿œç¨‹ä»“åº“çš„ master åˆ†æ”¯åˆ°æœ¬åœ°ä»“åº“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>git branch -a</code> æ¥æŸ¥çœ‹æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“çš„ä¿¡æ¯ï¼Œ-a å‚æ•°å¯ä»¥åŒæ—¶æ˜¾ç¤ºæœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“çš„ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p206.png"><img src="http://www.javaboy.org/images/git/p206.png" alt="p206"></a></p>
<p>æˆ‘ä»¬çœ‹åˆ°è¿œç¨‹ä»“åº“ä¸­å·²ç»æœ‰äº† fa åˆ†æ”¯äº†ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠ fa åˆ†æ”¯ä¹Ÿå…‹éš†ä¸‹æ¥ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b fa origin/fa</span></span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºæ ¹æ®è¿œç¨‹ä»“åº“çš„ fa åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“çš„ fa åˆ†æ”¯ï¼Œåˆ›å»ºå®Œæˆä¹‹åè¿›è¡Œåˆ‡æ¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤åªåˆ›å»ºä¸åˆ‡æ¢ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch fa origin/fa</span></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶æˆ‘åœ¨ fa åˆ†æ”¯ä¸‹ä¿®æ”¹ git01.txt æ–‡ä»¶å¹¶æäº¤ï¼Œå¦‚ä¸‹ï¼š</p>
<p>[<img src="http://www.javaboy.org/images/git/p207.png" alt="p207"></p>
<p>æ³¨æ„ç”±äº fa åˆ†æ”¯å°±æ˜¯ä»è¿œç¨‹ä»“åº“å…‹éš†ä¸‹æ¥çš„ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä¸æ·»åŠ  -u å‚æ•°ã€‚</p>
<h3 id="ä»è¿œç¨‹ä»“åº“æ›´æ–°"><a href="#ä»è¿œç¨‹ä»“åº“æ›´æ–°" class="headerlink" title="ä»è¿œç¨‹ä»“åº“æ›´æ–°"></a>ä»è¿œç¨‹ä»“åº“æ›´æ–°</h3><p>æ­¤æ—¶æˆ‘ä»¬å›åˆ°ç¬¬ä¸€æ¬¡æœ€æ—©çš„é‚£ä¸ª test æœ¬åœ°ä»“åº“ä¸­ï¼Œé‚£ä¸ª test ä»“åº“çš„ fa åˆ†æ”¯ç°åœ¨å’Œè¿œç¨‹ä»“åº“ä¸ä¸€è‡´äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ git pull å‘½ä»¤æ¥æ›´æ–°ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p208.png"><img src="http://www.javaboy.org/images/git/p208.png" alt="p208"></a></p>
<h2 id="Git-å·¥ä½œåŒºå‚¨è—"><a href="#Git-å·¥ä½œåŒºå‚¨è—" class="headerlink" title="Git å·¥ä½œåŒºå‚¨è—"></a>Git å·¥ä½œåŒºå‚¨è—</h2><h3 id="é—®é¢˜å›é¡¾"><a href="#é—®é¢˜å›é¡¾" class="headerlink" title="é—®é¢˜å›é¡¾"></a>é—®é¢˜å›é¡¾</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç°åœ¨æœ‰ä¸€ä¸ª master åˆ†æ”¯ï¼Œmaster åˆ†æ”¯ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶å« 01.txt ï¼Œè¯¥æ–‡ä»¶ä¸­åªæœ‰ä¸€è¡Œæ•°æ®ï¼Œ</span><br><span class="line">ç„¶åå¯¹ 01.txt æ‰§è¡Œ add å’Œ commit ï¼Œç„¶åå†ä» master åˆ†æ”¯ä¸­åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ fa ï¼Œ</span><br><span class="line">åˆ‡æ¢åˆ° fa åˆ†æ”¯ä¸Šï¼Œç„¶åå‘ 01.txt ä¸­å†æ·»åŠ ä¸€è¡Œæ•°æ®ï¼Œæ·»åŠ æˆåŠŸä¹‹åï¼Œä¸åšä»»ä½•äº‹æƒ…ï¼Œ</span><br><span class="line">å†åˆ‡æ¢å› master åˆ†æ”¯ï¼Œæ­¤æ—¶ç”¨ cat å‘½ä»¤æŸ¥çœ‹ 01.txt æ–‡ä»¶ï¼Œå‘ç°ç«Ÿç„¶æœ‰ä¸¤è¡Œæ•°æ®ï¼Œ</span><br><span class="line">æŒ‰ç†è¯´ master ä¸­çš„ 01.txt åªæœ‰ä¸€è¡Œæ•°æ®ï¼Œè€Œ fa ä¸­çš„ 01.txt æœ‰ä¸¤è¡Œæ•°æ®ã€‚</span><br><span class="line"></span><br><span class="line">è¦ææ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œå¾—å…ˆæ˜ç™½ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼šcat å‘½ä»¤å’Œ git æ— å…³ï¼Œå°±æ˜¯ç”¨æ¥æŸ¥çœ‹æ–‡ä»¶çš„ã€‚</span><br><span class="line"></span><br><span class="line">ä¸Šé¢è¿™ä¸ªæ“ä½œå°‘äº†ä¸¤ä¸ªæ­¥éª¤ï¼Œfa åˆ†æ”¯ä¸­çš„æ•°æ®ä¿®æ”¹ä¹‹åç›´æ¥åˆ‡æ¢å›äº† master ï¼Œ</span><br><span class="line">æ²¡æœ‰ add&#x2F;commit ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼ˆä¿®æ”¹æ•°æ®å add&#x2F;commitï¼‰ï¼Œå¦‚æœ master å’Œ fa åˆ†æ”¯ä¸­çš„æ•°æ®ä¸ä¸€è‡´ï¼Œ</span><br><span class="line">æˆ‘ä»¬æ‰§è¡Œäº† git checkout è¿›è¡Œåˆ†æ”¯çš„åˆ‡æ¢ï¼Œè¿™ä¸ªæ—¶å€™å·¥ä½œåŒºä¸­çš„æ–‡ä»¶å†…å®¹ä¹Ÿæ˜¯ä¼šè·Ÿç€å˜åŒ–çš„ï¼Œ</span><br><span class="line">ä½†æ˜¯å¦‚æœæˆ‘åœ¨ fa åˆ†æ”¯ä¸­ä¿®æ”¹äº†æ–‡ä»¶å´æ²¡æœ‰ add&#x2F;commit å°±åˆ‡æ¢å› master ï¼Œ</span><br><span class="line">æ­¤æ—¶å¦‚æœå·¥ä½œåŒºçš„æ–‡ä»¶å˜åŒ–äº†ï¼Œå¯èƒ½ä¼šå¯¼è‡´æˆ‘åœ¨ fa åˆ†æ”¯ä¸­çš„ä¿®æ”¹ä¸¢å¤±ï¼Œ</span><br><span class="line">å› æ­¤ï¼Œè¿™ä¸ªæ—¶å€™å·¥ä½œåŒºçš„æ–‡ä»¶å°±æ²¡æœ‰å˜åŒ–ï¼Œå³å·¥ä½œåŒºçš„æ–‡ä»¶å†…å®¹è¿˜æ˜¯ fa åˆ†æ”¯ä¸­ä¿®æ”¹çš„å†…å®¹ã€‚</span><br></pre></td></tr></table></figure>
<h4 id="è§£å†³æ–¹æ¡ˆä¸€"><a href="#è§£å†³æ–¹æ¡ˆä¸€" class="headerlink" title="è§£å†³æ–¹æ¡ˆä¸€"></a>è§£å†³æ–¹æ¡ˆä¸€</h4><p>åœ¨æŸä¸€ä¸ªåˆ†æ”¯ä¿®æ”¹æ–‡ä»¶ä¹‹åï¼Œå…ˆ add å¹¶ä¸” commit ä¹‹åå†å»åˆ‡æ¢åˆ†æ”¯ã€‚</p>
<h4 id="è§£å†³æ–¹æ¡ˆäºŒ-å‚¨è—"><a href="#è§£å†³æ–¹æ¡ˆäºŒ-å‚¨è—" class="headerlink" title="è§£å†³æ–¹æ¡ˆäºŒ(å‚¨è—)"></a>è§£å†³æ–¹æ¡ˆäºŒ(å‚¨è—)</h4><p>å‚¨è—é€‚ç”¨åœ¨å¦‚ä¸‹åœºæ™¯ä¸­ï¼šå½“æˆ‘åœ¨ä¸€ä¸ªåˆ†æ”¯ fa ä¸­ä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å®Œå…¨æ”¹å¥½ï¼Œæ­¤æ—¶æˆ‘å¹¶ä¸æƒ³ add/commit ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æœ‰ä¸€ä¸ªæ›´æ€¥è¿«çš„äº‹æƒ…åœ¨å¦å¤–ä¸€ä¸ªåˆ†æ”¯ fb ä¸Šéœ€è¦æˆ‘å»åšï¼Œæˆ‘å¿…é¡»è¦åˆ‡æ¢åˆ†æ”¯ã€‚</p>
<p>åœ¨è¿™æ ·ä¸€ä¸ªåœºæ™¯ä¸­ï¼Œå¦‚æœæˆ‘ç›´æ¥åˆ‡æ¢åˆ†æ”¯ï¼Œä¼šå‡ºç°å¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<p>1.ä» fa åˆ‡æ¢åˆ° fb ä¹‹åï¼Œå·¥ä½œåŒºçš„ä»£ç è¿˜æ˜¯ fa çš„ä»£ç ï¼Œä¸ç¬¦åˆæˆ‘çš„å·¥ä½œè¦æ±‚ã€‚<br>2.å‡è®¾æˆ‘ä¸åœ¨ä¹é—®é¢˜ 1ï¼Œåœ¨ fb ä¸­ç›´æ¥ä¿®æ”¹å·¥ä½œåŒºçš„ä»£ç ï¼Œç­‰æˆ‘åœ¨ fb ä¸­ä¿®æ”¹å®Œåæäº¤åå†å›åˆ° fa ï¼Œä¼šå‘ç°æˆ‘ä¹‹å‰çš„ä»£ç ä¸¢å¤±äº†ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒGit ç»™æˆ‘ä»¬æä¾›äº†å‚¨è— (Stashing)ã€‚</p>
<p>ç°åœ¨å‡è®¾ä¸€å¼€å§‹ master å’Œ fa åˆ†æ”¯ä¸­çš„æ–‡ä»¶å†…å®¹éƒ½æ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸”ä¸¤ä¸ªåˆ†æ”¯çš„å·¥ä½œåŒºéƒ½æ˜¯å¹²å‡€çš„ï¼Œå³æ²¡æœ‰ä¸œè¥¿éœ€è¦ add/commit ï¼Œæ­¤æ—¶ï¼Œæˆ‘åœ¨ master ä¸­ä¿®æ”¹äº†æ–‡ä»¶ï¼Œä¿®æ”¹å®Œæˆä¹‹åï¼Œæ‰§è¡Œ <code>git status</code> å‘½ä»¤æˆ‘ä»¬çœ‹åˆ° master ä¸­æœ‰ä¸œè¥¿éœ€è¦ add/commit ï¼Œæ­¤æ—¶æˆ‘æƒ³åˆ‡æ¢åˆ° fa åˆ†æ”¯ä¸­å»ï¼Œä½†æ˜¯å¹¶ä¸æƒ³å¯¹ master åˆ†æ”¯æ‰§è¡Œ add/commit ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå…ˆå°†å½“å‰åˆ†æ”¯ä¸­çš„æ–‡ä»¶å‚¨è—èµ·æ¥ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash</span></span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œå®Œä¹‹åå†æ‰§è¡Œ <code>git status</code> ï¼Œæˆ‘ä»¬å‘ç°æ­¤æ—¶ master åˆ†æ”¯å·²ç»æ˜¯å¹²å‡€çš„äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ„‰å¿«çš„åˆ‡æ¢åˆ° fa åˆ†æ”¯ä¸­å»ï¼Œåˆ‡æ¢åˆ° fa åˆ†æ”¯ä¹‹åï¼Œæˆ‘ä»¬å‘ç° master ä¸­çš„ä¿®æ”¹å¹¶æ²¡æœ‰å¹²æ‰°åˆ° fa åˆ†æ”¯ï¼Œå½“æˆ‘ä»¬å®Œæˆäº† fa åˆ†æ”¯ä¸­çš„å·¥ä½œä¹‹åï¼Œå†å›åˆ° master åˆ†æ”¯ï¼Œæ­¤æ—¶æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥æ¢å¤åˆšåˆšå‚¨è—çš„æ•°æ®ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash apply</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªå‘½ä»¤æ‰§è¡Œå®Œä¹‹åï¼Œmaster åˆ†æ”¯ä¸­çš„å·¥ä½œåŒºä¸­çš„æ–‡ä»¶å°±æ¢å¤äº†ï¼Œæ­¤æ—¶æ‰§è¡Œ <code>git status</code> å°±å¯ä»¥çœ‹åˆ°åˆæœ‰æ•°æ®éœ€è¦ add/commit äº†ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯å°†å·¥ä½œåŒºå‚¨è—å¤šæ¬¡ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å‚¨è—ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p255.png"><img src="http://www.javaboy.org/images/git/p255.png" alt="p255"></a></p>
<p><code>git stash apply</code> è¡¨ç¤ºæ¢å¤æœ€è¿‘ä¸€æ¬¡å‚¨è—ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ¢å¤åˆ°ä¹‹å‰çš„æŸä¸€æ¬¡å‚¨è—ï¼Œå¯ä»¥åŠ ä¸Šå‚¨è—çš„åå­—ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash apply stash@&#123;1&#125;</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä»–çš„å…³äºå‚¨è—çš„å‘½ä»¤ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">1.æ¢å¤å‚¨è—å¹¶å‡ºæ ˆ</span><br><span class="line">git stash pop</span><br><span class="line">æ‰§è¡Œæ•ˆæœå’Œ git stash apply ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œæ‰§è¡Œå®Œä¹‹åï¼Œä¼šå°†æ ˆé¡¶çš„å‚¨è—ç§»é™¤ã€‚</span><br><span class="line"></span><br><span class="line">2.åˆ é™¤æŸä¸€ä¸ªå‚¨è—</span><br><span class="line">git stash drop stash@&#123;4&#125;</span><br><span class="line">æœ€åä¸€ä¸ªå‚æ•°æ˜¯æŒ‡å‚¨è—çš„åå­—ã€‚</span><br></pre></td></tr></table></figure>


<h2 id="Git-æ ‡ç­¾ç®¡ç†"><a href="#Git-æ ‡ç­¾ç®¡ç†" class="headerlink" title="Git æ ‡ç­¾ç®¡ç†"></a>Git æ ‡ç­¾ç®¡ç†</h2><h3 id="è½»é‡çº§æ ‡ç­¾"><a href="#è½»é‡çº§æ ‡ç­¾" class="headerlink" title="è½»é‡çº§æ ‡ç­¾"></a>è½»é‡çº§æ ‡ç­¾</h3><p>è½»é‡çº§æ ‡ç­¾å°±åƒæ˜¯ä¸ªä¸ä¼šå˜åŒ–çš„åˆ†æ”¯ï¼Œå®é™…ä¸Šå®ƒå°±æ˜¯ä¸ªæŒ‡å‘ç‰¹å®šæäº¤å¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<p>å¯ä»¥é€šè¿‡ <code>git tag</code> å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ä»“åº“ä¸­çš„æ‰€æœ‰æ ‡ç­¾ã€‚æ‰“æ ‡ç­¾ç›´æ¥é€šè¿‡ <code>git tag &lt;tagname&gt;</code> æ¥å®Œæˆå³å¯ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªåä¸º v1 çš„ tag ï¼Œè¿™ä¸ª tag é»˜è®¤æ˜¯åˆ›å»ºåœ¨æœ€æ–°ä¸€æ¬¡çš„ commit ä¸Šçš„ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p209.png"><img src="http://www.javaboy.org/images/git/p209.png" alt="p209"></a></p>
<p>åˆ©ç”¨ <code>git show &lt;tagname&gt;</code> æ¥æŸ¥çœ‹æ ‡ç­¾å¯¹åº”çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p210.png"><img src="http://www.javaboy.org/images/git/p210.png" alt="p210"></a></p>
<p>é€šè¿‡ <code>$ git tag -d &lt;tagname&gt;</code> å‘½ä»¤åˆ é™¤ä¸€ä¸ªæ ‡ç­¾ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p211.png"><img src="http://www.javaboy.org/images/git/p211.png" alt="p211"></a></p>
<p>é€šè¿‡å‘½ä»¤ <code>git tag &lt;tagname&gt; &lt;commitversion&gt;</code> ç»™å†å²ä¸Šçš„æŸæ¬¡ commit æ‰“ä¸€ä¸ªæ ‡ç­¾ã€‚ä¾‹ï¼šç»™ commit å“ˆå¸Œç ä¸º 7d519 çš„é‚£ä¸€æ¬¡ commit æ‰“ä¸Šä¸€ä¸ªæ ‡ç­¾ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p212.png"><img src="http://www.javaboy.org/images/git/p212.png" alt="p212"></a></p>
<h3 id="å«é™„æ³¨çš„æ ‡ç­¾"><a href="#å«é™„æ³¨çš„æ ‡ç­¾" class="headerlink" title="å«é™„æ³¨çš„æ ‡ç­¾"></a>å«é™„æ³¨çš„æ ‡ç­¾</h3><p>å«é™„æ³¨æ ‡ç­¾ï¼Œå®é™…ä¸Šæ˜¯å­˜å‚¨åœ¨ä»“åº“ä¸­çš„ä¸€ä¸ªç‹¬ç«‹å¯¹è±¡ï¼Œå®ƒæœ‰è‡ªèº«çš„æ ¡éªŒå’Œä¿¡æ¯ï¼ŒåŒ…å«ç€æ ‡ç­¾çš„åå­—ï¼Œç”µå­é‚®ä»¶åœ°å€å’Œæ—¥æœŸï¼Œä»¥åŠæ ‡ç­¾è¯´æ˜ï¼Œæ ‡ç­¾æœ¬èº«ä¹Ÿå…è®¸ä½¿ç”¨ GNU Privacy Guard (GPG) æ¥ç­¾ç½²æˆ–éªŒè¯ã€‚æ‰“ä¸€ä¸ªå«é™„æ³¨çš„æ ‡ç­¾å¾ˆç®€å•ï¼Œä½¿ç”¨ <code>git tag -a &lt;tagname&gt; -m &lt;msg&gt;</code> å‘½ä»¤ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag -a v0.0 -m <span class="string">&quot;æ–‡ä»¶åˆæ¬¡å»ºç«‹&quot;</span> 7d519</span></span><br></pre></td></tr></table></figure>
<p><a href="http://www.javaboy.org/images/git/p213.png"><img src="http://www.javaboy.org/images/git/p213.png" alt="p213"></a></p>
<p>å¦‚æœä¸åŠ æœ€åçš„ç‰ˆæœ¬å·å‚æ•°ï¼Œè¡¨ç¤ºç»™æœ€æ–°çš„ä¸€æ¬¡ commit æ‰“æ ‡ç­¾ã€‚</p>
<h3 id="ç­¾ç½²æ ‡ç­¾"><a href="#ç­¾ç½²æ ‡ç­¾" class="headerlink" title="ç­¾ç½²æ ‡ç­¾"></a>ç­¾ç½²æ ‡ç­¾</h3><p>è¯´åˆ°ç­¾ç½²æ ‡ç­¾æˆ‘ä»¬å¾—å…ˆä»‹ç»ä¸€ä¸‹ GPG ï¼š<br>GPG æ˜¯åŠ å¯†è½¯ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ GPG ç”Ÿæˆçš„å…¬é’¥åœ¨ç½‘ä¸Šå®‰å…¨çš„ä¼ æ’­ä½ çš„æ–‡ä»¶ã€ä»£ç ã€‚ä¸ºä»€ä¹ˆè¯´å®‰å…¨çš„ï¼Ÿä»¥ Google æ‰€å¼€å‘çš„ repo ä¸ºä¾‹ï¼Œrepo å³é‡‡ç”¨ GPG éªŒè¯çš„æ–¹å¼ï¼Œæ¯ä¸ªé‡Œç¨‹ç¢‘ tag éƒ½å¸¦æœ‰ GPG åŠ å¯†éªŒè¯ï¼Œå‡å¦‚åœ¨é‡Œç¨‹ç¢‘ v1.12.3 å¤„ä½ æƒ³è¦åšä¿®æ”¹ï¼Œä¿®æ”¹å®Œåå°†è¿™ä¸ª tag åˆ é™¤ï¼Œç„¶ååˆåˆ›å»ºåŒå tag æŒ‡å‘ä½ çš„ä¿®æ”¹ç‚¹ï¼Œè¿™å¿…ç„¶æ˜¯å¯ä»¥çš„ã€‚ä½†æ˜¯ï¼Œåœ¨ä½ å†æ¬¡ clone ä½ ä¿®æ”¹åçš„é¡¹ç›®æ—¶ï¼Œä½ ä¼šå‘ç°ï¼Œä½ å¯¹æ­¤é‡Œç¨‹ç¢‘ tag çš„æ”¹å˜ä¸è¢«è®¤å¯ï¼ŒéªŒè¯å¤±è´¥ï¼Œå¯¼è‡´ä½ çš„ä¿®æ”¹åœ¨è¿™é‡Œæ— æ³•æ­£å¸¸å®ç°ã€‚è¿™å°±æ˜¯ GPG éªŒè¯çš„ä½œç”¨ï¼Œè¿™æ ·å°±èƒ½å¤Ÿä¿è¯é¡¹ç›®ä½œè€…ï¼ˆç§é’¥æŒæœ‰è€…ï¼‰æ‰€åˆ¶å®šçš„é‡Œç¨‹ç¢‘åˆ«äººå°†æ— æ³•ä¿®æ”¹ã€‚é‚£ä¹ˆï¼Œå°±å¯ä»¥è¯´ï¼Œä½œè€…çš„ä»£ç æ˜¯å®‰å…¨ä¼ æ’­çš„ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§éœ€æ±‚ï¼Ÿä¸€ä¸ªé¡¹ç›®ä»å¼€å‘åˆ°å‘å¸ƒï¼Œå†åˆ°åæœŸçš„æ›´æ–°è¿­ä»£ï¼Œä¸€å®šä¼šå­˜åœ¨è‹¥å¹²çš„ç¨³å®šç‰ˆæœ¬ä¸å¼€å‘ç‰ˆæœ¬ï¼ˆå­˜åœ¨ä¸ç¨³å®šå› ç´ ï¼‰ã€‚ä½œä¸ºé¡¹ç›®å‘èµ·è€…ã€æŒæœ‰è€…ï¼Œæœ‰æƒå®šä¹‰ä»–ï¼ˆä»¬ï¼‰æ‰€è®¤å¯çš„ç¨³å®šç‰ˆæœ¬ï¼Œè¿™ä¸ªç¨³å®šç‰ˆæœ¬ï¼Œå°†ä¸å…è®¸å…¶ä»–å¼€å‘è€…è¿›è¡Œæ”¹åŠ¨ã€‚è¿˜ä»¥ Google çš„ repo é¡¹ç›®ä¸ºä¾‹ï¼Œé¡¹ç›®æ‰€æœ‰è€…å®šä¹‰é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­çš„ç‚¹ A ä¸ºç¨³å®šç‰ˆ v1.12.3ï¼Œé‚£ä¹ˆç”¨æˆ·åœ¨ä¸‹è½½ v1.12.3 ç‰ˆæœ¬åï¼Œä½¿ç”¨çš„è‚¯å®šæ˜¯ A ç‚¹æ‰€ç”Ÿæˆçš„é¡¹ç›®ã€äº§å“ï¼Œå°±ç®—å…¶ä»–å¼€å‘è€…èƒ½å¤Ÿåœ¨æœ¬åœ°å¯¹ v1.12.3 è¿›è¡Œé‡æ–°æŒ‡å®šï¼ŒæŒ‡å®šåˆ°ä»–ä»¬ä¿®æ”¹åçš„Bç‚¹ï¼Œä½†æ˜¯æœ€ç»ˆä¿®æ”¹åçš„ç‰ˆæœ¬ç»™ç”¨æˆ·ç”¨çš„æ—¶å€™ï¼Œä¼šå‡ºç° GPG ç­¾åéªŒè¯ä¸é€šè¿‡çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ ·çš„ä¿®æ”¹æ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚</p>
<p>ä½¿ç”¨ç­¾ç½²æ ‡ç­¾æˆ‘ä»¬å…ˆè¦ç”Ÿæˆ GPG Keyï¼Œç”Ÿæˆå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gpg --gen-key</span></span><br></pre></td></tr></table></figure>
<p>èƒ½é»˜è®¤çš„å°±ç›´æ¥æŒ‰å›è½¦é»˜è®¤ï¼Œä¸èƒ½é»˜è®¤çš„å°±æ ¹æ®æç¤ºè¾“å…¥ç›¸åº”çš„å€¼ã€‚ä¹‹åå°±å¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ¥æ‰“æ ‡ç­¾ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag -s v0.0 -u <span class="string">&quot;laowang&quot;</span> -m <span class="string">&quot;æ–‡ä»¶åˆæ¬¡å»ºç«‹&quot;</span> 7d519</span></span><br></pre></td></tr></table></figure>
<p>å°±æŠŠä¸Šé¢çš„ -a æ¢æˆ -sï¼Œç„¶åæ·»åŠ  -u å‚æ•°ï¼Œ-u å‚æ•°çš„å€¼æ˜¯æˆ‘ä»¬åœ¨ç”Ÿæˆ GPG Key çš„æ—¶å€™é…ç½®çš„ name å±æ€§çš„å€¼ï¼Œæ³¨æ„ -u å‚æ•°ä¸å¯ä»¥å†™é”™ï¼Œå¦åˆ™æ ‡ç­¾ä¼šåˆ›å»ºå¤±è´¥ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p214.png"><img src="http://www.javaboy.org/images/git/p214.png" alt="p214"></a></p>
<h3 id="æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ä»“åº“"><a href="#æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ä»“åº“" class="headerlink" title="æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ä»“åº“"></a>æ ‡ç­¾æ¨é€åˆ°è¿œç¨‹ä»“åº“</h3><p>git push å‘½ä»¤å¹¶ä¸ä¼šæŠŠtagæäº¤åˆ°è¿œç¨‹ä»“åº“ä¸­å»ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æäº¤ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push origin v0.0</span></span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºå°† v0.0 æ ‡ç­¾æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>$ git push origin --tags</code> æäº¤æ‰€æœ‰çš„ tag åˆ°è¿œç¨‹ä»“åº“ï¼Œå¦‚ä¸‹ï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p215.png"><img src="http://www.javaboy.org/images/git/p215.png" alt="p215"></a></p>
<p>æ­¤æ—¶è°ƒç”¨ git pull æ›´æ–°ä»£ç ä¹‹åï¼Œå°±èƒ½çœ‹åˆ°tagï¼š</p>
<p><a href="http://www.javaboy.org/images/git/p216.png"><img src="http://www.javaboy.org/images/git/p216.png" alt="p216"></a></p>
<h2 id="Gitå¸¸ç”¨å‘½ä»¤"><a href="#Gitå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Gitå¸¸ç”¨å‘½ä»¤"></a>Gitå¸¸ç”¨å‘½ä»¤</h2><h3 id="ä»“åº“"><a href="#ä»“åº“" class="headerlink" title="ä»“åº“"></a>ä»“åº“</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git init</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»£ç åº“</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git init [project-name]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> [url]</span></span><br></pre></td></tr></table></figure>
<h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºå½“å‰çš„Gité…ç½®</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --list</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ç¼–è¾‘Gité…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config -e [--global]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config [--global] user.name <span class="string">&quot;[name]&quot;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config [--global] user.email <span class="string">&quot;[email address]&quot;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="å¢åŠ -åˆ é™¤æ–‡ä»¶"><a href="#å¢åŠ -åˆ é™¤æ–‡ä»¶" class="headerlink" title="å¢åŠ /åˆ é™¤æ–‡ä»¶"></a>å¢åŠ /åˆ é™¤æ–‡ä»¶</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add [file1] [file2] ...</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add [dir]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ·»åŠ æ¯ä¸ªå˜åŒ–å‰ï¼Œéƒ½ä¼šè¦æ±‚ç¡®è®¤</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶çš„å¤šå¤„å˜åŒ–ï¼Œå¯ä»¥å®ç°åˆ†æ¬¡æäº¤</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add -p</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git rm [file1] [file2] ...</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git rm --cached [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git mv [file-original] [file-renamed]</span></span><br></pre></td></tr></table></figure>
<h3 id="ä»£ç æäº¤"><a href="#ä»£ç æäº¤" class="headerlink" title="ä»£ç æäº¤"></a>ä»£ç æäº¤</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m [message]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit [file1] [file2] ... -m [message]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -a</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -v</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend -m [message]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend [file1] [file2] ...</span></span><br></pre></td></tr></table></figure>
<h3 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -r</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -a</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch [branch-name]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b [branch]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch [branch] [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --track [branch] [remote-branch]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [branch-name]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --set-upstream [branch] [remote-branch]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git merge [branch]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git cherry-pick [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -d [branch-name]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin --delete [branch-name]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -dr [remote/branch]</span></span><br></pre></td></tr></table></figure>
<h3 id="æ ‡ç­¾"><a href="#æ ‡ç­¾" class="headerlink" title="æ ‡ç­¾"></a>æ ‡ç­¾</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> åˆ—å‡ºæ‰€æœ‰tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªtagåœ¨å½“å‰commit</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag [tag]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag [tag] [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤æœ¬åœ°tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag -d [tag]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> åˆ é™¤è¿œç¨‹tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin :refs/tags/[tagName]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹tagä¿¡æ¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show [tag]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æäº¤æŒ‡å®štag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] [tag]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æäº¤æ‰€æœ‰tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] --tags</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b [branch] [tag]</span></span><br></pre></td></tr></table></figure>
<h3 id="æŸ¥çœ‹ä¿¡æ¯"><a href="#æŸ¥çœ‹ä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹ä¿¡æ¯"></a>æŸ¥çœ‹ä¿¡æ¯</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --<span class="built_in">stat</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -S [keyword]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> [tag] HEAD --pretty=format:%s</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶<span class="string">&quot;æäº¤è¯´æ˜&quot;</span>å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> [tag] HEAD --grep feature</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --follow [file]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git whatchanged [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -p [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -5 --pretty --oneline</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git shortlog -sn</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git blame [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff --cached [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff HEAD</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff [first-branch]...[second-branch]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff --shortstat <span class="string">&quot;@&#123;0 day ago&#125;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show --name-only [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show [commit]:[filename]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reflog</span></span><br></pre></td></tr></table></figure>
<h3 id="è¿œç¨‹åŒæ­¥"><a href="#è¿œç¨‹åŒæ­¥" class="headerlink" title="è¿œç¨‹åŒæ­¥"></a>è¿œç¨‹åŒæ­¥</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git fetch [remote]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote -v</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote show [remote]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote add [shortname] [url]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git pull [remote] [branch]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] [branch]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] --force</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] --all</span></span><br><span class="line">æ’¤é”€</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ¢å¤æŸä¸ªcommitçš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [commit] [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout .</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡commitä¿æŒä¸€è‡´</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡ç½®å½“å‰HEADä¸ºæŒ‡å®šcommitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --keep [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æ–°å»ºä¸€ä¸ªcommitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šcommit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git revert [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash pop</span></span><br></pre></td></tr></table></figure>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git archive</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Dockerçš„åŸºæœ¬ä½¿ç”¨</title>
    <url>/2021/01/20/Docker/</url>
    <content><![CDATA[<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><p><a href="http://www.javaboy.org/docker/">æ±Ÿå—ä¸€ç‚¹é›¨Dockeræ•™ç¨‹</a></p>
<h2 id="1-ä»€ä¹ˆæ˜¯-Docker"><a href="#1-ä»€ä¹ˆæ˜¯-Docker" class="headerlink" title="1.ä»€ä¹ˆæ˜¯ Docker"></a>1.ä»€ä¹ˆæ˜¯ Docker</h2><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># å®˜æ–¹ä»‹ç»</span></span><br><span class="line">æˆ‘ä»¬ä¸ºä½ æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„å®¹å™¨è§£å†³æ–¹æ¡ˆ,ä¸ç®¡ä½ æ˜¯è°,ä¸ç®¡ä½ åœ¨å“ª,ä½ éƒ½å¯ä»¥å¼€å§‹å®¹å™¨çš„çš„æ—…ç¨‹ã€‚</span><br><span class="line">å®˜æ–¹å®šä¹‰: dockeræ˜¯ä¸€ä¸ªå®¹å™¨æŠ€æœ¯ã€‚</span><br><span class="line"></span><br><span class="line">Docker ä½¿ç”¨ Google å…¬å¸æ¨å‡ºçš„ Go è¯­è¨€è¿›è¡Œå¼€å‘ï¼ŒåŸºäº Linux å†…æ ¸çš„ cgroupï¼Œnamespaceï¼Œä»¥åŠ OverlayFS ç±»çš„ Union FS ç­‰æŠ€æœ¯ï¼Œå¯¹è¿›ç¨‹è¿›è¡Œå°è£…éš”ç¦»ï¼Œå±äºæ“ä½œç³»ç»Ÿå±‚é¢çš„è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚ç”±äºéš”ç¦»çš„è¿›ç¨‹ç‹¬ç«‹äºå®¿ä¸»å’Œå…¶å®ƒçš„éš”ç¦»çš„è¿›ç¨‹ï¼Œå› æ­¤ä¹Ÿç§°å…¶ä¸ºå®¹å™¨ã€‚</span><br></pre></td></tr></table></figure>
<h2 id="2-ä¸ºä»€ä¹ˆæ˜¯Docker"><a href="#2-ä¸ºä»€ä¹ˆæ˜¯Docker" class="headerlink" title="2.ä¸ºä»€ä¹ˆæ˜¯Docker"></a>2.ä¸ºä»€ä¹ˆæ˜¯Docker</h2><p><strong>ä¼˜åŠ¿</strong>ï¼š1. ä¸€è‡´çš„è¿è¡Œç¯å¢ƒ,æ›´è½»æ¾çš„è¿ç§»  2. å¯¹è¿›ç¨‹è¿›è¡Œå°è£…éš”ç¦»,å®¹å™¨ä¸å®¹å™¨ä¹‹é—´äº’ä¸å½±å“,æ›´é«˜æ•ˆçš„åˆ©ç”¨ç³»ç»Ÿèµ„æº3. é€šè¿‡é•œåƒå¤åˆ¶Nå¤šä¸ªç¯å¢ƒä¸€è‡´å®¹å™¨</p>
<h2 id="3-Dockerå’Œè™šæ‹ŸæœºåŒºåˆ«"><a href="#3-Dockerå’Œè™šæ‹ŸæœºåŒºåˆ«" class="headerlink" title="3.Dockerå’Œè™šæ‹ŸæœºåŒºåˆ«"></a>3.Dockerå’Œè™šæ‹ŸæœºåŒºåˆ«</h2><p><img src="/2021/01/20/Docker/image-20201220222456675.png" alt="image-20201220222456675"></p>
<p>æ¯”è¾ƒä¸Šé¢ä¸¤å¼ å›¾ï¼Œå‘ç°è™šæ‹Ÿæœºæ˜¯æºå¸¦æ“ä½œç³»ç»Ÿï¼Œæœ¬èº«å¾ˆå°çš„åº”ç”¨ç¨‹åºå´å› ä¸ºæºå¸¦äº†æ“ä½œç³»ç»Ÿè€Œå˜å¾—éå¸¸å¤§ï¼Œå¾ˆç¬¨é‡ã€‚Dockeræ˜¯ä¸æºå¸¦æ“ä½œç³»ç»Ÿçš„ï¼Œæ‰€ä»¥Dockerçš„åº”ç”¨å°±éå¸¸çš„è½»å·§ã€‚å¦å¤–åœ¨è°ƒç”¨å®¿ä¸»æœºçš„CPUã€ç£ç›˜ç­‰ç­‰è¿™äº›èµ„æºçš„æ—¶å€™ï¼Œæ‹¿å†…å­˜ä¸¾ä¾‹ï¼Œè™šæ‹Ÿæœºæ˜¯åˆ©ç”¨Hypervisorå»è™šæ‹ŸåŒ–å†…å­˜ï¼Œæ•´ä¸ªè°ƒç”¨è¿‡ç¨‹æ˜¯è™šæ‹Ÿå†…å­˜ -&gt; è™šæ‹Ÿç‰©ç†å†…å­˜ -&gt; çœŸæ­£ç‰©ç†å†…å­˜ï¼Œä½†æ˜¯Dockeræ˜¯åˆ©ç”¨Docker Engineå»è°ƒç”¨å®¿ä¸»çš„çš„èµ„æºï¼Œè¿™æ—¶å€™è¿‡ç¨‹æ˜¯è™šæ‹Ÿå†…å­˜ -&gt; çœŸæ­£ç‰©ç†å†…å­˜ã€‚</p>
<table>
<thead>
<tr>
<th></th>
<th>ä¼ ç»Ÿè™šæ‹Ÿæœº</th>
<th>Dockerå®¹å™¨</th>
</tr>
</thead>
<tbody><tr>
<td>ç£ç›˜å ç”¨</td>
<td>å‡ ä¸ªGBåˆ°å‡ åä¸ªGBå·¦å³</td>
<td>å‡ åMBåˆ°å‡ ç™¾MBå·¦å³</td>
</tr>
<tr>
<td>CPUå†…å­˜å ç”¨</td>
<td>è™šæ‹Ÿæ“ä½œç³»ç»Ÿéå¸¸å ç”¨CPUå’Œå†…å­˜</td>
<td>Dockerå¼•æ“å ç”¨æä½</td>
</tr>
<tr>
<td>å¯åŠ¨é€Ÿåº¦</td>
<td>ï¼ˆä»å¼€æœºåˆ°è¿è¡Œé¡¹ç›®ï¼‰å‡ åˆ†é’Ÿ</td>
<td>ï¼ˆä»å¼€å¯å®¹å™¨åˆ°è¿è¡Œé¡¹ç›®ï¼‰å‡ ç§’</td>
</tr>
<tr>
<td>å®‰è£…ç®¡ç†</td>
<td>éœ€è¦ä¸“é—¨çš„è¿ç»´æŠ€æœ¯</td>
<td>å®‰è£…ã€ç®¡ç†æ–¹ä¾¿</td>
</tr>
<tr>
<td>åº”ç”¨éƒ¨ç½²</td>
<td>æ¯æ¬¡éƒ¨ç½²éƒ½è´¹æ—¶è´¹åŠ›</td>
<td>ä»ç¬¬äºŒæ¬¡éƒ¨ç½²å¼€å§‹è½»æ¾ç®€æ·</td>
</tr>
<tr>
<td>è€¦åˆæ€§</td>
<td>å¤šä¸ªåº”ç”¨æœåŠ¡å®‰è£…åˆ°ä¸€èµ·ï¼Œå®¹æ˜“äº’ç›¸å½±å“</td>
<td>æ¯ä¸ªåº”ç”¨æœåŠ¡ä¸€ä¸ªå®¹å™¨ï¼Œè¾¾æˆéš”ç¦»</td>
</tr>
<tr>
<td>ç³»ç»Ÿä¾èµ–</td>
<td>æ— </td>
<td>éœ€æ±‚ç›¸åŒæˆ–ç›¸ä¼¼çš„å†…æ ¸ï¼Œç›®å‰æ¨èæ˜¯Linux</td>
</tr>
</tbody></table>
<h2 id="4-Dockerå®‰è£…"><a href="#4-Dockerå®‰è£…" class="headerlink" title="4.Dockerå®‰è£…"></a>4.Dockerå®‰è£…</h2><p><a href="https://www.cnblogs.com/yufeng218/p/8370670.html">å®‰è£…æ­¥éª¤</a></p>
<p>1ã€è¦æ±‚ CentOS ç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬é«˜äº 3.10 ã€‚é€šè¿‡ **uname -r **å‘½ä»¤æŸ¥çœ‹ä½ å½“å‰çš„å†…æ ¸ç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> uname -r</span></span><br></pre></td></tr></table></figure>
<p>2ã€ä½¿ç”¨ root æƒé™ç™»å½• Centosã€‚ç¡®ä¿ yum åŒ…æ›´æ–°åˆ°æœ€æ–°ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo yum update</span></span><br></pre></td></tr></table></figure>
<p>3ã€å¸è½½æ—§ç‰ˆæœ¬(å¦‚æœå®‰è£…è¿‡æ—§ç‰ˆæœ¬çš„è¯)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo yum remove docker  docker-common docker-selinux docker-engine</span></span><br></pre></td></tr></table></figure>
<p>4ã€å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œ yum-util æä¾› yum-config-manager åŠŸèƒ½ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯ devicemapper é©±åŠ¨ä¾èµ–çš„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span></span><br></pre></td></tr></table></figure>
<p>5ã€è®¾ç½®yumæº</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span></span><br></pre></td></tr></table></figure>
<p>6ã€å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ä»“åº“ä¸­æ‰€æœ‰dockerç‰ˆæœ¬ï¼Œå¹¶é€‰æ‹©ç‰¹å®šç‰ˆæœ¬å®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> yum list docker-ce --showduplicates | sort -r</span></span><br></pre></td></tr></table></figure>
<p>7ã€å®‰è£…docker</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo yum install docker-ce  <span class="comment">#ç”±äºrepoä¸­é»˜è®¤åªå¼€å¯stableä»“åº“ï¼Œæ•…è¿™é‡Œå®‰è£…çš„æ˜¯æœ€æ–°ç¨³å®šç‰ˆ17.12.0</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo yum install &lt;FQPN&gt;  <span class="comment"># ä¾‹å¦‚ï¼šsudo yum install docker-ce-17.12.0.ce</span></span></span><br></pre></td></tr></table></figure>
<p>8ã€å¯åŠ¨å¹¶åŠ å…¥å¼€æœºå¯åŠ¨</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl start docker</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl <span class="built_in">enable</span> docker</span></span><br></pre></td></tr></table></figure>
<p>9ã€éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸ(æœ‰clientå’Œserviceä¸¤éƒ¨åˆ†è¡¨ç¤ºdockerå®‰è£…å¯åŠ¨éƒ½æˆåŠŸäº†)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker version</span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">é—®é¢˜ï¼šå› ä¸ºä¹‹å‰å·²ç»å®‰è£…è¿‡æ—§ç‰ˆæœ¬çš„dockerï¼Œåœ¨å®‰è£…çš„æ—¶å€™æŠ¥é”™å¦‚ä¸‹ï¼š</span><br><span class="line">Transaction check error:</span><br><span class="line">  file /usr/bin/docker from install of docker-ce-17.12.0.ce-1.el7.centos.x86_64 conflicts with file from package docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64</span><br><span class="line">  file /usr/bin/docker-containerd from install of docker-ce-17.12.0.ce-1.el7.centos.x86_64 conflicts with file from package docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64</span><br><span class="line">  file /usr/bin/docker-containerd-shim from install of docker-ce-17.12.0.ce-1.el7.centos.x86_64 conflicts with file from package docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64</span><br><span class="line">  file /usr/bin/dockerd from install of docker-ce-17.12.0.ce-1.el7.centos.x86_64 conflicts with file from package docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64</span><br><span class="line">  </span><br><span class="line">å¸è½½æ—§ç‰ˆæœ¬çš„åŒ…</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo yum erase docker-common-2:1.12.6-68.gitec8512b.el7.centos.x86_64</span></span><br><span class="line">å†æ¬¡å®‰è£…docker</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo yum install docker-ce</span></span><br></pre></td></tr></table></figure>


<h2 id="5-Docker-çš„æ ¸å¿ƒæ¶æ„"><a href="#5-Docker-çš„æ ¸å¿ƒæ¶æ„" class="headerlink" title="5.Docker çš„æ ¸å¿ƒæ¶æ„"></a>5.Docker çš„æ ¸å¿ƒæ¶æ„</h2><p><img src="/2021/01/20/Docker/image-20200404111908085-0291323.png" alt="image-20200404111908085"></p>
<ul>
<li><code>é•œåƒ:</code> ä¸€ä¸ªé•œåƒä»£è¡¨ä¸€ä¸ªåº”ç”¨ç¯å¢ƒ,ä»–æ˜¯ä¸€ä¸ªåªè¯»çš„æ–‡ä»¶,å¦‚ mysqlé•œåƒ,tomcaté•œåƒ,nginxé•œåƒç­‰</li>
<li><code>å®¹å™¨:</code> é•œåƒæ¯æ¬¡è¿è¡Œä¹‹åå°±æ˜¯äº§ç”Ÿä¸€ä¸ªå®¹å™¨,å°±æ˜¯æ­£åœ¨è¿è¡Œçš„é•œåƒ,ç‰¹ç‚¹å°±æ˜¯å¯è¯»å¯å†™</li>
<li><code>ä»“åº“:</code>ç”¨æ¥å­˜æ”¾é•œåƒçš„ä½ç½®,ç±»ä¼¼äºmavenä»“åº“,ä¹Ÿæ˜¯é•œåƒä¸‹è½½å’Œä¸Šä¼ çš„ä½ç½®</li>
<li><code>dockerFile:</code>dockerç”Ÿæˆé•œåƒé…ç½®æ–‡ä»¶,ç”¨æ¥ä¹¦å†™è‡ªå®šä¹‰é•œåƒçš„ä¸€äº›é…ç½®</li>
<li><code>tar:</code>ä¸€ä¸ªå¯¹é•œåƒæ‰“åŒ…çš„æ–‡ä»¶,æ—¥åå¯ä»¥è¿˜åŸæˆé•œåƒ</li>
</ul>
<h2 id="6-Docker-é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡"><a href="#6-Docker-é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡" class="headerlink" title="6. Docker é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡"></a>6. Docker é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡</h2><p><img src="/2021/01/20/Docker/image-20200404120356784.png" alt="image-20200404120356784"></p>
<ul>
<li>è®¿é—®é˜¿é‡Œäº‘ç™»å½•è‡ªå·±è´¦å·æŸ¥çœ‹dockeré•œåƒåŠ é€ŸæœåŠ¡</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://lz2nib3q.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>
<ul>
<li>éªŒè¯dockerçš„é•œåƒåŠ é€Ÿæ˜¯å¦ç”Ÿæ•ˆ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# docker info</span><br><span class="line">		..........</span><br><span class="line">    127.0.0.0/8</span><br><span class="line">   Registry Mirrors:</span><br><span class="line">    &#x27;https://lz2nib3q.mirror.aliyuncs.com/&#x27;</span><br><span class="line">   Live Restore Enabled: false</span><br><span class="line">   Product License: Community Engine</span><br></pre></td></tr></table></figure>


<h2 id="7-Dockerçš„å…¥é—¨åº”ç”¨"><a href="#7-Dockerçš„å…¥é—¨åº”ç”¨" class="headerlink" title="7.Dockerçš„å…¥é—¨åº”ç”¨"></a>7.Dockerçš„å…¥é—¨åº”ç”¨</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# docker run hello-world</span><br><span class="line"></span><br><span class="line">Hello from Docker!</span><br><span class="line">This message shows that your installation appears to be working correctly.</span><br><span class="line"></span><br><span class="line">To generate this message, Docker took the following steps:</span><br><span class="line"> 1. The Docker client contacted the Docker daemon.</span><br><span class="line"> 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.</span><br><span class="line">    (amd64)</span><br><span class="line"> 3. The Docker daemon created a new container from that image which runs the</span><br><span class="line">    executable that produces the output you are currently reading.</span><br><span class="line"> 4. The Docker daemon streamed that output to the Docker client, which sent it</span><br><span class="line">    to your terminal.</span><br><span class="line"></span><br><span class="line">To try something more ambitious, you can run an Ubuntu container with:</span><br><span class="line"><span class="meta"> $</span><span class="bash"> docker run -it ubuntu bash</span></span><br><span class="line"></span><br><span class="line">Share images, automate workflows, and more with a free Docker ID:</span><br><span class="line"> https://hub.docker.com/</span><br><span class="line"></span><br><span class="line">For more examples and ideas, visit:</span><br><span class="line"> https://docs.docker.com/get-started/</span><br></pre></td></tr></table></figure>


<h2 id="8-å¸¸ç”¨å‘½ä»¤"><a href="#8-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="8.å¸¸ç”¨å‘½ä»¤"></a>8.å¸¸ç”¨å‘½ä»¤</h2><h3 id="è¾…åŠ©å‘½ä»¤"><a href="#è¾…åŠ©å‘½ä»¤" class="headerlink" title="è¾…åŠ©å‘½ä»¤"></a>è¾…åŠ©å‘½ä»¤</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.å®‰è£…å®Œæˆè¾…åŠ©å‘½ä»¤</span></span><br><span class="line">docker version	--	æŸ¥çœ‹dockerçš„ä¿¡æ¯</span><br><span class="line">docker info		--	æŸ¥çœ‹æ›´è¯¦ç»†çš„ä¿¡æ¯</span><br><span class="line">docker --help	--	å¸®åŠ©å‘½ä»¤</span><br></pre></td></tr></table></figure>
<h3 id="Images-é•œåƒå‘½ä»¤"><a href="#Images-é•œåƒå‘½ä»¤" class="headerlink" title="Images é•œåƒå‘½ä»¤"></a>Images é•œåƒå‘½ä»¤</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.æŸ¥çœ‹æœ¬æœºä¸­æ‰€æœ‰é•œåƒ</span></span><br><span class="line">docker images	--	åˆ—å‡ºæœ¬åœ°æ‰€æœ‰é•œåƒ</span><br><span class="line">-a		            åˆ—å‡ºæ‰€æœ‰é•œåƒï¼ˆåŒ…å«ä¸­é—´æ˜ åƒå±‚ï¼‰</span><br><span class="line">-q		            åªæ˜¾ç¤ºé•œåƒid</span><br><span class="line"></span><br><span class="line"><span class="section"># 2.æœç´¢é•œåƒ</span></span><br><span class="line">docker search [options] é•œåƒå	  -- å»dockerhubä¸ŠæŸ¥è¯¢å½“å‰é•œåƒ</span><br><span class="line">-s æŒ‡å®šå€¼		                    åˆ—å‡ºæ”¶è—æ•°ä¸å°‘äºæŒ‡å®šå€¼çš„é•œåƒ</span><br><span class="line">--no-trunc	                       æ˜¾ç¤ºå®Œæ•´çš„é•œåƒä¿¡æ¯</span><br><span class="line"></span><br><span class="line"><span class="section"># 3.ä»ä»“åº“ä¸‹è½½é•œåƒ</span></span><br><span class="line">docker pull é•œåƒå[:TAG|@DIGEST]</span><br><span class="line">docker inspect      -- æŸ¥çœ‹é•œåƒè¯¦ç»†ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"><span class="section"># 4.åˆ é™¤é•œåƒ</span></span><br><span class="line">docker rmi é•œåƒå	 --  åˆ é™¤é•œåƒ</span><br><span class="line">-f	                   å¼ºåˆ¶åˆ é™¤</span><br></pre></td></tr></table></figure>
<h3 id="Contrainer-å®¹å™¨å‘½ä»¤"><a href="#Contrainer-å®¹å™¨å‘½ä»¤" class="headerlink" title="Contrainer å®¹å™¨å‘½ä»¤"></a>Contrainer å®¹å™¨å‘½ä»¤</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.è¿è¡Œå®¹å™¨</span></span><br><span class="line">docker run é•œåƒå	--	æ–°å»ºå¹¶å¯åŠ¨å®¹å™¨</span><br><span class="line">--name 		          ä¸ºå®¹å™¨èµ·ä¸€ä¸ªåå­—</span><br><span class="line">-d			         å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨ï¼ˆåœ¨åå°å¯åŠ¨å®¹å™¨ï¼‰</span><br><span class="line">-p 			         æ˜ å°„ç«¯å£å·ï¼šåŸå§‹ç«¯å£å·</span><br><span class="line"></span><br><span class="line">ä¾‹ï¼šdocker run -it --name myTomcat -p 8888:8080 tomcat</span><br><span class="line"></span><br><span class="line"><span class="section"># 2.æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨</span></span><br><span class="line">docker ps     -- åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">-a			    æ­£åœ¨è¿è¡Œçš„å’Œå†å²è¿è¡Œè¿‡çš„å®¹å™¨</span><br><span class="line">-q			    é™é»˜æ¨¡å¼ï¼Œåªæ˜¾ç¤ºå®¹å™¨ç¼–å·</span><br><span class="line"></span><br><span class="line"><span class="section"># 3.åœæ­¢|å…³é—­|é‡å¯å®¹å™¨</span></span><br><span class="line">docker start   å®¹å™¨åå­—æˆ–è€…å®¹å™¨id  -- å¼€å¯å®¹å™¨</span><br><span class="line">docker restart å®¹å™¨åæˆ–è€…å®¹å™¨id    -- é‡å¯å®¹å™¨</span><br><span class="line">docker stop  å®¹å™¨åæˆ–è€…å®¹å™¨id 	    -- æ­£å¸¸åœæ­¢å®¹å™¨è¿è¡Œ</span><br><span class="line">docker kill  å®¹å™¨åæˆ–è€…å®¹å™¨id      -- ç«‹å³åœæ­¢å®¹å™¨è¿è¡Œ</span><br><span class="line"></span><br><span class="line"><span class="section"># 4.åˆ é™¤å®¹å™¨</span></span><br><span class="line">docker rm -f å®¹å™¨idå’Œå®¹å™¨å     </span><br><span class="line">docker rm -f $(docker ps -aq)	--	åˆ é™¤æ‰€æœ‰å®¹å™¨</span><br><span class="line"></span><br><span class="line"><span class="section"># 5.æŸ¥çœ‹å®¹å™¨å†…è¿›ç¨‹</span></span><br><span class="line">docker top å®¹å™¨idæˆ–è€…å®¹å™¨å   -- æŸ¥çœ‹å®¹å™¨å†…çš„è¿›ç¨‹</span><br><span class="line"></span><br><span class="line"><span class="section"># 6.æŸ¥çœ‹æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚</span></span><br><span class="line">docker inspect å®¹å™¨id 	   -- æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚</span><br><span class="line"></span><br><span class="line"><span class="section"># 7.æŸ¥çœ‹å®¹å™¨çš„è¿è¡Œæ—¥å¿—</span></span><br><span class="line">docker logs [OPTIONS] å®¹å™¨idæˆ–å®¹å™¨å	-- æŸ¥çœ‹å®¹å™¨æ—¥å¿—</span><br><span class="line">-t			                           åŠ å…¥æ—¶é—´æˆ³</span><br><span class="line">-f			                           è·Ÿéšæœ€æ–°çš„æ—¥å¿—æ‰“å°</span><br><span class="line">--tail æ•°å­—	                          æ˜¾ç¤ºæœ€åå¤šå°‘æ¡</span><br><span class="line"></span><br><span class="line"><span class="section"># 8.è¿›å…¥å®¹å™¨å†…éƒ¨</span></span><br><span class="line">docker exec [options] å®¹å™¨id å®¹å™¨å†…å‘½ä»¤     -- è¿›å…¥å®¹å™¨æ‰§è¡Œå‘½ä»¤</span><br><span class="line">-i		                                     ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸-tä¸€èµ·ä½¿ç”¨</span><br><span class="line">-t		                                     åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯    shellçª—å£   bash </span><br><span class="line"></span><br><span class="line"><span class="section"># 9.å®¹å™¨å’Œå®¿ä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶</span></span><br><span class="line">docker cp æ–‡ä»¶|ç›®å½• å®¹å™¨id:å®¹å™¨è·¯å¾„            --   å°†å®¿ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨å†…éƒ¨</span><br><span class="line">docker cp å®¹å™¨id:å®¹å™¨å†…èµ„æºè·¯å¾„ å®¿ä¸»æœºç›®å½•è·¯å¾„  --   å°†å®¹å™¨å†…èµ„æºæ‹·è´åˆ°ä¸»æœºä¸Š</span><br><span class="line"></span><br><span class="line"><span class="section"># 10.æ•°æ®å·(volum)å®ç°ä¸å®¿ä¸»æœºå…±äº«ç›®å½•</span></span><br><span class="line">docker run -v å®¿ä¸»æœºçš„è·¯å¾„|ä»»æ„åˆ«å:/å®¹å™¨å†…çš„è·¯å¾„ é•œåƒå</span><br><span class="line">æ³¨æ„: </span><br><span class="line"><span class="code">	1.å¦‚æœæ˜¯å®¿ä¸»æœºè·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„,å®¿ä¸»æœºç›®å½•ä¼šè¦†ç›–å®¹å™¨å†…ç›®å½•å†…å®¹</span></span><br><span class="line"><span class="code">	2.å¦‚æœæ˜¯åˆ«ååˆ™ä¼šåœ¨dockerè¿è¡Œå®¹å™¨æ—¶è‡ªåŠ¨åœ¨å®¿ä¸»æœºä¸­åˆ›å»ºä¸€ä¸ªç›®å½•,å¹¶å°†å®¹å™¨ç›®å½•æ–‡ä»¶å¤åˆ¶åˆ°å®¿ä¸»æœºä¸­</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 11.æ‰“åŒ…é•œåƒ</span></span><br><span class="line"><span class="code">docker save é•œåƒå -o åç§°.tar</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 12.è½½å…¥é•œåƒ</span></span><br><span class="line"><span class="code">docker load -i åç§°.tar</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 13.å®¹å™¨æ‰“åŒ…æˆæ–°çš„é•œåƒ</span></span><br><span class="line"><span class="code">docker commit -m &quot;æè¿°ä¿¡æ¯&quot; -a &quot;ä½œè€…ä¿¡æ¯&quot; ï¼ˆå®¹å™¨idæˆ–è€…åç§°ï¼‰æ‰“åŒ…çš„é•œåƒåç§°:æ ‡ç­¾</span></span><br></pre></td></tr></table></figure>


<h2 id="9-dockerçš„é•œåƒåŸç†"><a href="#9-dockerçš„é•œåƒåŸç†" class="headerlink" title="9.dockerçš„é•œåƒåŸç†"></a>9.dockerçš„é•œåƒåŸç†</h2><h3 id="é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ"></a>é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ</h3><blockquote>
<p>é•œåƒæ˜¯ä¸€ç§è½»é‡çº§çš„ï¼Œå¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶æ‰€éœ€çš„åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚</p>
</blockquote>
<h3 id="ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§ï¼Ÿ</h3><p><img src="/2021/01/20/Docker/image-20200404142950068.png" alt="image-20200404142950068"></p>
<p><code>é•œåƒå°±æ˜¯èŠ±å·</code></p>
<ul>
<li><p>UnionFSï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰:</p>
<p>Unionæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ç§åˆ†å±‚ï¼Œè½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚çš„å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹ã€‚Unionæ–‡ä»¶ç³»ç»Ÿæ˜¯Dockeré•œåƒçš„åŸºç¡€ã€‚è¿™ç§æ–‡ä»¶ç³»ç»Ÿç‰¹æ€§:å°±æ˜¯ä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä»å¤–é¢çœ‹èµ·æ¥ï¼Œåªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥ï¼Œè¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½• ã€‚    </p>
</li>
</ul>
<h3 id="Dockeré•œåƒåŸç†"><a href="#Dockeré•œåƒåŸç†" class="headerlink" title="Dockeré•œåƒåŸç†"></a>Dockeré•œåƒåŸç†</h3><blockquote>
<p><code>dockerçš„é•œåƒå®é™…æ˜¯ç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆã€‚</code></p>
</blockquote>
<ul>
<li><p>bootfsï¼ˆboot file systemï¼‰ä¸»è¦åŒ…å«bootloaderå’Œkernelï¼Œbootloaderä¸»è¦æ˜¯å¼•å¯¼åŠ è½½kernelï¼ŒLinuxåˆšå¯åŠ¨æ—¶ä¼šåŠ è½½bootfsæ–‡ä»¶ç³»ç»Ÿã€‚åœ¨dockeré•œåƒçš„æœ€åº•å±‚å°±æ˜¯bootfsã€‚è¿™ä¸€å±‚ä¸Linux/Unix ç³»ç»Ÿæ˜¯ä¸€æ ·çš„ï¼ŒåŒ…å«bootåŠ è½½å™¨ï¼ˆbootloaderï¼‰å’Œå†…æ ¸ï¼ˆkernelï¼‰ã€‚å½“bootåŠ è½½å®Œ,åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”±bootfsè½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ä¼šå¸è½½bootfsã€‚</p>
</li>
<li><p>rootfsï¼ˆroot file systemï¼‰ï¼Œåœ¨bootfsä¹‹ä¸Šï¼ŒåŒ…å«çš„å°±æ˜¯å…¸å‹çš„linuxç³»ç»Ÿä¸­çš„/devï¼Œ/procï¼Œ/binï¼Œ/etcç­‰æ ‡å‡†çš„ç›®å½•å’Œæ–‡ä»¶ã€‚rootfså°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆï¼Œæ¯”å¦‚Ubuntu/CentOSç­‰ç­‰ã€‚</p>
</li>
<li><p>æˆ‘ä»¬å¹³æ—¶å®‰è£…è¿›è™šæ‹Ÿæœºçš„centoséƒ½æœ‰1åˆ°å‡ ä¸ªGBï¼Œä¸ºä»€ä¹ˆdockerè¿™é‡Œæ‰200MBï¼Ÿå¯¹äºä¸€ä¸ªç²¾ç®€çš„OSï¼Œrootfså¯ä»¥å¾ˆå°ï¼Œåªéœ€è¦åŒ…æ‹¬æœ€åŸºæœ¬çš„å‘½ä»¤ï¼Œå·¥å…·ï¼Œå’Œç¨‹åºåº“å°±å¯ä»¥äº†ï¼Œå› ä¸ºåº•å±‚ç›´æ¥ä½¿ç”¨Hostçš„Kernalï¼Œè‡ªå·±åªéœ€è¦æä¾›rootfså°±è¡Œäº†ã€‚ç”±æ­¤å¯è§ä¸åŒçš„linuxå‘è¡Œç‰ˆï¼Œä»–ä»¬çš„bootfsæ˜¯ä¸€è‡´çš„ï¼Œrootfsä¼šæœ‰å·®åˆ«ã€‚å› æ­¤ä¸åŒçš„å‘è¡Œç‰ˆå¯ä»¥å…±ç”¨bootfsã€‚</p>
</li>
</ul>
<p><img src="/2021/01/20/Docker/1567585172(1).jpg"></p>
<h3 id="ä¸ºä»€ä¹ˆdockeré•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢"><a href="#ä¸ºä»€ä¹ˆdockeré•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢" class="headerlink" title="ä¸ºä»€ä¹ˆdockeré•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢?"></a>ä¸ºä»€ä¹ˆdockeré•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢?</h3><blockquote>
<p><code>æœ€å¤§çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯èµ„æºå…±äº«</code></p>
</blockquote>
<ul>
<li>æ¯”å¦‚ï¼šæœ‰å¤šä¸ªé•œåƒéƒ½æ˜¯ä»ç›¸åŒçš„baseé•œåƒæ„å»ºè€Œæ¥çš„ï¼Œé‚£ä¹ˆå®¿ä¸»æœºåªéœ€åœ¨ç£ç›˜ä¸­ä¿å­˜ä¸€ä»½baseé•œåƒã€‚åŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½baseé•œåƒï¼Œå°±å¯ä»¥ä¸ºæ‰€æœ‰å®¹å™¨æœåŠ¡äº†ã€‚è€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«ã€‚Dockeré•œåƒéƒ½æ˜¯åªè¯»çš„ã€‚å½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚è¢«åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ã€‚è¿™ä¸€å±‚é€šå¸¸è¢«ç§°ä¸ºå®¹å™¨å±‚ï¼Œå®¹å™¨å±‚ä¹‹ä¸‹éƒ½å«é•œåƒå±‚ã€‚</li>
</ul>
<h2 id="10-Dockerå®‰è£…å¸¸ç”¨æœåŠ¡"><a href="#10-Dockerå®‰è£…å¸¸ç”¨æœåŠ¡" class="headerlink" title="10.Dockerå®‰è£…å¸¸ç”¨æœåŠ¡"></a>10.Dockerå®‰è£…å¸¸ç”¨æœåŠ¡</h2><h3 id="1-å®‰è£…mysql"><a href="#1-å®‰è£…mysql" class="headerlink" title="1 å®‰è£…mysql"></a>1 å®‰è£…mysql</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.æ‹‰å–mysqlé•œåƒåˆ°æœ¬åœ°</span></span><br><span class="line">docker pull mysql:tag (tagä¸åŠ é»˜è®¤æœ€æ–°ç‰ˆæœ¬)</span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code"># 2.è¿è¡ŒmysqlæœåŠ¡</span></span><br><span class="line"><span class="code">docker run --name mysql -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 -d  mysql:tag </span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 3.è¿›å…¥mysqlå®¹å™¨</span></span><br><span class="line"><span class="code">docker exec -it å®¹å™¨åç§°|å®¹å™¨id bash</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 4.å¤–éƒ¨æŸ¥çœ‹mysqlæ—¥å¿—</span></span><br><span class="line"><span class="code">docker logs å®¹å™¨åç§°|å®¹å™¨id</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 5.ä½¿ç”¨è‡ªå®šä¹‰é…ç½®å‚æ•°</span></span><br><span class="line"><span class="code">docker run --name mysql -v /root/mysql/conf.d:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=root -d mysql:tag</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 6.å°†å®¹å™¨æ•°æ®ä½ç½®ä¸å®¿ä¸»æœºä½ç½®æŒ‚è½½ä¿è¯æ•°æ®å®‰å…¨(è¿èµ·æ¥å†™)</span></span><br><span class="line"><span class="code">docker run --name mysql </span></span><br><span class="line"><span class="code">-v /root/mysql/data:/var/lib/mysql </span></span><br><span class="line"><span class="code">-v /root/mysql/conf.d:/etc/mysql/conf.d </span></span><br><span class="line"><span class="code">-e MYSQL_ROOT_PASSWORD=root </span></span><br><span class="line"><span class="code">-p 3306:3306 </span></span><br><span class="line"><span class="code">-d mysql:tag</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 7.é€šè¿‡å…¶ä»–å®¢æˆ·ç«¯è®¿é—® å¦‚åœ¨windowç³»ç»Ÿ|macosç³»ç»Ÿä½¿ç”¨å®¢æˆ·ç«¯å·¥å…·è®¿é—®</span></span><br><span class="line"><span class="code"># 8.å°†mysqlæ•°æ®åº“å¤‡ä»½ä¸ºsqlæ–‡ä»¶</span></span><br><span class="line"><span class="code">docker exec mysql|å®¹å™¨id sh -c &#x27;exec mysqldump --all-databases -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#x27; &gt; /root/all-databases.sql  --å¯¼å‡ºå…¨éƒ¨æ•°æ®</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code">docker exec mysql sh -c &#x27;exec mysqldump --databases åº“è¡¨ -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#x27; &gt; /root/all-databases.sql  --å¯¼å‡ºæŒ‡å®šåº“æ•°æ®</span></span><br><span class="line"><span class="code">	</span></span><br><span class="line"><span class="code">docker exec mysql sh -c &#x27;exec mysqldump --no-data --databases åº“è¡¨ -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#x27; &gt; /root/all-databases.sql  --å¯¼å‡ºæŒ‡å®šåº“æ•°æ®ä¸è¦æ•°æ®</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 9.æ‰§è¡Œsqlæ–‡ä»¶åˆ°mysqlä¸­</span></span><br><span class="line"><span class="code">docker exec -i mysql sh -c &#x27;exec mysql -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#x27; &lt; /root/xxx.sql</span></span><br></pre></td></tr></table></figure>
<h3 id="2-å®‰è£…RedisæœåŠ¡"><a href="#2-å®‰è£…RedisæœåŠ¡" class="headerlink" title="2 å®‰è£…RedisæœåŠ¡"></a>2 å®‰è£…RedisæœåŠ¡</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.åœ¨docker hubæœç´¢redisé•œåƒ</span></span><br><span class="line">docker search redis</span><br><span class="line"></span><br><span class="line"><span class="section"># 2.æ‹‰å–redisé•œåƒåˆ°æœ¬åœ°</span></span><br><span class="line">docker pull redis</span><br><span class="line"></span><br><span class="line"><span class="section"># 3.å¯åŠ¨redisæœåŠ¡è¿è¡Œå®¹å™¨</span></span><br><span class="line">docker run --name redis -p 6379:6379 -d redis:tag (æš´éœ²å¤–éƒ¨å®¿ä¸»æœºç«¯å£ä¸º6379è¿›è¡Œè¿æ¥) </span><br><span class="line"></span><br><span class="line"><span class="section"># 4.æŸ¥çœ‹å¯åŠ¨æ—¥å¿—</span></span><br><span class="line">docker logs -t -f å®¹å™¨id|å®¹å™¨åç§°</span><br><span class="line"></span><br><span class="line"><span class="section"># 5.è¿›å…¥å®¹å™¨å†…éƒ¨æŸ¥çœ‹</span></span><br><span class="line">docker exec -it å®¹å™¨id|åç§° bash  </span><br><span class="line"></span><br><span class="line"><span class="section"># 6.åŠ è½½å¤–éƒ¨è‡ªå®šä¹‰é…ç½®å¯åŠ¨rediså®¹å™¨</span></span><br><span class="line"><span class="code">	é»˜è®¤æƒ…å†µä¸‹rediså®˜æ–¹é•œåƒä¸­æ²¡æœ‰redis.confé…ç½®æ–‡ä»¶ éœ€è¦å»å®˜ç½‘ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="code">	1. wget http://download.redis.io/releases/redis-5.0.8.tar.gz  ä¸‹è½½å®˜æ–¹å®‰è£…åŒ…</span></span><br><span class="line"><span class="code">	2. å°†å®˜æ–¹å®‰è£…åŒ…ä¸­é…ç½®æ–‡ä»¶è¿›è¡Œå¤åˆ¶åˆ°å®¿ä¸»æœºæŒ‡å®šç›®å½•ä¸­å¦‚ /root/redis/redis.confæ–‡ä»¶</span></span><br><span class="line"><span class="code">	3. ä¿®æ”¹éœ€è¦è‡ªå®šä¹‰çš„é…ç½®</span></span><br><span class="line"><span class="code">		 bind 0.0.0.0 å¼€å¯è¿œç¨‹æƒé™</span></span><br><span class="line"><span class="code">		 appenonly yes å¼€å¯aofæŒä¹…åŒ–</span></span><br><span class="line"><span class="code">	4. åŠ è½½é…ç½®å¯åŠ¨</span></span><br><span class="line"><span class="code">	docker run --name redis -v /root/redis:/usr/local/etc/redis -p 6379:6379 -d redis redis-server /usr/local/etc/redis/redis.conf  </span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code"># 7.å°†æ•°æ®ç›®å½•æŒ‚åœ¨åˆ°æœ¬åœ°ä¿è¯æ•°æ®å®‰å…¨</span></span><br><span class="line"><span class="code">	docker run --name redis -v /root/redis/data:/data -v /root/redis/redis.conf:/usr/local/etc/redis/redis.conf -p 6379:6379 -d redis redis-server 					/usr/local/etc/redis/redis.conf  </span></span><br></pre></td></tr></table></figure>
<h3 id="3-å®‰è£…Nginx"><a href="#3-å®‰è£…Nginx" class="headerlink" title="3 å®‰è£…Nginx"></a>3 å®‰è£…Nginx</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.åœ¨docker hubæœç´¢nginx</span></span><br><span class="line">docker search nginx</span><br><span class="line"></span><br><span class="line"><span class="section"># 2.æ‹‰å–nginxé•œåƒåˆ°æœ¬åœ°</span></span><br><span class="line">docker pull nginx</span><br><span class="line"></span><br><span class="line"><span class="section"># 3.å¯åŠ¨nginxå®¹å™¨</span></span><br><span class="line">docker run -p 80:80 --name nginx01 -d nginx</span><br><span class="line"></span><br><span class="line"><span class="section"># 4.è¿›å…¥å®¹å™¨</span></span><br><span class="line">docker exec -it nginx01 /bin/bash</span><br><span class="line">æŸ¥æ‰¾ç›®å½•:  whereis nginx</span><br><span class="line">é…ç½®æ–‡ä»¶:  /etc/nginx/nginx.conf</span><br><span class="line"></span><br><span class="line"><span class="section"># 5.å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°å®¿ä¸»æœº</span></span><br><span class="line">docker cp nginx01(å®¹å™¨id|å®¹å™¨åç§°):/etc/nginx/nginx.conf å®¿ä¸»æœºåå½•</span><br><span class="line"></span><br><span class="line"><span class="section"># 6.æŒ‚åœ¨nginxé…ç½®ä»¥åŠhtmlåˆ°å®¿ä¸»æœºå¤–éƒ¨</span></span><br><span class="line">docker run --name nginx02 -v /root/nginx/nginx.conf:/etc/nginx/nginx.conf -v /root/nginx/html:/usr/share/nginx/html -p 80:80 -d nginx		</span><br></pre></td></tr></table></figure>
<h3 id="4-å®‰è£…Tomcat"><a href="#4-å®‰è£…Tomcat" class="headerlink" title="4 å®‰è£…Tomcat"></a>4 å®‰è£…Tomcat</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.åœ¨docker hubæœç´¢tomcat</span></span><br><span class="line">docker search tomcat</span><br><span class="line"></span><br><span class="line"><span class="section"># 2.ä¸‹è½½tomcaté•œåƒ</span></span><br><span class="line">docker pull tomcat</span><br><span class="line"></span><br><span class="line"><span class="section"># 3.è¿è¡Œtomcaté•œåƒ</span></span><br><span class="line">docker run -p 8080:8080 -d --name mytomcat tomcat</span><br><span class="line"></span><br><span class="line"><span class="section"># 4.è¿›å…¥tomcatå®¹å™¨</span></span><br><span class="line">docker exec -it mytomcat /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="section"># 5.å°†webappsç›®å½•æŒ‚è½½åœ¨å¤–éƒ¨</span></span><br><span class="line">docker run -p 8080:8080 -v /root/webapps:/usr/local/tomcat/webapps -d --name mytomcat tomcat</span><br></pre></td></tr></table></figure>
<p><strong>Dockerä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ</strong></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">localhost</span> ~]<span class="comment"># docker search mysql æˆ–è€… docker pull è¿™äº›å‘½ä»¤æ— æ³•ä½¿ç”¨</span></span><br><span class="line">Error response from daemon: Get https://index.docker.io/v1/search?q=mysql&amp;n=<span class="number">25</span>: x509: certificate has expired or is not yet valid</span><br></pre></td></tr></table></figure>
<ul>
<li>æ³¨æ„:<strong>è¿™ä¸ªé”™è¯¯çš„åŸå› åœ¨äºæ˜¯ç³»ç»Ÿçš„æ—¶é—´å’Œdocker hubæ—¶é—´ä¸ä¸€è‡´,éœ€è¦åšç³»ç»Ÿæ—¶é—´ä¸ç½‘ç»œæ—¶é—´åŒæ­¥</strong></li>
</ul>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.å®‰è£…æ—¶é—´åŒæ­¥</span></span><br><span class="line">sudo yum -y install ntp ntpdate</span><br><span class="line"><span class="section"># 2.åŒæ­¥æ—¶é—´</span></span><br><span class="line">sudo ntpdate cn.pool.ntp.org</span><br><span class="line"><span class="section"># 3.æŸ¥çœ‹æœ¬æœºæ—¶é—´</span></span><br><span class="line">date</span><br><span class="line"><span class="section"># 4.é‡æ–°æµ‹è¯•</span></span><br></pre></td></tr></table></figure>


<h2 id="11-Dockerfile"><a href="#11-Dockerfile" class="headerlink" title="11.Dockerfile"></a>11.Dockerfile</h2><p>Dockerfileå¯ä»¥è®¤ä¸ºæ˜¯<strong>Dockeré•œåƒçš„æè¿°æ–‡ä»¶ï¼Œæ˜¯ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬</strong>ã€‚ä¸»è¦ä½œç”¨æ˜¯<strong>ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ„å»ºæ–‡ä»¶</strong>ã€‚Dockerfileè§£æè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="/2021/01/20/Docker/image-20200603181253804.png" alt="image-20200603181253804"></p>
<h3 id="Dockerfileçš„ä¿ç•™å‘½ä»¤"><a href="#Dockerfileçš„ä¿ç•™å‘½ä»¤" class="headerlink" title="Dockerfileçš„ä¿ç•™å‘½ä»¤"></a>Dockerfileçš„ä¿ç•™å‘½ä»¤</h3><p>å®˜æ–¹è¯´æ˜:<a href="https://docs.docker.com/engine/reference/builder/">https://docs.docker.com/engine/reference/builder/</a></p>
<table>
<thead>
<tr>
<th>ä¿ç•™å­—</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><strong>FROM</strong></td>
<td><strong>å½“å‰é•œåƒæ˜¯åŸºäºå“ªä¸ªé•œåƒçš„</strong> <code>ç¬¬ä¸€ä¸ªæŒ‡ä»¤å¿…é¡»æ˜¯FROM</code></td>
</tr>
<tr>
<td>MAINTAINER</td>
<td>é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®±åœ°å€</td>
</tr>
<tr>
<td><strong>RUN</strong></td>
<td><strong>æ„å»ºé•œåƒæ—¶éœ€è¦è¿è¡Œçš„æŒ‡ä»¤</strong></td>
</tr>
<tr>
<td><strong>EXPOSE</strong></td>
<td><strong>å½“å‰å®¹å™¨å¯¹å¤–æš´éœ²å‡ºçš„ç«¯å£å·</strong></td>
</tr>
<tr>
<td><strong>WORKDIR</strong></td>
<td><strong>æŒ‡å®šåœ¨åˆ›å»ºå®¹å™¨åï¼Œç»ˆç«¯é»˜è®¤ç™»å½•è¿›æ¥çš„å·¥ä½œç›®å½•ï¼Œä¸€ä¸ªè½è„šç‚¹</strong></td>
</tr>
<tr>
<td><strong>ENV</strong></td>
<td><strong>ç”¨æ¥åœ¨æ„å»ºé•œåƒè¿‡ç¨‹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡</strong></td>
</tr>
<tr>
<td><strong>ADD</strong></td>
<td><strong>å°†å®¿ä¸»æœºç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´è¿›é•œåƒä¸”ADDå‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç†URLå’Œè§£å‹taråŒ…</strong></td>
</tr>
<tr>
<td><strong>COPY</strong></td>
<td><strong>ç±»ä¼¼äºADDï¼Œæ‹·è´æ–‡ä»¶å’Œç›®å½•åˆ°é•œåƒä¸­<br>å°†ä»æ„å»ºä¸Šä¸‹æ–‡ç›®å½•ä¸­&lt;åŸè·¯å¾„&gt;çš„æ–‡ä»¶/ç›®å½•å¤åˆ¶åˆ°æ–°çš„ä¸€å±‚çš„é•œåƒå†…çš„&lt;ç›®æ ‡è·¯å¾„&gt;ä½ç½®</strong></td>
</tr>
<tr>
<td><strong>VOLUME</strong></td>
<td><strong>å®¹å™¨æ•°æ®å·ï¼Œç”¨äºæ•°æ®ä¿å­˜å’ŒæŒä¹…åŒ–å·¥ä½œ</strong></td>
</tr>
<tr>
<td><strong>CMD</strong></td>
<td><strong>æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤<br>Dockerfileä¸­å¯ä»¥æœ‰å¤šä¸ªCMDæŒ‡ä»¤ï¼Œä½†åªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆï¼ŒCMDä¼šè¢«docker runä¹‹åçš„å‚æ•°æ›¿æ¢</strong></td>
</tr>
<tr>
<td><strong>ENTRYPOINT</strong></td>
<td><strong>æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤<br>ENTRYPOINTçš„ç›®çš„å’ŒCMDä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå…¶å‚æ•°</strong></td>
</tr>
</tbody></table>
<h4 id="FROM-å‘½ä»¤"><a href="#FROM-å‘½ä»¤" class="headerlink" title="FROM å‘½ä»¤"></a>FROM å‘½ä»¤</h4><ul>
<li><p>åŸºäºå“ªä¸ªé•œåƒæ„å»ºæ–°é•œåƒï¼Œæ„å»ºæ—¶è‡ªåŠ¨ä»docker hubæ‹‰å–baseé•œåƒ (å¿…é¡»ä½œä¸ºDockerfileçš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤å‡ºç°)</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span>  &lt;image&gt;</span><br><span class="line"><span class="keyword">FROM</span>  &lt;image&gt;[:&lt;tag&gt;]     ä½¿ç”¨ç‰ˆæœ¬ä¸å†™ä¸ºlatest</span><br><span class="line"><span class="keyword">FROM</span>  &lt;image&gt;[@&lt;digest&gt;]  ä½¿ç”¨æ‘˜è¦</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="MAINTAINER-å‘½ä»¤"><a href="#MAINTAINER-å‘½ä»¤" class="headerlink" title="MAINTAINER  å‘½ä»¤"></a>MAINTAINER  å‘½ä»¤</h4><ul>
<li><p>é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®±åœ°å€[åºŸå¼ƒ]</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">MAINTAINER</span> &lt;name&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="RUN-å‘½ä»¤"><a href="#RUN-å‘½ä»¤" class="headerlink" title="RUN å‘½ä»¤"></a>RUN å‘½ä»¤</h4><ul>
<li><p>RUNæŒ‡ä»¤å°†åœ¨å½“å‰æ˜ åƒä¹‹ä¸Šçš„æ–°å±‚ä¸­æ‰§è¡Œä»»ä½•å‘½ä»¤å¹¶æäº¤ç»“æœã€‚ç”Ÿæˆçš„æäº¤æ˜ åƒå°†ç”¨äºDockerfileä¸­çš„ä¸‹ä¸€æ­¥</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="bash"> &lt;<span class="built_in">command</span>&gt; (shell form, the <span class="built_in">command</span> is run <span class="keyword">in</span> a shell, <span class="built_in">which</span> by default is /bin/sh -c on Linux or cmd /S /C on Windows)</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> <span class="built_in">echo</span> hello</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> [<span class="string">&quot;executable&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>] (<span class="built_in">exec</span> form)</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> [<span class="string">&quot;/bin/bash&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;echo hello&quot;</span>]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="EXPOSE-å‘½ä»¤"><a href="#EXPOSE-å‘½ä»¤" class="headerlink" title="EXPOSE å‘½ä»¤"></a>EXPOSE å‘½ä»¤</h4><ul>
<li><p>ç”¨æ¥æŒ‡å®šæ„å»ºçš„é•œåƒåœ¨è¿è¡Œä¸ºå®¹å™¨æ—¶å¯¹å¤–æš´éœ²çš„ç«¯å£</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span>/tcp  å¦‚æœæ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šåˆ™é»˜è®¤æš´éœ²éƒ½æ˜¯tcp</span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span>/udp</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="CMD-å‘½ä»¤"><a href="#CMD-å‘½ä»¤" class="headerlink" title="CMD å‘½ä»¤"></a>CMD å‘½ä»¤</h4><ul>
<li><p>ç”¨æ¥ä¸ºå¯åŠ¨çš„å®¹å™¨æŒ‡å®šæ‰§è¡Œçš„å‘½ä»¤,åœ¨Dockerfileä¸­åªèƒ½æœ‰ä¸€æ¡CMDæŒ‡ä»¤ã€‚å¦‚æœåˆ—å‡ºå¤šä¸ªå‘½ä»¤ï¼Œåˆ™åªæœ‰æœ€åä¸€ä¸ªå‘½ä»¤æ‰ä¼šç”Ÿæ•ˆã€‚</p>
</li>
<li><p>æ³¨æ„: <strong>Dockerfileä¸­åªèƒ½æœ‰ä¸€æ¡CMDæŒ‡ä»¤ã€‚å¦‚æœåˆ—å‡ºå¤šä¸ªå‘½ä»¤ï¼Œåˆ™åªæœ‰æœ€åä¸€ä¸ªå‘½ä»¤æ‰ä¼šç”Ÿæ•ˆã€‚</strong></p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;executable&quot;</span>,<span class="string">&quot;param1&quot;</span>,<span class="string">&quot;param2&quot;</span>] (<span class="built_in">exec</span> form, this is the preferred form)</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;param1&quot;</span>,<span class="string">&quot;param2&quot;</span>] (as default parameters to ENTRYPOINT)</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> <span class="built_in">command</span> param1 param2 (shell form)</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="WORKDIR-å‘½ä»¤"><a href="#WORKDIR-å‘½ä»¤" class="headerlink" title="WORKDIR å‘½ä»¤"></a>WORKDIR å‘½ä»¤</h4><ul>
<li><p>ç”¨æ¥ä¸ºDockerfileä¸­çš„ä»»ä½•RUNã€CMDã€ENTRYPOINTã€COPYå’ŒADDæŒ‡ä»¤è®¾ç½®å·¥ä½œç›®å½•ã€‚å¦‚æœWORKDIRä¸å­˜åœ¨ï¼Œå³ä½¿å®ƒæ²¡æœ‰åœ¨ä»»ä½•åç»­DockerfileæŒ‡ä»¤ä¸­ä½¿ç”¨ï¼Œå®ƒä¹Ÿå°†è¢«åˆ›å»ºã€‚</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /path/to/workdir</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /a</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> b</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> c</span></span><br><span class="line"></span><br><span class="line">æ³¨æ„:<span class="keyword">WORKDIR</span><span class="bash">æŒ‡ä»¤å¯ä»¥åœ¨Dockerfileä¸­å¤šæ¬¡ä½¿ç”¨ã€‚å¦‚æœæä¾›äº†ç›¸å¯¹è·¯å¾„ï¼Œåˆ™è¯¥è·¯å¾„å°†ä¸å…ˆå‰WORKDIRæŒ‡ä»¤çš„è·¯å¾„ç›¸å¯¹</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="ENV-å‘½ä»¤"><a href="#ENV-å‘½ä»¤" class="headerlink" title="ENV å‘½ä»¤"></a>ENV å‘½ä»¤</h4><ul>
<li><p>ç”¨æ¥ä¸ºæ„å»ºé•œåƒè®¾ç½®ç¯å¢ƒå˜é‡ã€‚è¿™ä¸ªå€¼å°†å‡ºç°åœ¨æ„å»ºé˜¶æ®µä¸­æ‰€æœ‰åç»­æŒ‡ä»¤çš„ç¯å¢ƒä¸­ã€‚</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ENV</span> &lt;key&gt; &lt;value&gt;</span><br><span class="line"><span class="keyword">ENV</span> &lt;key&gt;=&lt;value&gt; ...</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="ADD-å‘½ä»¤"><a href="#ADD-å‘½ä»¤" class="headerlink" title="ADD å‘½ä»¤"></a>ADD å‘½ä»¤</h4><ul>
<li><p>ç”¨æ¥ä»contextä¸Šä¸‹æ–‡å¤åˆ¶æ–°æ–‡ä»¶ã€ç›®å½•æˆ–è¿œç¨‹æ–‡ä»¶urlï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°ä½äºæŒ‡å®šè·¯å¾„çš„æ˜ åƒæ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ADD</span><span class="bash"> hom* /mydir/       é€šé…ç¬¦æ·»åŠ å¤šä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> hom?.txt /mydir/   é€šé…ç¬¦æ·»åŠ </span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> test.txt relativeDir/  å¯ä»¥æŒ‡å®šç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> test.txt /absoluteDir/ ä¹Ÿå¯ä»¥æŒ‡å®šç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> url </span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="COPY-å‘½ä»¤"><a href="#COPY-å‘½ä»¤" class="headerlink" title="COPY å‘½ä»¤"></a>COPY å‘½ä»¤</h4><ul>
<li><p>ç”¨æ¥å°†contextç›®å½•ä¸­æŒ‡å®šæ–‡ä»¶å¤åˆ¶åˆ°é•œåƒçš„æŒ‡å®šç›®å½•ä¸­</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">COPY</span><span class="bash"> src dest</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> [<span class="string">&quot;&lt;src&gt;&quot;</span>,... <span class="string">&quot;&lt;dest&gt;&quot;</span>]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="VOLUME-å‘½ä»¤"><a href="#VOLUME-å‘½ä»¤" class="headerlink" title="VOLUME å‘½ä»¤"></a>VOLUME å‘½ä»¤</h4><ul>
<li><p>ç”¨æ¥å®šä¹‰å®¹å™¨è¿è¡Œæ—¶å¯ä»¥æŒ‚è½½åˆ°å®¿ä¸»æœºçš„ç›®å½•</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">VOLUME</span><span class="bash"> [<span class="string">&quot;/data&quot;</span>]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="ENTRYPOINTå‘½ä»¤"><a href="#ENTRYPOINTå‘½ä»¤" class="headerlink" title="ENTRYPOINTå‘½ä»¤"></a>ENTRYPOINTå‘½ä»¤</h4><ul>
<li><p>ç”¨æ¥æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤å’ŒCMDç±»ä¼¼</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">[<span class="string">&quot;executable&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>]</span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> <span class="built_in">command</span> param1 param2</span></span><br></pre></td></tr></table></figure>
<p>ENTRYPOINTæŒ‡ä»¤ï¼Œå¾€å¾€ç”¨äºè®¾ç½®å®¹å™¨å¯åŠ¨åçš„<strong>ç¬¬ä¸€ä¸ªå‘½ä»¤</strong>ï¼Œè¿™å¯¹ä¸€ä¸ªå®¹å™¨æ¥è¯´å¾€å¾€æ˜¯å›ºå®šçš„ã€‚<br>CMDæŒ‡ä»¤ï¼Œå¾€å¾€ç”¨äºè®¾ç½®å®¹å™¨å¯åŠ¨çš„ç¬¬ä¸€ä¸ªå‘½ä»¤çš„<strong>é»˜è®¤å‚æ•°</strong>ï¼Œè¿™å¯¹ä¸€ä¸ªå®¹å™¨æ¥è¯´å¯ä»¥æ˜¯å˜åŒ–çš„ã€‚</p>
</li>
</ul>
<h3 id="Dockerfileæ„å»ºspringbooté¡¹ç›®éƒ¨ç½²"><a href="#Dockerfileæ„å»ºspringbooté¡¹ç›®éƒ¨ç½²" class="headerlink" title="Dockerfileæ„å»ºspringbooté¡¹ç›®éƒ¨ç½²"></a>Dockerfileæ„å»ºspringbooté¡¹ç›®éƒ¨ç½²</h3><p>1.å‡†å¤‡springbootå¯è¿è¡Œé¡¹ç›®ï¼Œå°†å¯è¿è¡Œé¡¹ç›®æ”¾å…¥linuxè™šæ‹Ÿæœºä¸­</p>
<p>2.ç¼–å†™Dockerfile</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> openjdk:<span class="number">8</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /demo</span></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> demo.jar /demo</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8090</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [<span class="string">&quot;java&quot;</span>,<span class="string">&quot;-jar&quot;</span>]</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;demo.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure>
<p>3.æ„å»ºé•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker build -t demo .</span><br></pre></td></tr></table></figure>
<p>4.è¿è¡Œé•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -p 8090:8090 demo</span><br></pre></td></tr></table></figure>
<p>5.è®¿é—®é¡¹ç›®</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">http://localhost:8090/</span><br></pre></td></tr></table></figure>
<h3 id="ä¸Šä¼ è‡ªå·±çš„é•œåƒåˆ°DockerHub"><a href="#ä¸Šä¼ è‡ªå·±çš„é•œåƒåˆ°DockerHub" class="headerlink" title="ä¸Šä¼ è‡ªå·±çš„é•œåƒåˆ°DockerHub"></a>ä¸Šä¼ è‡ªå·±çš„é•œåƒåˆ°DockerHub</h3><p>é¦–å…ˆè¯»è€…æ‰“å¼€ Docker Hub ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œè´¦å·æ³¨å†ŒæˆåŠŸä¹‹åï¼Œåœ¨ç™»å½•è´¦å·ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@centosxdk demo]# docker login</span><br><span class="line">Login with your Docker ID to push and pull images from Docker Hub. If you don&#x27;t have a Docker ID, head over to https://hub.docker.com to create one.</span><br><span class="line">Username: xudukang</span><br><span class="line">Password: </span><br><span class="line">WARNING! Your password will be stored unencrypted in /root/.docker/config.json.</span><br><span class="line">Configure a credential helper to remove this warning. See</span><br><span class="line">https://docs.docker.com/engine/reference/commandline/login/#credentials-store</span><br><span class="line"></span><br><span class="line">Login Succeeded</span><br></pre></td></tr></table></figure>
<p>ç™»å½•æˆåŠŸä¹‹åï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨ push å‘½ä»¤ä¸Šä¼ æˆ‘ä»¬è‡ªåˆ¶çš„é•œåƒäº†ã€‚æ³¨æ„ï¼Œè‡ªåˆ¶çš„é•œåƒè¦èƒ½å¤Ÿä¸Šä¼ ï¼Œå‘½åå¿…é¡»æ»¡è¶³è§„èŒƒï¼Œå³ <code>namespace/name</code> æ ¼å¼ï¼Œå…¶ä¸­ namespace å¿…é¡»æ˜¯ç”¨æˆ·åï¼Œä»¥å‰æ–‡æˆ‘ä»¬åˆ›å»ºçš„ Dockerfile ä¸ºä¾‹ï¼Œè¿™é‡Œé‡æ–°æ„å»ºä¸€ä¸ªæœ¬åœ°é•œåƒå¹¶ä¸Šä¼ åˆ° Docker Hub ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@centosxdk demo]# docker build -t xudukang/demo:v1 .</span><br><span class="line">Sending build context to Docker daemon  18.09MB</span><br><span class="line">Step 1/6 : FROM openjdk:8</span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> 8ca4a86e32d8</span></span><br><span class="line">Step 2/6 : WORKDIR /demo</span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> Using cache</span></span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> d878dd074f17</span></span><br><span class="line">Step 3/6 : ADD demo.jar /demo</span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> Using cache</span></span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> 995d993ecc40</span></span><br><span class="line">Step 4/6 : EXPOSE 8090</span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> Using cache</span></span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> 18f42e161c51</span></span><br><span class="line">Step 5/6 : ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;]</span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> Using cache</span></span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> 493d3fc903c5</span></span><br><span class="line">Step 6/6 : CMD [&quot;demo.jar&quot;]</span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> Using cache</span></span><br><span class="line"><span class="meta"> ---&gt;</span><span class="bash"> cc33dd9b47e1</span></span><br><span class="line">Successfully built cc33dd9b47e1</span><br><span class="line">Successfully tagged xudukang/demo:v1</span><br></pre></td></tr></table></figure>
<p>ä¸Šä¼ é•œåƒï¼ŒæˆåŠŸåå¯ä»¥åœ¨ docker hub æŸ¥çœ‹ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@centosxdk demo]# docker push xudukang/demo:v1</span><br><span class="line">The push refers to repository [docker.io/xudukang/demo]</span><br><span class="line">79ab7db22181: Pushed </span><br><span class="line">fb386ab41f3d: Pushed </span><br><span class="line">8fa7dd575fe2: Mounted from library/openjdk </span><br><span class="line">7df6dd475950: Mounted from library/openjdk </span><br><span class="line">7496c5e8691b: Mounted from library/openjdk </span><br><span class="line">aa7af8a465c6: Mounted from library/openjdk </span><br><span class="line">ef9a7b8862f4: Mounted from library/openjdk </span><br><span class="line">a1f2f42922b1: Mounted from library/openjdk </span><br><span class="line">4762552ad7d8: Mounted from library/openjdk </span><br><span class="line">v1: digest: sha256:a7b19e8e2c21588d43f3734fa2a5561e55fc0c9cfc58fdef0c1a4c9d707163e6 size: 2213</span><br></pre></td></tr></table></figure>


<h2 id="12-é«˜çº§ç½‘ç»œé…ç½®"><a href="#12-é«˜çº§ç½‘ç»œé…ç½®" class="headerlink" title="12.é«˜çº§ç½‘ç»œé…ç½®"></a>12.é«˜çº§ç½‘ç»œé…ç½®</h2><p>å½“ Docker å¯åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨ä¸»æœºä¸Šåˆ›å»ºä¸€ä¸ª <code>docker0</code> è™šæ‹Ÿç½‘æ¡¥ï¼Œå®é™…ä¸Šæ˜¯ Linux çš„ä¸€ä¸ª bridgeï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè½¯ä»¶äº¤æ¢æœºã€‚å®ƒä¼šåœ¨æŒ‚è½½åˆ°å®ƒçš„ç½‘å£ä¹‹é—´è¿›è¡Œè½¬å‘ã€‚</p>
<p>åŒæ—¶ï¼ŒDocker éšæœºåˆ†é…ä¸€ä¸ªæœ¬åœ°æœªå ç”¨çš„ç§æœ‰ç½‘æ®µä¸­çš„ä¸€ä¸ªåœ°å€ç»™ <code>docker0</code> æ¥å£ã€‚æ¯”å¦‚å…¸å‹çš„ <code>172.17.42.1</code>ï¼Œæ©ç ä¸º <code>255.255.0.0</code>ã€‚æ­¤åå¯åŠ¨çš„å®¹å™¨å†…çš„ç½‘å£ä¹Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªåŒä¸€ç½‘æ®µï¼ˆ<code>172.17.0.0/16</code>ï¼‰çš„åœ°å€ã€‚</p>
<p>å½“åˆ›å»ºä¸€ä¸ª Docker å®¹å™¨çš„æ—¶å€™ï¼ŒåŒæ—¶ä¼šåˆ›å»ºäº†ä¸€å¯¹ <code>veth pair</code> æ¥å£ï¼ˆå½“æ•°æ®åŒ…å‘é€åˆ°ä¸€ä¸ªæ¥å£æ—¶ï¼Œå¦å¤–ä¸€ä¸ªæ¥å£ä¹Ÿå¯ä»¥æ”¶åˆ°ç›¸åŒçš„æ•°æ®åŒ…ï¼‰ã€‚è¿™å¯¹æ¥å£ä¸€ç«¯åœ¨å®¹å™¨å†…ï¼Œå³ <code>eth0</code>ï¼›å¦ä¸€ç«¯åœ¨æœ¬åœ°å¹¶è¢«æŒ‚è½½åˆ° <code>docker0</code> ç½‘æ¡¥ï¼Œåç§°ä»¥ <code>veth</code> å¼€å¤´ï¼ˆä¾‹å¦‚ <code>vethAQI2QT</code>ï¼‰ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸»æœºå¯ä»¥è·Ÿå®¹å™¨é€šä¿¡ï¼Œå®¹å™¨ä¹‹é—´ä¹Ÿå¯ä»¥ç›¸äº’é€šä¿¡ã€‚Docker å°±åˆ›å»ºäº†åœ¨ä¸»æœºå’Œæ‰€æœ‰å®¹å™¨ä¹‹é—´ä¸€ä¸ªè™šæ‹Ÿå…±äº«ç½‘ç»œã€‚</p>
<p><img src="/2021/01/20/Docker/image-20201125105847896.png" alt="image-20201125105847896"></p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">æŸ¥çœ‹ç½‘ç»œä¿¡æ¯</span><br><span class="line"><span class="section"># docker network ls</span></span><br><span class="line">åˆ›å»ºä¸€ä¸ªç½‘æ¡¥</span><br><span class="line"><span class="section"># docker network create -d bridge ç½‘æ¡¥åç§°</span></span><br><span class="line">åˆ é™¤ä¸€ä¸ªç½‘æ¡¥</span><br><span class="line"><span class="section"># docker network rm ç½‘æ¡¥åç§°</span></span><br></pre></td></tr></table></figure>
<h3 id="å®¹å™¨é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡"><a href="#å®¹å™¨é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡" class="headerlink" title="å®¹å™¨é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡"></a>å®¹å™¨é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.æŸ¥è¯¢å½“å‰ç½‘ç»œé…ç½®</span></span><br><span class="line"><span class="bullet">-</span> docker network ls</span><br><span class="line"></span><br><span class="line">NETWORK ID          NAME                DRIVER              SCOPE</span><br><span class="line">8e424e5936b7        bridge              bridge              local</span><br><span class="line">17d974db02da        docker<span class="emphasis">_gwbridge     bridge              local</span></span><br><span class="line"><span class="emphasis">d6c326e433f7        host                host                local</span></span><br></pre></td></tr></table></figure>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 2.åˆ›å»ºæ¡¥æ¥ç½‘ç»œ</span></span><br><span class="line"><span class="bullet">-</span> docker network create -d bridge info</span><br><span class="line"></span><br><span class="line">[root@centos ~]# docker network create -d bridge info</span><br><span class="line">6e4aaebff79b1df43a064e0e8fdab08f52d64ce34db78dd5184ce7aaaf550a2f</span><br><span class="line">[root@centos ~]# docker network ls</span><br><span class="line">NETWORK ID          NAME                DRIVER              SCOPE</span><br><span class="line">8e424e5936b7        bridge              bridge              local</span><br><span class="line">17d974db02da        docker<span class="emphasis">_gwbridge     bridge              local</span></span><br><span class="line"><span class="emphasis">d6c326e433f7        host                host                local</span></span><br><span class="line"><span class="emphasis">6e4aaebff79b        info                bridge              local</span></span><br></pre></td></tr></table></figure>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 3.å¯åŠ¨å®¹å™¨æŒ‡å®šä½¿ç”¨ç½‘æ¡¥</span></span><br><span class="line"><span class="bullet">-</span> docker run -d -p 8890:80 --name nginx001 --network info nginx </span><br><span class="line"><span class="bullet">-</span> docker run -d -p 8891:80 --name nginx002 --network info nginx </span><br><span class="line">æ³¨æ„:ä¸€æ—¦æŒ‡å®šç½‘æ¡¥å--nameæŒ‡å®šåå­—å°±æ˜¯ä¸»æœºå,å¤šä¸ªå®¹å™¨æŒ‡å®šåœ¨åŒä¸€ä¸ªç½‘æ¡¥æ—¶,å¯ä»¥åœ¨ä»»æ„ä¸€ä¸ªå®¹å™¨ä¸­ä½¿ç”¨ä¸»æœºåä¸å®¹å™¨è¿›è¡Œäº’é€š</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@centos ~]# docker run -d -p 8890:80 --name nginx001 --network info nginx </span><br><span class="line">c315bcc94e9ddaa36eb6c6f16ca51592b1ac8bf1ecfe9d8f01d892f3f10825fe</span><br><span class="line">[root@centos ~]# docker run -d -p 8891:80 --name nginx002 --network info nginx</span><br><span class="line">f8682db35dd7fb4395f90edb38df7cad71bbfaba71b6a4c6e2a3a525cb73c2a5</span><br><span class="line">[root@centos ~]# docker ps</span><br><span class="line">ID           IMAGE COMMAND                CREATED  STATUS        PORTS                  NAMES</span><br><span class="line">f8682db35dd7 nginx &quot;/docker-entrypoint.â€¦&quot; 3s ago   Up 2 seconds  0.0.0.0:8891-&gt;80/tcp   nginx002</span><br><span class="line">c315bcc94e9d nginx &quot;/docker-entrypoint.â€¦&quot; 7s ago   Up 7 minutes  0.0.0.0:8890-&gt;80/tcp   nginx001</span><br><span class="line">b63169d43792 mysql &quot;docker-entrypoint.sâ€¦&quot; 7s ago   Up 7 minutes  3306/tcp               mysql </span><br><span class="line">[root@centos ~]# docker exec -it f8682db35dd7 /bin/bash</span><br><span class="line">root@f8682db35dd7:/# curl http://nginx001</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;Welcome to nginx!&lt;/title&gt;</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>


<h2 id="13-é«˜çº§æ•°æ®å·é…ç½®"><a href="#13-é«˜çº§æ•°æ®å·é…ç½®" class="headerlink" title="13.é«˜çº§æ•°æ®å·é…ç½®"></a>13.é«˜çº§æ•°æ®å·é…ç½®</h2><p><code>æ•°æ®å·</code> æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š</p>
<ul>
<li><code>æ•°æ®å·</code> å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨</li>
<li>å¯¹ <code>æ•°æ®å·</code> çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ</li>
<li>å¯¹ <code>æ•°æ®å·</code> çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ</li>
<li><code>æ•°æ®å·</code> é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤</li>
</ul>
<p>æ³¨æ„ï¼š<code>æ•°æ®å·</code> çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šå¤åˆ¶åˆ°æ•°æ®å·ä¸­ï¼ˆä»…æ•°æ®å·ä¸ºç©ºæ—¶ä¼šå¤åˆ¶ï¼‰ã€‚</p>
<h3 id="åˆ›å»ºæ•°æ®å·"><a href="#åˆ›å»ºæ•°æ®å·" class="headerlink" title="åˆ›å»ºæ•°æ®å·"></a>åˆ›å»ºæ•°æ®å·</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@centos ~]# docker volume create my-vol</span><br><span class="line">my-vol</span><br></pre></td></tr></table></figure>
<h3 id="æŸ¥çœ‹æ•°æ®å·"><a href="#æŸ¥çœ‹æ•°æ®å·" class="headerlink" title="æŸ¥çœ‹æ•°æ®å·"></a>æŸ¥çœ‹æ•°æ®å·</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@centos ~]# docker volume inspect my-vol       </span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;CreatedAt&quot;: &quot;2020-11-25T11:43:56+08:00&quot;,</span><br><span class="line">        &quot;Driver&quot;: &quot;local&quot;,</span><br><span class="line">        &quot;Labels&quot;: &#123;&#125;,</span><br><span class="line">        &quot;Mountpoint&quot;: &quot;/var/lib/docker/volumes/my-vol/_data&quot;,</span><br><span class="line">        &quot;Name&quot;: &quot;my-vol&quot;,</span><br><span class="line">        &quot;Options&quot;: &#123;&#125;,</span><br><span class="line">        &quot;Scope&quot;: &quot;local&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="æŒ‚è½½æ•°æ®å·"><a href="#æŒ‚è½½æ•°æ®å·" class="headerlink" title="æŒ‚è½½æ•°æ®å·"></a>æŒ‚è½½æ•°æ®å·</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@centos ~]# docker run -d -P --name web  -v my-vol:/usr/share/nginx/html  nginx</span><br><span class="line">[root@centos ~]# docker inspect web</span><br><span class="line">				&quot;Mounts&quot;: [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;Type&quot;: &quot;volume&quot;,</span><br><span class="line">                &quot;Name&quot;: &quot;my-vol&quot;,</span><br><span class="line">                &quot;Source&quot;: &quot;/var/lib/docker/volumes/my-vol/_data&quot;,</span><br><span class="line">                &quot;Destination&quot;: &quot;/usr/share/nginx/html&quot;,</span><br><span class="line">                &quot;Driver&quot;: &quot;local&quot;,</span><br><span class="line">                &quot;Mode&quot;: &quot;z&quot;,</span><br><span class="line">                &quot;RW&quot;: true,</span><br><span class="line">                &quot;Propagation&quot;: &quot;&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ],</span><br></pre></td></tr></table></figure>
<h3 id="åˆ é™¤æ•°æ®å·"><a href="#åˆ é™¤æ•°æ®å·" class="headerlink" title="åˆ é™¤æ•°æ®å·"></a>åˆ é™¤æ•°æ®å·</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker volume rm my-vol</span><br></pre></td></tr></table></figure>


<h2 id="14-Docker-Compose"><a href="#14-Docker-Compose" class="headerlink" title="14.Docker Compose"></a>14.Docker Compose</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><code>Compose</code> é¡¹ç›®æ˜¯ Docker å®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œè´Ÿè´£å®ç°å¯¹ Docker å®¹å™¨é›†ç¾¤çš„å¿«é€Ÿç¼–æ’ã€‚å…¶å®šä½æ˜¯ å®šä¹‰å’Œè¿è¡Œå¤šä¸ª Docker å®¹å™¨çš„åº”ç”¨ï¼Œå‰èº«æ˜¯å¼€æºé¡¹ç›® Figã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ä½¿ç”¨ä¸€ä¸ª <code>Dockerfile</code> æ¨¡æ¿æ–‡ä»¶ï¼Œå¯ä»¥è®©ç”¨æˆ·å¾ˆæ–¹ä¾¿çš„å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨å®¹å™¨ã€‚ç„¶è€Œï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°éœ€è¦å¤šä¸ªå®¹å™¨ç›¸äº’é…åˆæ¥å®ŒæˆæŸé¡¹ä»»åŠ¡çš„æƒ…å†µã€‚ä¾‹å¦‚è¦å®ç°ä¸€ä¸ª Web é¡¹ç›®ï¼Œé™¤äº† Web æœåŠ¡å®¹å™¨æœ¬èº«ï¼Œå¾€å¾€è¿˜éœ€è¦å†åŠ ä¸Šåç«¯çš„æ•°æ®åº“æœåŠ¡å®¹å™¨ï¼Œç”šè‡³è¿˜åŒ…æ‹¬è´Ÿè½½å‡è¡¡å®¹å™¨ç­‰ã€‚<code>Compose</code> æ°å¥½æ»¡è¶³äº†è¿™æ ·çš„éœ€æ±‚ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ <code>docker-compose.yml</code> æ¨¡æ¿æ–‡ä»¶æ¥å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ä¸ºä¸€ä¸ªé¡¹ç›®ã€‚</p>
<p><code>Compose</code> ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼š</p>
<ul>
<li>æœåŠ¡ (<code>service</code>)ï¼šä¸€ä¸ªåº”ç”¨çš„å®¹å™¨ï¼Œå®é™…ä¸Šå¯ä»¥åŒ…æ‹¬è‹¥å¹²è¿è¡Œç›¸åŒé•œåƒçš„å®¹å™¨å®ä¾‹ã€‚</li>
<li>é¡¹ç›® (<code>project</code>)ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒï¼Œåœ¨ <code>docker-compose.yml</code> æ–‡ä»¶ä¸­å®šä¹‰ã€‚</li>
</ul>
<p><code>Compose</code> çš„é»˜è®¤ç®¡ç†å¯¹è±¡æ˜¯é¡¹ç›®ï¼Œé€šè¿‡å­å‘½ä»¤å¯¹é¡¹ç›®ä¸­çš„ä¸€ç»„å®¹å™¨è¿›è¡Œä¾¿æ·åœ°ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p>
<p><code>Compose</code> é¡¹ç›®ç”± Python ç¼–å†™ï¼Œå®ç°ä¸Šè°ƒç”¨äº† Docker æœåŠ¡æä¾›çš„ API æ¥å¯¹å®¹å™¨è¿›è¡Œç®¡ç†ã€‚å› æ­¤ï¼Œåªè¦æ‰€æ“ä½œçš„å¹³å°æ”¯æŒ Docker APIï¼Œå°±å¯ä»¥åœ¨å…¶ä¸Šåˆ©ç”¨ <code>Compose</code> æ¥è¿›è¡Œç¼–æ’ç®¡ç†ã€‚</p>
<h3 id="å®‰è£…ä¸å¸è½½"><a href="#å®‰è£…ä¸å¸è½½" class="headerlink" title="å®‰è£…ä¸å¸è½½"></a>å®‰è£…ä¸å¸è½½</h3><p>åœ¨ Linux ä¸Šçš„ä¹Ÿå®‰è£…ååˆ†ç®€å•ï¼Œä» å®˜æ–¹ GitHub Release å¤„ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶å³å¯ã€‚ä¾‹å¦‚ï¼Œåœ¨ Linux 64 ä½ç³»ç»Ÿä¸Šç›´æ¥ä¸‹è½½å¯¹åº”çš„äºŒè¿›åˆ¶åŒ…ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sudo curl -L https://github.com/docker/compose/releases/download/1.25.5/docker-compose-`uname -s`-`uname -m` &gt; /usr/<span class="built_in">local</span>/bin/docker-compose</span><br><span class="line">$ sudo chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span><br></pre></td></tr></table></figure>
<p>bashå‘½ä»¤è¡¥å…¨</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -L https://raw.githubusercontent.com/docker/compose/1.25.5/contrib/completion/bash/docker-compose &gt; /etc/bash_completion.d/docker-compose</span></span><br></pre></td></tr></table></figure>
<p>å¸è½½ï¼šå¦‚æœæ˜¯äºŒè¿›åˆ¶åŒ…æ–¹å¼å®‰è£…çš„ï¼Œåˆ é™¤äºŒè¿›åˆ¶æ–‡ä»¶å³å¯ã€‚</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo rm /usr/<span class="built_in">local</span>/bin/docker-compose</span></span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•å®‰è£…æˆåŠŸ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> docker-compose --version</span></span><br></pre></td></tr></table></figure>
<h3 id="docker-composeä½¿ç”¨"><a href="#docker-composeä½¿ç”¨" class="headerlink" title="docker composeä½¿ç”¨"></a>docker composeä½¿ç”¨</h3><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 1.ç›¸å…³æ¦‚å¿µ</span></span><br><span class="line"><span class="bullet">-</span> æœåŠ¡ (service)ï¼šä¸€ä¸ªåº”ç”¨å®¹å™¨ï¼Œå®é™…ä¸Šå¯ä»¥è¿è¡Œå¤šä¸ªç›¸åŒé•œåƒçš„å®ä¾‹ã€‚</span><br><span class="line"><span class="bullet">-</span> é¡¹ç›® (project)ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒã€‚ä¸€ä¸ªé¡¹ç›®å¯ä»¥ç”±å¤šä¸ªæœåŠ¡ï¼ˆå®¹å™¨ï¼‰å…³è”è€Œæˆï¼ŒCompose é¢å‘é¡¹ç›®è¿›è¡Œç®¡ç†ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 2.åœºæ™¯</span></span><br><span class="line">æœ€å¸¸è§çš„é¡¹ç›®æ˜¯ web ç½‘ç«™ï¼Œè¯¥é¡¹ç›®åº”è¯¥åŒ…å« web åº”ç”¨å’Œç¼“å­˜ã€‚</span><br><span class="line"><span class="bullet">-</span> springbootåº”ç”¨</span><br><span class="line"><span class="bullet">-</span> mysqlæœåŠ¡</span><br><span class="line"><span class="bullet">-</span> redisæœåŠ¡  </span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 3.docker-composeæ¨¡æ¿</span></span><br><span class="line"><span class="bullet">-</span> å‚è€ƒæ–‡æ¡£:https://docker<span class="emphasis">_practice.gitee.io/zh-cn/compose/compose_</span>file.html</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3.0&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mysqldb:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:5.7.32</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mysql-compose</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;3307:3306&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/root/mysql/conf:/etc/mysql/conf.d</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/root/mysql/logs:/logs</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/root/mysql/data:/var/lib/mysql</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:4.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">redis-compose</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;6379:6379&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/root/redis/data:/data</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">redis-server</span></span><br></pre></td></tr></table></figure>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section"># 4.é€šè¿‡docker-composeè¿è¡Œä¸€ç»„å®¹å™¨</span></span><br><span class="line"><span class="bullet">-</span> å‚è€ƒæ–‡æ¡£:https://docker<span class="emphasis">_practice.gitee.io/zh-cn/compose/commands.html</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose up    	//å‰å°å¯åŠ¨ä¸€ç»„æœåŠ¡</span><br><span class="line">docker-compose up -d 	//åå°å¯åŠ¨ä¸€ç»„æœåŠ¡</span><br><span class="line">docker-compose down     //åœæ­¢å®¹å™¨çš„è¿è¡Œ</span><br></pre></td></tr></table></figure>
<h3 id="docker-compose-æ¨¡æ¿æ–‡ä»¶"><a href="#docker-compose-æ¨¡æ¿æ–‡ä»¶" class="headerlink" title="docker-compose æ¨¡æ¿æ–‡ä»¶"></a>docker-compose æ¨¡æ¿æ–‡ä»¶</h3><p>æ¨¡æ¿æ–‡ä»¶æ˜¯ä½¿ç”¨ <code>Compose</code> çš„æ ¸å¿ƒï¼Œé»˜è®¤çš„æ¨¡æ¿æ–‡ä»¶åç§°ä¸º <code>docker-compose.yml</code>ï¼Œæ ¼å¼ä¸º YAML æ ¼å¼ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">webapp:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">examples/web</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;80:80&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;/data&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„æ¯ä¸ªæœåŠ¡éƒ½å¿…é¡»é€šè¿‡ <code>image</code> æŒ‡ä»¤æŒ‡å®šé•œåƒæˆ– <code>build</code> æŒ‡ä»¤ï¼ˆéœ€è¦ Dockerfileï¼‰ç­‰æ¥è‡ªåŠ¨æ„å»ºç”Ÿæˆé•œåƒã€‚</p>
<p>å¦‚æœä½¿ç”¨ <code>build</code> æŒ‡ä»¤ï¼Œåœ¨ <code>Dockerfile</code> ä¸­è®¾ç½®çš„é€‰é¡¹(ä¾‹å¦‚ï¼š<code>CMD</code>, <code>EXPOSE</code>, <code>VOLUME</code>, <code>ENV</code> ç­‰) å°†ä¼šè‡ªåŠ¨è¢«è·å–ï¼Œæ— éœ€åœ¨ <code>docker-compose.yml</code> ä¸­é‡å¤è®¾ç½®ã€‚</p>
<p>ä¸‹é¢åˆ†åˆ«ä»‹ç»å„ä¸ªæŒ‡ä»¤çš„ç”¨æ³•ã€‚</p>
<h4 id="build"><a href="#build" class="headerlink" title="build"></a><code>build</code></h4><p>æŒ‡å®š <code>Dockerfile</code> æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ˆå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…ç›¸å¯¹ docker-compose.yml æ–‡ä»¶çš„è·¯å¾„ï¼‰ã€‚ <code>Compose</code> å°†ä¼šåˆ©ç”¨å®ƒè‡ªåŠ¨æ„å»ºè¿™ä¸ªé•œåƒï¼Œç„¶åä½¿ç”¨è¿™ä¸ªé•œåƒã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">webapp:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">./dir</span></span><br></pre></td></tr></table></figure>
<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>context</code> æŒ‡ä»¤æŒ‡å®š <code>Dockerfile</code> æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚</p>
<p>ä½¿ç”¨ <code>dockerfile</code> æŒ‡ä»¤æŒ‡å®š <code>Dockerfile</code> æ–‡ä»¶åã€‚</p>
<p>ä½¿ç”¨ <code>arg</code> æŒ‡ä»¤æŒ‡å®šæ„å»ºé•œåƒæ—¶çš„å˜é‡ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">webapp:</span></span><br><span class="line">    <span class="attr">build:</span></span><br><span class="line">      <span class="attr">context:</span> <span class="string">./dir</span></span><br><span class="line">      <span class="attr">dockerfile:</span> <span class="string">Dockerfile-alternate</span></span><br><span class="line">      <span class="attr">args:</span></span><br><span class="line">        <span class="attr">buildno:</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="command"><a href="#command" class="headerlink" title="command"></a><code>command</code></h4><p>è¦†ç›–å®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">command:</span> <span class="string">echo</span> <span class="string">&quot;hello world&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="container-name"><a href="#container-name" class="headerlink" title="container_name"></a><code>container_name</code></h4><p>æŒ‡å®šå®¹å™¨åç§°ã€‚é»˜è®¤å°†ä¼šä½¿ç”¨ <code>é¡¹ç›®åç§°_æœåŠ¡åç§°_åºå·</code> è¿™æ ·çš„æ ¼å¼ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">container_name:</span> <span class="string">docker-web-container</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„: æŒ‡å®šå®¹å™¨åç§°åï¼Œè¯¥æœåŠ¡å°†æ— æ³•è¿›è¡Œæ‰©å±•ï¼ˆscaleï¼‰ï¼Œå› ä¸º Docker ä¸å…è®¸å¤šä¸ªå®¹å™¨å…·æœ‰ç›¸åŒçš„åç§°ã€‚</p>
</blockquote>
<h4 id="depends-on"><a href="#depends-on" class="headerlink" title="depends_on"></a><code>depends_on</code></h4><p>è§£å†³å®¹å™¨çš„ä¾èµ–ã€å¯åŠ¨å…ˆåçš„é—®é¢˜ã€‚ä»¥ä¸‹ä¾‹å­ä¸­ä¼šå…ˆå¯åŠ¨ <code>redis</code> <code>db</code> å†å¯åŠ¨ <code>web</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">web:</span></span><br><span class="line">    <span class="attr">build:</span> <span class="string">.</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">postgres</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼š<code>web</code> æœåŠ¡ä¸ä¼šç­‰å¾… <code>redis</code> <code>db</code> ã€Œå®Œå…¨å¯åŠ¨ã€ä¹‹åæ‰å¯åŠ¨ã€‚</p>
</blockquote>
<h4 id="env-file"><a href="#env-file" class="headerlink" title="env_file"></a><code>env_file</code></h4><p>ä»æ–‡ä»¶ä¸­è·å–ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ä¸ºå•ç‹¬çš„æ–‡ä»¶è·¯å¾„æˆ–åˆ—è¡¨ã€‚</p>
<p>å¦‚æœé€šè¿‡ <code>docker-compose -f FILE</code> æ–¹å¼æ¥æŒ‡å®š Compose æ¨¡æ¿æ–‡ä»¶ï¼Œåˆ™ <code>env_file</code> ä¸­å˜é‡çš„è·¯å¾„ä¼šåŸºäºæ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚</p>
<p>å¦‚æœæœ‰å˜é‡åç§°ä¸ <code>environment</code> æŒ‡ä»¤å†²çªï¼Œåˆ™æŒ‰ç…§æƒ¯ä¾‹ï¼Œä»¥åè€…ä¸ºå‡†ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">env_file: .env</span><br><span class="line"></span><br><span class="line">env_file:</span><br><span class="line">  - ./common.env</span><br><span class="line">  - ./apps/web.env</span><br><span class="line">  - /opt/secrets.env</span><br></pre></td></tr></table></figure>
<p>ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­æ¯ä¸€è¡Œå¿…é¡»ç¬¦åˆæ ¼å¼ï¼Œæ”¯æŒ <code>#</code> å¼€å¤´çš„æ³¨é‡Šè¡Œã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># common.env: Set development environment</span></span><br><span class="line">PROG_ENV=development</span><br></pre></td></tr></table></figure>
<h4 id="environment"><a href="#environment" class="headerlink" title="environment"></a><code>environment</code></h4><p>è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ä½ å¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸ä¸¤ç§æ ¼å¼ã€‚</p>
<p>åªç»™å®šåç§°çš„å˜é‡ä¼šè‡ªåŠ¨è·å–è¿è¡Œ Compose ä¸»æœºä¸Šå¯¹åº”å˜é‡çš„å€¼ï¼Œå¯ä»¥ç”¨æ¥é˜²æ­¢æ³„éœ²ä¸å¿…è¦çš„æ•°æ®ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">environment:</span></span><br><span class="line">  <span class="attr">RACK_ENV:</span> <span class="string">development</span></span><br><span class="line">  <span class="attr">SESSION_SECRET:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">environment:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">RACK_ENV=development</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">SESSION_SECRET</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœå˜é‡åç§°æˆ–è€…å€¼ä¸­ç”¨åˆ° <code>true|falseï¼Œyes|no</code> ç­‰è¡¨è¾¾ <a href="https://yaml.org/type/bool.html">å¸ƒå°”</a> å«ä¹‰çš„è¯æ±‡ï¼Œæœ€å¥½æ”¾åˆ°å¼•å·é‡Œï¼Œé¿å… YAML è‡ªåŠ¨è§£ææŸäº›å†…å®¹ä¸ºå¯¹åº”çš„å¸ƒå°”è¯­ä¹‰ã€‚è¿™äº›ç‰¹å®šè¯æ±‡ï¼ŒåŒ…æ‹¬</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">y|Y|yes|Yes|YES|n|N|no|No|NO|<span class="literal">true</span>|True|TRUE|<span class="literal">false</span>|False|FALSE|on|On|ON|off|Off|OFF</span><br></pre></td></tr></table></figure>
<h4 id="healthcheck"><a href="#healthcheck" class="headerlink" title="healthcheck"></a><code>healthcheck</code></h4><p>é€šè¿‡å‘½ä»¤æ£€æŸ¥å®¹å™¨æ˜¯å¦å¥åº·è¿è¡Œã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">healthcheck:</span></span><br><span class="line">  <span class="attr">test:</span> [<span class="string">&quot;CMD&quot;</span>, <span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-f&quot;</span>, <span class="string">&quot;http://localhost&quot;</span>]</span><br><span class="line">  <span class="attr">interval:</span> <span class="string">1m30s</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="string">10s</span></span><br><span class="line">  <span class="attr">retries:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h4 id="image"><a href="#image" class="headerlink" title="image"></a><code>image</code></h4><p>æŒ‡å®šä¸ºé•œåƒåç§°æˆ–é•œåƒ IDã€‚å¦‚æœé•œåƒåœ¨æœ¬åœ°ä¸å­˜åœ¨ï¼Œ<code>Compose</code> å°†ä¼šå°è¯•æ‹‰å–è¿™ä¸ªé•œåƒã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">image:</span> <span class="string">ubuntu</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">orchardup/postgresql</span></span><br><span class="line"><span class="attr">image:</span> <span class="string">a4bc65fd</span></span><br></pre></td></tr></table></figure>
<h4 id="networks"><a href="#networks" class="headerlink" title="networks"></a><code>networks</code></h4><p>é…ç½®å®¹å™¨è¿æ¥çš„ç½‘ç»œã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">some-service:</span></span><br><span class="line">    <span class="attr">networks:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">some-network</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">other-network</span></span><br><span class="line"></span><br><span class="line"><span class="attr">networks:</span></span><br><span class="line">  <span class="attr">some-network:</span></span><br><span class="line">  <span class="attr">other-network:</span></span><br></pre></td></tr></table></figure>
<h4 id="ports"><a href="#ports" class="headerlink" title="ports"></a><code>ports</code></h4><p>æš´éœ²ç«¯å£ä¿¡æ¯ã€‚</p>
<p>ä½¿ç”¨å®¿ä¸»ç«¯å£ï¼šå®¹å™¨ç«¯å£ <code>(HOST:CONTAINER)</code> æ ¼å¼ï¼Œæˆ–è€…ä»…ä»…æŒ‡å®šå®¹å™¨çš„ç«¯å£ï¼ˆå®¿ä¸»å°†ä¼šéšæœºé€‰æ‹©ç«¯å£ï¼‰éƒ½å¯ä»¥ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">ports:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;3000&quot;</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;8000:8000&quot;</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;49100:22&quot;</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;127.0.0.1:8001:8001&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼šå½“ä½¿ç”¨ <code>HOST:CONTAINER</code> æ ¼å¼æ¥æ˜ å°„ç«¯å£æ—¶ï¼Œå¦‚æœä½ ä½¿ç”¨çš„å®¹å™¨ç«¯å£å°äº 60 å¹¶ä¸”æ²¡æ”¾åˆ°å¼•å·é‡Œï¼Œå¯èƒ½ä¼šå¾—åˆ°é”™è¯¯ç»“æœï¼Œå› ä¸º <code>YAML</code> ä¼šè‡ªåŠ¨è§£æ <code>xx:yy</code> è¿™ç§æ•°å­—æ ¼å¼ä¸º 60 è¿›åˆ¶ã€‚ä¸ºé¿å…å‡ºç°è¿™ç§é—®é¢˜ï¼Œå»ºè®®æ•°å­—ä¸²éƒ½é‡‡ç”¨å¼•å·åŒ…æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²æ ¼å¼ã€‚</p>
<h4 id="sysctls"><a href="#sysctls" class="headerlink" title="sysctls"></a><code>sysctls</code></h4><p>é…ç½®å®¹å™¨å†…æ ¸å‚æ•°ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sysctls:</span></span><br><span class="line">  <span class="attr">net.core.somaxconn:</span> <span class="number">1024</span></span><br><span class="line">  <span class="attr">net.ipv4.tcp_syncookies:</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">sysctls:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">net.core.somaxconn=1024</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">net.ipv4.tcp_syncookies=0</span></span><br></pre></td></tr></table></figure>
<h4 id="ulimits"><a href="#ulimits" class="headerlink" title="ulimits"></a><code>ulimits</code></h4><p>æŒ‡å®šå®¹å™¨çš„ ulimits é™åˆ¶å€¼ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒæŒ‡å®šæœ€å¤§è¿›ç¨‹æ•°ä¸º 65535ï¼ŒæŒ‡å®šæ–‡ä»¶å¥æŸ„æ•°ä¸º 20000ï¼ˆè½¯é™åˆ¶ï¼Œåº”ç”¨å¯ä»¥éšæ—¶ä¿®æ”¹ï¼Œä¸èƒ½è¶…è¿‡ç¡¬é™åˆ¶ï¼‰ å’Œ 40000ï¼ˆç³»ç»Ÿç¡¬é™åˆ¶ï¼Œåªèƒ½ root ç”¨æˆ·æé«˜ï¼‰ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">ulimits:</span></span><br><span class="line">  <span class="attr">nproc:</span> <span class="number">65535</span></span><br><span class="line">  <span class="attr">nofile:</span></span><br><span class="line">    <span class="attr">soft:</span> <span class="number">20000</span></span><br><span class="line">    <span class="attr">hard:</span> <span class="number">40000</span></span><br></pre></td></tr></table></figure>
<h4 id="volumes"><a href="#volumes" class="headerlink" title="volumes"></a><code>volumes</code></h4><p>æ•°æ®å·æ‰€æŒ‚è½½è·¯å¾„è®¾ç½®ã€‚å¯ä»¥è®¾ç½®ä¸ºå®¿ä¸»æœºè·¯å¾„(<code>HOST:CONTAINER</code>)æˆ–è€…æ•°æ®å·åç§°(<code>VOLUME:CONTAINER</code>)ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®è®¿é—®æ¨¡å¼ ï¼ˆ<code>HOST:CONTAINER:ro</code>ï¼‰ã€‚</p>
<p>è¯¥æŒ‡ä»¤ä¸­è·¯å¾„æ”¯æŒç›¸å¯¹è·¯å¾„ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">volumes:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">/var/lib/mysql</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">cache/:/tmp/cache</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">~/configs:/etc/configs/:ro</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœè·¯å¾„ä¸ºæ•°æ®å·åç§°ï¼Œå¿…é¡»åœ¨æ–‡ä»¶ä¸­é…ç½®æ•°æ®å·ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">my_src:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_data:/var/lib/mysql</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">mysql_data:</span></span><br></pre></td></tr></table></figure>
<h3 id="docker-compose-å¸¸ç”¨å‘½ä»¤"><a href="#docker-compose-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="docker-compose å¸¸ç”¨å‘½ä»¤"></a>docker-compose å¸¸ç”¨å‘½ä»¤</h3><h4 id="1-å‘½ä»¤å¯¹è±¡ä¸æ ¼å¼"><a href="#1-å‘½ä»¤å¯¹è±¡ä¸æ ¼å¼" class="headerlink" title="1. å‘½ä»¤å¯¹è±¡ä¸æ ¼å¼"></a>1. å‘½ä»¤å¯¹è±¡ä¸æ ¼å¼</h4><p>å¯¹äº Compose æ¥è¯´ï¼Œå¤§éƒ¨åˆ†å‘½ä»¤çš„å¯¹è±¡æ—¢å¯ä»¥æ˜¯é¡¹ç›®æœ¬èº«ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸ºé¡¹ç›®ä¸­çš„æœåŠ¡æˆ–è€…å®¹å™¨ã€‚å¦‚æœæ²¡æœ‰ç‰¹åˆ«çš„è¯´æ˜ï¼Œå‘½ä»¤å¯¹è±¡å°†æ˜¯é¡¹ç›®ï¼Œè¿™æ„å‘³ç€é¡¹ç›®ä¸­æ‰€æœ‰çš„æœåŠ¡éƒ½ä¼šå—åˆ°å‘½ä»¤å½±å“ã€‚</p>
<p> <code>docker-compose [COMMAND] --help</code> æˆ– <code>docker-compose help [COMMAND]</code> å¯ä»¥æŸ¥çœ‹å…·ä½“æŸä¸ªå‘½ä»¤çš„ä½¿ç”¨æ ¼å¼ã€‚</p>
<p><code>docker-compose</code> å‘½ä»¤çš„åŸºæœ¬çš„ä½¿ç”¨æ ¼å¼æ˜¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose [-f=&lt;arg&gt;...] [options] [COMMAND] [ARGS...]</span><br></pre></td></tr></table></figure>
<h4 id="2-å‘½ä»¤é€‰é¡¹"><a href="#2-å‘½ä»¤é€‰é¡¹" class="headerlink" title="2. å‘½ä»¤é€‰é¡¹"></a>2. å‘½ä»¤é€‰é¡¹</h4><ul>
<li><code>-f, --file FILE</code> æŒ‡å®šä½¿ç”¨çš„ Compose æ¨¡æ¿æ–‡ä»¶ï¼Œé»˜è®¤ä¸º <code>docker-compose.yml</code>ï¼Œå¯ä»¥å¤šæ¬¡æŒ‡å®šã€‚</li>
<li><code>-p, --project-name NAME</code> æŒ‡å®šé¡¹ç›®åç§°ï¼Œé»˜è®¤å°†ä½¿ç”¨æ‰€åœ¨ç›®å½•åç§°ä½œä¸ºé¡¹ç›®åã€‚</li>
<li><code>--x-networking</code> ä½¿ç”¨ Docker çš„å¯æ‹”æ’ç½‘ç»œåç«¯ç‰¹æ€§</li>
<li><code>--x-network-driver DRIVER</code> æŒ‡å®šç½‘ç»œåç«¯çš„é©±åŠ¨ï¼Œé»˜è®¤ä¸º <code>bridge</code></li>
<li><code>--verbose</code> è¾“å‡ºæ›´å¤šè°ƒè¯•ä¿¡æ¯ã€‚</li>
<li><code>-v, --version</code> æ‰“å°ç‰ˆæœ¬å¹¶é€€å‡ºã€‚</li>
</ul>
<h4 id="3-å‘½ä»¤ä½¿ç”¨è¯´æ˜"><a href="#3-å‘½ä»¤ä½¿ç”¨è¯´æ˜" class="headerlink" title="3.å‘½ä»¤ä½¿ç”¨è¯´æ˜"></a>3.å‘½ä»¤ä½¿ç”¨è¯´æ˜</h4><h5 id="up"><a href="#up" class="headerlink" title="up"></a><code>up</code></h5><p>æ ¼å¼ä¸º <code>docker-compose up [options] [SERVICE...]</code>ã€‚</p>
<ul>
<li><p>è¯¥å‘½ä»¤ååˆ†å¼ºå¤§ï¼Œå®ƒå°†å°è¯•è‡ªåŠ¨å®ŒæˆåŒ…æ‹¬æ„å»ºé•œåƒï¼Œï¼ˆé‡æ–°ï¼‰åˆ›å»ºæœåŠ¡ï¼Œå¯åŠ¨æœåŠ¡ï¼Œå¹¶å…³è”æœåŠ¡ç›¸å…³å®¹å™¨çš„ä¸€ç³»åˆ—æ“ä½œã€‚</p>
</li>
<li><p>é“¾æ¥çš„æœåŠ¡éƒ½å°†ä¼šè¢«è‡ªåŠ¨å¯åŠ¨ï¼Œé™¤éå·²ç»å¤„äºè¿è¡ŒçŠ¶æ€ã€‚</p>
</li>
<li><p>å¯ä»¥è¯´ï¼Œå¤§éƒ¨åˆ†æ—¶å€™éƒ½å¯ä»¥ç›´æ¥é€šè¿‡è¯¥å‘½ä»¤æ¥å¯åŠ¨ä¸€ä¸ªé¡¹ç›®ã€‚</p>
</li>
<li><p>é»˜è®¤æƒ…å†µï¼Œ<code>docker-compose up</code> å¯åŠ¨çš„å®¹å™¨éƒ½åœ¨å‰å°ï¼Œæ§åˆ¶å°å°†ä¼šåŒæ—¶æ‰“å°æ‰€æœ‰å®¹å™¨çš„è¾“å‡ºä¿¡æ¯ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿è¿›è¡Œè°ƒè¯•ã€‚</p>
</li>
<li><p>å½“é€šè¿‡ <code>Ctrl-C</code> åœæ­¢å‘½ä»¤æ—¶ï¼Œæ‰€æœ‰å®¹å™¨å°†ä¼šåœæ­¢ã€‚</p>
</li>
<li><p>å¦‚æœä½¿ç”¨ <code>docker-compose up -d</code>ï¼Œå°†ä¼šåœ¨åå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰çš„å®¹å™¨ã€‚ä¸€èˆ¬æ¨èç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨è¯¥é€‰é¡¹ã€‚</p>
</li>
<li><p>é»˜è®¤æƒ…å†µï¼Œå¦‚æœæœåŠ¡å®¹å™¨å·²ç»å­˜åœ¨ï¼Œ<code>docker-compose up</code> å°†ä¼šå°è¯•åœæ­¢å®¹å™¨ï¼Œç„¶åé‡æ–°åˆ›å»ºï¼ˆä¿æŒä½¿ç”¨ <code>volumes-from</code> æŒ‚è½½çš„å·ï¼‰ï¼Œä»¥ä¿è¯æ–°å¯åŠ¨çš„æœåŠ¡åŒ¹é… <code>docker-compose.yml</code> æ–‡ä»¶çš„æœ€æ–°å†…å®¹</p>
</li>
</ul>
<hr>
<h5 id="down"><a href="#down" class="headerlink" title="down"></a><code>down</code></h5><p>æ­¤å‘½ä»¤å°†ä¼šåœæ­¢ <code>up</code> å‘½ä»¤æ‰€å¯åŠ¨çš„å®¹å™¨ï¼Œå¹¶ç§»é™¤ç½‘ç»œ</p>
<hr>
<h5 id="exec"><a href="#exec" class="headerlink" title="exec"></a><code>exec</code></h5><p>è¿›å…¥æŒ‡å®šçš„å®¹å™¨ã€‚</p>
<hr>
<h5 id="ps"><a href="#ps" class="headerlink" title="ps"></a><code>ps</code></h5><p>æ ¼å¼ä¸º <code>docker-compose ps [options] [SERVICE...]</code>ã€‚</p>
<p>åˆ—å‡ºé¡¹ç›®ä¸­ç›®å‰çš„æ‰€æœ‰å®¹å™¨ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-q</code> åªæ‰“å°å®¹å™¨çš„ ID ä¿¡æ¯ã€‚</li>
</ul>
<hr>
<h5 id="restart"><a href="#restart" class="headerlink" title="restart"></a><code>restart</code></h5><p>æ ¼å¼ä¸º <code>docker-compose restart [options] [SERVICE...]</code>ã€‚</p>
<p>é‡å¯é¡¹ç›®ä¸­çš„æœåŠ¡ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-t, --timeout TIMEOUT</code> æŒ‡å®šé‡å¯å‰åœæ­¢å®¹å™¨çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚</li>
</ul>
<hr>
<h5 id="rm"><a href="#rm" class="headerlink" title="rm"></a><code>rm</code></h5><p>æ ¼å¼ä¸º <code>docker-compose rm [options] [SERVICE...]</code>ã€‚</p>
<p>åˆ é™¤æ‰€æœ‰ï¼ˆåœæ­¢çŠ¶æ€çš„ï¼‰æœåŠ¡å®¹å™¨ã€‚æ¨èå…ˆæ‰§è¡Œ <code>docker-compose stop</code> å‘½ä»¤æ¥åœæ­¢å®¹å™¨ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-f, --force</code> å¼ºåˆ¶ç›´æ¥åˆ é™¤ï¼ŒåŒ…æ‹¬éåœæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚ä¸€èˆ¬å°½é‡ä¸è¦ä½¿ç”¨è¯¥é€‰é¡¹ã€‚</li>
<li><code>-v</code> åˆ é™¤å®¹å™¨æ‰€æŒ‚è½½çš„æ•°æ®å·ã€‚</li>
</ul>
<hr>
<h5 id="start"><a href="#start" class="headerlink" title="start"></a><code>start</code></h5><p>æ ¼å¼ä¸º <code>docker-compose start [SERVICE...]</code>ã€‚</p>
<p>å¯åŠ¨å·²ç»å­˜åœ¨çš„æœåŠ¡å®¹å™¨ã€‚</p>
<hr>
<h5 id="stop"><a href="#stop" class="headerlink" title="stop"></a><code>stop</code></h5><p>æ ¼å¼ä¸º <code>docker-compose stop [options] [SERVICE...]</code>ã€‚</p>
<p>åœæ­¢å·²ç»å¤„äºè¿è¡ŒçŠ¶æ€çš„å®¹å™¨ï¼Œä½†ä¸åˆ é™¤å®ƒã€‚é€šè¿‡ <code>docker-compose start</code> å¯ä»¥å†æ¬¡å¯åŠ¨è¿™äº›å®¹å™¨ã€‚</p>
<p>é€‰é¡¹ï¼š</p>
<ul>
<li><code>-t, --timeout TIMEOUT</code> åœæ­¢å®¹å™¨æ—¶å€™çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚</li>
</ul>
<hr>
<h5 id="top"><a href="#top" class="headerlink" title="top"></a><code>top</code></h5><p>æŸ¥çœ‹å„ä¸ªæœåŠ¡å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹ã€‚</p>
<hr>
<h5 id="unpause"><a href="#unpause" class="headerlink" title="unpause"></a><code>unpause</code></h5><p>æ ¼å¼ä¸º <code>docker-compose unpause [SERVICE...]</code>ã€‚</p>
<p>æ¢å¤å¤„äºæš‚åœçŠ¶æ€ä¸­çš„æœåŠ¡ã€‚</p>
]]></content>
      <categories>
        <category>Docker</category>
      </categories>
      <tags>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaWebåŸºç¡€</title>
    <url>/2021/01/18/JavaWeb%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<h1 id="JavaWebåŸºç¡€"><a href="#JavaWebåŸºç¡€" class="headerlink" title="JavaWebåŸºç¡€"></a>JavaWebåŸºç¡€</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Tomcatç›®å½•ï¼š</span></span><br><span class="line">binï¼šå­˜æ”¾å„ä¸ªå¹³å°ä¸‹å¯åŠ¨å’Œåœæ­¢ Tomcat æœåŠ¡çš„è„šæœ¬â½‚ä»¶ã€‚</span><br><span class="line">confï¼šå­˜æ”¾ Tomcat æœåŠ¡å™¨çš„é…ç½®â½‚ä»¶ã€‚</span><br><span class="line">libï¼šå­˜æ”¾ Tomcat æœåŠ¡å™¨æ‰€éœ€è¦çš„ jarã€‚</span><br><span class="line">logsï¼šå­˜æ”¾ Tomcat æœåŠ¡è¿â¾çš„â½‡å¿—ã€‚</span><br><span class="line">tempï¼šTomcat è¿â¾æ—¶çš„ä¸´æ—¶â½‚ä»¶ã€‚</span><br><span class="line">webappsï¼šå­˜æ”¾å…è®¸å®¢æˆ·ç«¯è®¿é—®çš„èµ„æºï¼ˆJava ç¨‹åºï¼‰ã€‚</span><br><span class="line">workï¼šå­˜æ”¾ Tomcat å°† JSP è½¬æ¢ä¹‹åçš„ Servlet â½‚ä»¶ã€‚ </span><br></pre></td></tr></table></figure>


<h2 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h2><p>Servlet æ˜¯ JavaWeb å¼€å‘çš„åŸºçŸ³ï¼Œä¸å¹³å°æ— å…³çš„æœåŠ¡å™¨ç»„ä»¶ï¼Œè¿è¡Œåœ¨ Servlet å®¹å™¨ / Web åº”ç”¨æœåŠ¡å™¨ / Tomcatï¼Œè´Ÿè´£ä¸å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ã€‚ ä¸»è¦åŠŸèƒ½ï¼š(1) åˆ›å»ºå¹¶è¿”å›åŸºäºå®¢æˆ·è¯·æ±‚çš„åŠ¨æ€ HTMLã€‚ (2) ä¸æ•°æ®åº“é€šä¿¡ã€‚</p>
<p>Servlet æ˜¯â¼€ç»„æ¥å£ï¼Œå®šä¹‰â¼€ä¸ªç±»å¹¶å®ç° Servlet æ¥å£ï¼Œè¯¥ç±»å°±å…·å¤‡äº†æ¥å—å®¢æˆ·ç«¯è¯·æ±‚ä»¥åŠåšå‡ºå“åº”çš„åŠŸèƒ½ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span>			</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Servlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletConfig <span class="title">getServletConfig</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest req, ServletResponse res)</span></span></span><br><span class="line"><span class="function">	    <span class="keyword">throws</span> ServletException, IOException</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getServletInfo</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨ä¸èƒ½ç›´æ¥è®¿é—® Servlet â½‚ä»¶ï¼Œåªèƒ½é€šè¿‡æ˜ å°„çš„æ–¹å¼æ¥é—´æ¥è®¿é—® ï¼Œæ˜ å°„æœ‰ä¸¤ç§é…ç½®æ–¹å¼ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--xmlé…ç½®æ–¹å¼--&gt;</span>	</span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ³¨è§£é…ç½®ï¼Œæ­¤ç§æ–¹å¼é…ç½®éœ€è¦ä¿®æ”¹web.xml  metadata-complete=&quot;false&quot;</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/hello&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@WebServlet</span></span><br><span class="line"><span class="comment">//servletåç§°ï¼Œè‹¥ä¸æŒ‡å®šï¼Œåˆ™ä¸ºServletçš„å®Œæ•´ç±»å</span></span><br><span class="line"><span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line"><span class="comment">//è·¯å¾„æ˜ å°„,é…ç½®å¤šä¸ªï¼Œéœ€è¦/å¼€å¤´</span></span><br><span class="line">String[] value() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"><span class="comment">//è·¯å¾„æ˜ å°„,æ”¯æŒé…ç½®å¤šä¸ªï¼Œéœ€è¦/å¼€å¤´</span></span><br><span class="line">String[] urlPatterns() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"><span class="comment">//æ ‡è®°å®¹å™¨æ˜¯å¦åœ¨å¯åŠ¨åº”ç”¨æ—¶å°±åŠ è½½Servletï¼Œé»˜è®¤æˆ–æ•°å€¼ä¸ºè´Ÿæ•°æ—¶è¡¨ç¤ºç¬¬ä¸€æ¬¡è¯·æ±‚Servletæ—¶å†åŠ è½½ï¼›</span></span><br><span class="line"><span class="comment">//0æˆ–æ­£æ•°è¡¨ç¤ºå¯åŠ¨åº”ç”¨å°±åŠ è½½</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">loadOnStartup</span><span class="params">()</span> <span class="keyword">default</span> -1</span>;</span><br><span class="line"><span class="comment">//é…ç½®åˆå§‹å‚æ•°</span></span><br><span class="line">WebInitParam[] initParams() <span class="keyword">default</span> &#123;&#125;;</span><br><span class="line"><span class="comment">//æ˜¯å¦æ”¯æŒå¼‚æ­¥æ“ä½œæ¨¡å¼</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">asyncSupported</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">false</span></span>;</span><br></pre></td></tr></table></figure>


<h2 id="Servletç”Ÿå‘½å‘¨æœŸ"><a href="#Servletç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Servletç”Ÿå‘½å‘¨æœŸ"></a>Servletç”Ÿå‘½å‘¨æœŸ</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€å½“æµè§ˆå™¨è®¿é—® Servlet çš„æ—¶å€™ï¼ŒTomcat ä¼šæŸ¥è¯¢å½“å‰ Servlet çš„å®ä¾‹åŒ–å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™é€šè¿‡åå°„æœºåˆ¶åŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼Œå¦‚æœå­˜åœ¨ï¼Œç›´æ¥æ‰§è¡Œç¬¬ <span class="number">3</span> æ­¥ã€‚</span><br><span class="line"><span class="number">2</span>ã€è°ƒâ½¤ init â½…æ³•å®Œæˆåˆå§‹åŒ–æ“ä½œã€‚</span><br><span class="line"><span class="number">3</span>ã€è°ƒâ½¤ service â½…æ³•å®Œæˆä¸šåŠ¡é€»è¾‘æ“ä½œã€‚</span><br><span class="line"><span class="number">4</span>ã€å…³é—­ Tomcat æ—¶ï¼Œä¼šè°ƒâ½¤ destory â½…æ³•ï¼Œé‡Šæ”¾å½“å‰å¯¹è±¡æ‰€å â½¤çš„èµ„æºã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Servlet çš„â½£å‘½å‘¨æœŸâ½…æ³•ï¼šâ½†å‚æ„é€ å‡½æ•°ã€initã€serviceã€destory</span><br><span class="line"><span class="number">1</span>ã€â½†å‚æ„é€ å‡½æ•°åªè°ƒâ½¤â¼€æ¬¡ï¼Œåˆ›å»ºå¯¹è±¡ã€‚</span><br><span class="line"><span class="number">2</span>ã€init åªè°ƒâ½¤â¼€æ¬¡ï¼Œåˆå§‹åŒ–å¯¹è±¡ã€‚</span><br><span class="line"><span class="number">3</span>ã€service è°ƒâ½¤ N æ¬¡ï¼Œæ‰§â¾ä¸šåŠ¡â½…æ³•ã€‚</span><br><span class="line"><span class="number">4</span>ã€destory åªè°ƒâ½¤â¼€æ¬¡ï¼Œå¸è½½å¯¹è±¡ã€‚</span><br></pre></td></tr></table></figure>


<h2 id="ServletConfig"><a href="#ServletConfig" class="headerlink" title="ServletConfig"></a>ServletConfig</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¯¥æ¥â¼æ˜¯â½¤æ¥æè¿° Servlet çš„åŸºæœ¬ä¿¡æ¯çš„ã€‚</span></span><br><span class="line">getServletName()  <span class="comment">//è¿”å› Servlet çš„åç§°ï¼Œå…¨ç±»å(å¸¦ç€åŒ…åçš„ç±»å)</span></span><br><span class="line">getInitParameter(String key)  <span class="comment">//è·å– init å‚æ•°çš„å€¼ï¼ˆweb.xmlï¼‰</span></span><br><span class="line">getInitParameterNames()  <span class="comment">//è¿”å›æ‰€æœ‰çš„ initParamter çš„ name å€¼ï¼Œâ¼€èˆ¬â½¤ä½œéå†åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">getServletContext()  <span class="comment">//è¿”å› ServletContext å¯¹è±¡ï¼Œå®ƒæ˜¯ Servlet çš„ä¸Šä¸‹â½‚ï¼Œæ•´ä¸ª Servlet çš„ç®¡ç†è€…ã€‚</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>servlet.MyServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>name<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>password<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>admin<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>myServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/myServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">       <span class="comment">// xmlä¸­é…ç½®çš„servlet-name</span></span><br><span class="line">       String servletName = config.getServletName();</span><br><span class="line">       System.out.println(<span class="string">&quot;servletName: &quot;</span> + servletName);</span><br><span class="line">	<span class="comment">// xmlä¸­é…ç½®çš„name</span></span><br><span class="line">       System.out.println(config.getInitParameter(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">	<span class="comment">// xmlä¸­é…ç½®çš„å¤šä¸ªå‚æ•°</span></span><br><span class="line">       Enumeration&lt;String&gt; names = config.getInitParameterNames();</span><br><span class="line">       <span class="keyword">while</span> (names.hasMoreElements()) &#123;</span><br><span class="line">           String key = names.nextElement();</span><br><span class="line">           String val = config.getInitParameter(key);</span><br><span class="line">           System.out.println(<span class="string">&quot;key:&quot;</span> + key + <span class="string">&quot;--&quot;</span> + <span class="string">&quot;val:&quot;</span> + val);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// servletä¸Šä¸‹æ–‡ï¼Œæ•´ä¸ªservletç®¡ç†è€…</span></span><br><span class="line">       ServletContext context = config.getServletContext();</span><br><span class="line">       System.out.println(context.getContextPath());</span><br><span class="line">       System.out.println(context.getServerInfo());</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>


<h2 id="ServletConfig-å’Œ-ServletContext"><a href="#ServletConfig-å’Œ-ServletContext" class="headerlink" title="ServletConfig å’Œ ServletContext"></a>ServletConfig å’Œ ServletContext</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ServletConfig ä½œâ½¤äºæŸä¸ª Servlet å®ä¾‹ï¼Œæ¯ä¸ª Servlet éƒ½æœ‰å¯¹åº”çš„ ServletConfigï¼Œæ˜¯â¼€ä¸ªæ˜¯å±€éƒ¨å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">ServletContext ä½œâ½¤äºæ•´ä¸ª Web åº”â½¤ï¼Œâ¼€ä¸ª Web åº”â½¤å¯¹åº”â¼€ä¸ª ServletContextï¼Œå¤šä¸ª Servlet å®ä¾‹å¯¹åº”â¼€ä¸ªServletContextã€‚æ˜¯ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œåº”ç”¨ç¨‹åºå¯åŠ¨æ—¶åˆ›å»ºï¼Œåº”ç”¨ç¨‹åºå…³é—­æ—¶é”€æ¯ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;context-param&gt;</span><br><span class="line">    &lt;param-name&gt;url&lt;/param-name&gt;</span><br><span class="line">    &lt;param-value&gt;www.bd.com&lt;/param-value&gt;</span><br><span class="line">&lt;/context-param&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–¹æ³•ï¼š</span></span><br><span class="line">ServletContext servletContext = req.getServletContext();</span><br><span class="line">String url = servletContext.getInitParameter(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">System.out.println(url);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿®æ”¹/æ·»åŠ æ–¹æ³•ï¼šæ•°æ®å­˜å‚¨å½¢å¼ç±»ä¼¼äºä¸€ä¸ªMap</span></span><br><span class="line">servletContext.setAttribute(<span class="string">&quot;appInfo&quot;</span>,<span class="string">&quot;www.bd.com&quot;</span>);</span><br><span class="line">String appInfo = (String)servletContext.getAttribute(<span class="string">&quot;appInfo&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;TestServlet appInfo=&quot;</span> + appInfo);</span><br></pre></td></tr></table></figure>


<h2 id="Servlet-çš„å±‚æ¬¡ç»“æ„"><a href="#Servlet-çš„å±‚æ¬¡ç»“æ„" class="headerlink" title="Servlet çš„å±‚æ¬¡ç»“æ„"></a>Servlet çš„å±‚æ¬¡ç»“æ„</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Servlet  ---&gt; GenericServlet  ---&gt; HttpServlet</span><br><span class="line"></span><br><span class="line">GenericServlet å®ç° Servlet æ¥â¼ï¼ŒåŒæ—¶ä¸ºå®ƒçš„â¼¦ç±»å±è”½äº†ä¸å¸¸â½¤çš„â½…æ³•ï¼Œâ¼¦ç±»åªéœ€è¦é‡å†™ service â½…æ³•å³å¯ã€‚</span><br><span class="line">HttpServlet ç»§æ‰¿ GenericServletï¼Œæ ¹æ®è¯·æ±‚è¿›â¾åˆ†å‘å¤„ç†ï¼ŒGET è¿›â¼Š doGET â½…æ³•ï¼ŒPOST è¿›â¼ŠdoPOST â½…æ³•ã€‚</span><br><span class="line">å¼€å‘è€…â¾ƒå®šä¹‰çš„ Servlet ç±»åªéœ€è¦ç»§æ‰¿ HttpServlet å³å¯ï¼Œé‡å†™ doGET å’Œ doPOSTã€‚</span><br></pre></td></tr></table></figure>


<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">JSP æœ¬è´¨ä¸Šå°±æ˜¯â¼€ä¸ª Servletï¼Œä¸»è¦è´Ÿè´£ä¸â½¤æˆ·äº¤äº’ï¼Œå‘ˆç°ç•Œâ¾¯ï¼Œæ˜¯HTML + JS + CSS + Java çš„æ··åˆâ½‚ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">å½“æœåŠ¡å™¨æ¥æ”¶åˆ°â¼€ä¸ªåç¼€æ˜¯ jsp çš„è¯·æ±‚æ—¶ï¼Œå°†è¯¥è¯·æ±‚äº¤ç»™ JSP å¼•æ“å»å¤„ç†ï¼Œæ¯â¼€ä¸ª JSP â»šâ¾¯ç¬¬â¼€æ¬¡è¢«è®¿é—®çš„æ—¶å€™ï¼ŒJSP å¼•æ“ä¼šå°†å®ƒç¿»è¯‘æˆâ¼€ä¸ª Servlet â½‚ä»¶ï¼Œå†ç”± Web å®¹å™¨è°ƒâ½¤ Servlet å®Œæˆå“åº”ã€‚</span><br><span class="line"></span><br><span class="line">å•çº¯ä»å¼€å‘çš„â»†åº¦çœ‹ï¼ŒJSP å°±æ˜¯åœ¨ HTML ä¸­åµŒâ¼Š Java ç¨‹åºã€‚å…·ä½“çš„åµŒâ¼Šâ½…å¼æœ‰ <span class="number">3</span> ç§ï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>ã€JSP è„šæœ¬ï¼Œæ‰§â¾ Java é€»è¾‘ä»£ç </span><br><span class="line">&lt;% Javaä»£ç  %&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€JSP å£°æ˜ï¼šå®šä¹‰ Java â½…æ³•</span><br><span class="line">&lt;%! å£°æ˜ Java â½…æ³• %&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>ã€JSP è¡¨è¾¾å¼ï¼šæŠŠ Java å¯¹è±¡ç›´æ¥è¾“å‡ºåˆ° HTML â»šâ¾¯ä¸­</span><br><span class="line">&lt;%= Javaå˜é‡ %&gt;</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ï¼š</span><br><span class="line">&lt;%! <span class="function"><span class="keyword">public</span> String <span class="title">test</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;HelloWorld&quot;</span>; &#125; %&gt;</span><br><span class="line">&lt;% String str = test(); %&gt;</span><br><span class="line">&lt;%=str%&gt;</span><br></pre></td></tr></table></figure>
<p><strong>å†…ç½®å¯¹è±¡</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>ã€requestï¼šè¡¨ç¤ºâ¼€æ¬¡è¯·æ±‚ï¼ŒHttpServletRequestã€‚ </span><br><span class="line"><span class="number">2</span>ã€responseï¼šè¡¨ç¤ºâ¼€æ¬¡å“åº”ï¼ŒHttpServletResponseã€‚ </span><br><span class="line"><span class="number">3</span>ã€pageContextï¼šâ»šâ¾¯ä¸Šä¸‹â½‚ï¼Œè·å–â»šâ¾¯ä¿¡æ¯ï¼ŒPageContextã€‚ </span><br><span class="line"><span class="number">4</span>ã€sessionï¼šè¡¨ç¤ºâ¼€æ¬¡ä¼šè¯ï¼Œä¿å­˜â½¤æˆ·ä¿¡æ¯ï¼ŒHttpSessionã€‚</span><br><span class="line"><span class="number">5</span>ã€applicationï¼šè¡¨ç¤ºå½“å‰ Web åº”â½¤ï¼Œå…¨å±€å¯¹è±¡ï¼Œä¿å­˜æ‰€æœ‰â½¤æˆ·å…±äº«ä¿¡æ¯ï¼ŒServletContextã€‚ </span><br><span class="line"><span class="number">6</span>ã€configï¼šå½“å‰ JSP å¯¹åº”çš„ Servlet çš„ ServletConfig å¯¹è±¡ï¼Œè·å–å½“å‰ Servlet çš„ä¿¡æ¯ã€‚</span><br><span class="line"><span class="number">7</span>ã€outï¼šå‘æµè§ˆå™¨è¾“å‡ºæ•°æ®ï¼ŒJspWriterã€‚ </span><br><span class="line"><span class="number">8</span>ã€pageï¼šå½“å‰ JSP å¯¹åº”çš„ Servlet å¯¹è±¡ï¼ŒServletã€‚ </span><br><span class="line"><span class="number">9</span>ã€exceptionï¼šè¡¨ç¤º JSP â»šâ¾¯å‘â½£çš„å¼‚å¸¸ï¼ŒExceptionã€‚</span><br><span class="line">å¸¸â½¤çš„æ˜¯ requestã€responseã€sessionã€application</span><br></pre></td></tr></table></figure>


<h2 id="è½¬å‘ä¸é‡å®šå‘"><a href="#è½¬å‘ä¸é‡å®šå‘" class="headerlink" title="è½¬å‘ä¸é‡å®šå‘"></a>è½¬å‘ä¸é‡å®šå‘</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">response   <span class="title">sendRedirect</span><span class="params">(String path)</span>  é‡å®šå‘ã€‚</span></span><br><span class="line"><span class="function">request    <span class="title">getRequestDispatcher</span><span class="params">(String path)</span>  è¯·æ±‚è½¬å‘ã€‚</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">åŒºåˆ«ï¼š</span></span><br><span class="line"><span class="function">è½¬å‘æ˜¯å°†åŒâ¼€ä¸ªè¯·æ±‚ä¼ ç»™ä¸‹â¼€ä¸ªé¡µé¢ï¼Œé‡å®šå‘æ˜¯åˆ›å»ºâ¼€ä¸ªæ–°çš„è¯·æ±‚ä¼ ç»™ä¸‹â¼€ä¸ªé¡µé¢ï¼Œä¹‹å‰çš„è¯·æ±‚ç»“æŸç”Ÿå‘½å‘¨æœŸã€‚</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">è½¬å‘ï¼šåŒâ¼€ä¸ªè¯·æ±‚åœ¨æœåŠ¡å™¨ä¹‹é—´ä¼ é€’ï¼Œåœ°å€æ ä¸å˜ï¼Œä¹Ÿå«æœåŠ¡å™¨è·³è½¬, å¯ä»¥ç”¨æ¥è®¿é—®WEB-INFä¸‹çš„æ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">é‡å®šå‘ï¼šç”±å®¢æˆ·ç«¯å‘é€â¼€æ¬¡æ–°çš„è¯·æ±‚æ¥è®¿é—®è·³è½¬åçš„â½¬æ ‡èµ„æºï¼Œåœ°å€æ æ”¹å˜ï¼Œä¹Ÿå«å®¢æˆ·ç«¯è·³è½¬ã€‚å¦‚æœæ²¡æœ‰åŠ  http å¼€å¤´ï¼Œåˆ™è®¤ä¸ºæ˜¯å½“å‰åº”ç”¨é‡Œé¢çš„servleté‡å®šå‘ï¼Œé»˜è®¤åŠ ä¸Šåº”ç”¨ä¸Šä¸‹æ–‡ï¼›å¦‚æœæœ‰åŠ httpåˆ™ä¼šä½¿ç”¨é…ç½®çš„å…¨è·¯å¾„è¿›è¡Œè·³è½¬ã€‚å¯ç”¨äºè·³è½¬ç¬¬ä¸‰æ–¹åœ°å€æˆ–è€…åº”ç”¨é‡Œé¢çš„å…¶ä»–Serveltã€jspç­‰ã€‚</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">å¦‚æœä¸¤ä¸ªâ»šâ¾¯ä¹‹é—´éœ€è¦é€šè¿‡ request æ¥ä¼ å€¼ï¼Œåˆ™å¿…é¡»ä½¿â½¤è½¬å‘ï¼Œä¸èƒ½ä½¿â½¤é‡å®šå‘ã€‚ä¾‹å¦‚â½¤æˆ·ç™»å½•ï¼Œå¦‚æœâ½¤æˆ·åå’Œå¯†ç æ­£ç¡®ï¼Œåˆ™è·³è½¬åˆ°â¾¸â»šï¼ˆè½¬å‘ï¼‰ï¼Œå¹¶ä¸”å±•ç¤ºâ½¤æˆ·åï¼Œå¦åˆ™é‡æ–°å›åˆ°ç™»å½•â»šâ¾¯ï¼ˆé‡å®šå‘ï¼‰ã€‚</span></span><br></pre></td></tr></table></figure>


<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">èƒŒæ™¯ï¼šHTTPåè®®ä¸ºæ— çŠ¶æ€åè®®ï¼Œå³åŒä¸€ä¸ªç”¨æˆ·å‘å‡ºå¤šä¸ªè¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨æ˜¯æ²¡æœ‰åŠæ³•ç¡®å®šç”¨æˆ·å’Œè¯·æ±‚çš„å…³ç³»ã€‚å› æ­¤éœ€è¦åœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚åç»™ç”¨æˆ·åˆ†é…ä¸€ä¸ªå”¯ä¸€æ ‡è¯†çš„ID, ç”¨æˆ·ä¹‹åçš„æ¯æ¬¡è¯·æ±‚éƒ½ä¼šå¸¦ä¸Šè¿™ä¸ªID, æ–¹ä¾¿æœåŠ¡å™¨è¿›è¡Œè¯†åˆ«ã€‚</span><br><span class="line"></span><br><span class="line">ä¼šè¯ï¼šå°±æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å‘â½£çš„â¼€ç³»åˆ—è¿ç»­çš„è¯·æ±‚å’Œå“åº”çš„è¿‡ç¨‹ï¼Œæ‰“å¼€æµè§ˆå™¨è¿›â¾æ“ä½œåˆ°å…³é—­æµè§ˆå™¨çš„è¿‡ç¨‹ã€‚</span><br><span class="line"></span><br><span class="line">å®ç°ä¼šè¯æœ‰ä¸¤ç§â½…å¼ï¼šsession å’Œ cookie</span><br></pre></td></tr></table></figure>
<p>å±äºåŒâ¼€æ¬¡ä¼šè¯çš„è¯·æ±‚éƒ½æœ‰â¼€ä¸ªç›¸åŒçš„æ ‡è¯†ç¬¦ï¼ŒsessionID</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">session å¸¸â½¤â½…æ³•ï¼š</span><br><span class="line"><span class="function">String <span class="title">getId</span><span class="params">()</span>  è·å– sessionID</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setMaxInactiveInterval</span><span class="params">(<span class="keyword">int</span> interval)</span>  è®¾ç½® session çš„å¤±æ•ˆæ—¶é—´ï¼Œå•ä½ä¸ºç§’</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMaxInactiveInterval</span><span class="params">()</span>  è·å–å½“å‰ session çš„å¤±æ•ˆæ—¶é—´</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">invalidate</span><span class="params">()</span>  è®¾ç½® session â½´å³å¤±æ•ˆ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setAttribute</span><span class="params">(String key,Object value)</span>  é€šè¿‡é”®å€¼å¯¹çš„å½¢å¼æ¥å­˜å‚¨æ•°æ®</span></span><br><span class="line"><span class="function">Object <span class="title">getAttribute</span><span class="params">(String key)</span>  é€šè¿‡é”®è·å–å¯¹åº”çš„æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">removeAttribute</span><span class="params">(String key)</span>  é€šè¿‡é”®åˆ é™¤å¯¹åº”çš„æ•°æ®</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// sessionä¾‹å­</span></span><br><span class="line">&lt;form action=<span class="string">&quot;/login&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    ç”¨æˆ·åï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span>&gt;</span><br><span class="line">    å¯†ç ï¼š&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;password&quot;</span>&gt;</span><br><span class="line">    æäº¤ï¼š&lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        String name = req.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        String passwd = req.getParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        session.setAttribute(<span class="string">&quot;name&quot;</span>, name);</span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;/welcome.jsp&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœåŠ¡å™¨ä¼šä¸ºæ¯ä¸€ä¸ªä¼šè¯åœ¨å†…å­˜ä¸­åˆ›å»ºSessionå¯¹è±¡ï¼Œç”¨ä»¥ç»´æŠ¤æ¯ä¸ªä¼šè¯çš„æ•°æ®ä¿¡æ¯ï¼Œå’Œcookieä¸€æ ·ï¼Œéƒ½æœ‰æœ‰æ•ˆæœŸé™ï¼Œä¿®æ”¹æ–¹æ³•åªèƒ½æ˜¯Web.xmlå†…é…ç½®ï¼Œå› æ­¤æ¯ä¸ªSessionçš„å¤±æ•ˆæ—¶é—´ä¸€è‡´(æ ¹æ®æ²¡æœ‰å†æ¬¡æ“ä½œçš„æ—¶é—´è€Œå®šï¼‰ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>30<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>Cookie æ˜¯æœåŠ¡ç«¯åœ¨ HTTP å“åº”ä¸­é™„å¸¦ä¼ ç»™æµè§ˆå™¨çš„â¼€ä¸ªâ¼©â½‚æœ¬â½‚ä»¶ï¼Œâ¼€æ—¦æµè§ˆå™¨ä¿å­˜äº†æŸä¸ª Cookieï¼Œåœ¨ä¹‹åçš„è¯·æ±‚å’Œå“åº”è¿‡ç¨‹ä¸­ï¼Œä¼šå°†æ­¤ Cookie æ¥å›ä¼ é€’ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡ Cookie è¿™ä¸ªè½½ä½“å®Œæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ•°æ®äº¤äº’ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®cookie</span></span><br><span class="line">Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;xdk&quot;</span>);</span><br><span class="line">response.addCookie(cookie);</span><br><span class="line"><span class="comment">// è¯»å–cookie</span></span><br><span class="line">Cookie[] cookies = request.getCookies();</span><br><span class="line"><span class="keyword">for</span> (Cookie c : cookies) &#123;</span><br><span class="line">    out.write(c.getName() + <span class="string">&quot;:&quot;</span> + c.getValue() + <span class="string">&quot;&lt;br/&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Webstorm-a2712ae8:0506f447-9cd4-4f79-<span class="number">9582</span>-788ab94be447</span><br><span class="line">Webstorm-44113bc2:<span class="number">55203481</span>-22c1-47c1-a41c-b7097d77da6a</span><br><span class="line">Idea-cfa6297b:5a0327c9-3f31-43d0-9a69-75394f25a2e4</span><br><span class="line">JSESSIONID:D947B13E550B7C0336A8E735DDA3B6A1</span><br><span class="line">name:xdk</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Cookie å¸¸â½¤çš„â½…æ³•</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setMaxAge</span><span class="params">(<span class="keyword">int</span> age)</span>  <span class="comment">//è®¾ç½® Cookie çš„æœ‰æ•ˆæ—¶é—´ï¼Œå•ä½ä¸ºç§’</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMaxAge</span><span class="params">()</span>  <span class="comment">//è·å– Cookie çš„æœ‰æ•ˆæ—¶é—´</span></span></span><br><span class="line"><span class="function">String <span class="title">getName</span><span class="params">()</span>  <span class="comment">//è·å– Cookie çš„ name</span></span></span><br><span class="line"><span class="function">String <span class="title">getValue</span><span class="params">()</span>  <span class="comment">//è·å– Cookie çš„ value</span></span></span><br></pre></td></tr></table></figure>


<h2 id="Session-å’Œ-Cookie-çš„åŒºåˆ«"><a href="#Session-å’Œ-Cookie-çš„åŒºåˆ«" class="headerlink" title="Session å’Œ Cookie çš„åŒºåˆ«"></a>Session å’Œ Cookie çš„åŒºåˆ«</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">sessionï¼šä¿å­˜åœ¨æœåŠ¡å™¨  ä¿å­˜çš„æ•°æ®æ˜¯ Object  ä¼šéšç€ä¼šè¯çš„ç»“æŸâ½½é”€æ¯              ä¿å­˜é‡è¦ä¿¡æ¯</span><br><span class="line">cookieï¼š ä¿å­˜åœ¨æµè§ˆå™¨  ä¿å­˜çš„æ•°æ®æ˜¯ String  å¯ä»¥â»“æœŸä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œä¸ä¼šè¯â½†å…³   ä¿å­˜ä¸é‡è¦ä¿¡æ¯</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">session å­˜å‚¨ä¿¡æ¯ï¼š</span><br><span class="line">setAttribute(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;admin&quot;</span>)  <span class="comment">//å­˜    </span></span><br><span class="line">getAttribute(<span class="string">&quot;name&quot;</span>)  <span class="comment">//å–</span></span><br><span class="line"></span><br><span class="line">sessionâ½£å‘½å‘¨æœŸï¼š</span><br><span class="line">æœåŠ¡ç«¯ï¼šåªè¦ WEB åº”â½¤é‡å¯å°±é”€æ¯ï¼Œå®¢æˆ·ç«¯ï¼šåªè¦æµè§ˆå™¨å…³é—­å°±é”€æ¯ã€‚</span><br><span class="line"></span><br><span class="line">sessioné€€å‡ºç™»å½•ï¼šsession.invalidate()</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">cookie å­˜å‚¨ä¿¡æ¯ï¼š</span><br><span class="line">response.addCookie(<span class="keyword">new</span> Cookie(name,<span class="string">&quot;admin&quot;</span>)) <span class="comment">//å­˜</span></span><br><span class="line"></span><br><span class="line">Cookie[] cookies = request.getCookies();</span><br><span class="line"><span class="keyword">for</span> (Cookie cookie : cookies)&#123;</span><br><span class="line">    <span class="keyword">if</span>(cookie.getName().equals(<span class="string">&quot;name&quot;</span>))&#123;</span><br><span class="line">       out.write(<span class="string">&quot;æ¬¢è¿å›æ¥&quot;</span>+cookie.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="comment">//å–</span></span><br><span class="line"></span><br><span class="line">cookieâ½£å‘½å‘¨æœŸï¼š</span><br><span class="line">ä¸éšæœåŠ¡ç«¯çš„é‡å¯â½½é”€æ¯ï¼Œå®¢æˆ·ç«¯ï¼šé»˜è®¤æ˜¯åªè¦å…³é—­æµè§ˆå™¨å°±é”€æ¯ï¼Œæˆ‘ä»¬é€šè¿‡ setMaxAge()â½…æ³•è®¾ç½®æœ‰æ•ˆæœŸï¼Œâ¼€æ—¦è®¾ç½®äº†æœ‰æ•ˆæœŸï¼Œåˆ™ä¸éšæµè§ˆå™¨çš„å…³é—­â½½é”€æ¯ï¼Œâ½½æ˜¯ç”±è®¾ç½®çš„æ—¶é—´æ¥å†³å®šã€‚</span><br><span class="line"></span><br><span class="line">cookie é€€å‡ºç™»å½•ï¼šsetMaxAge(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Cookie å’Œ Session ä¸€å®šæ˜¯ç»“åˆèµ·æ¥ä½¿ç”¨ã€‚ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªSessionIdå¹¶è¿”å›ç»™ç”¨æˆ·ï¼Œç”¨æˆ·ä¹‹åçš„è¯·æ±‚éƒ½ä¼šå¸¦ä¸Šè¿™ä¸ªSessionIdï¼Œå¹¶ä¸”ä¼šåœ¨å†…å­˜é‡Œåˆ†é…Sessionå¯¹è±¡ï¼Œå½“ç”¨æˆ·å†æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šæ ¹æ®SessionIdè·å–å¯¹åº”çš„Sessionæ•°æ®ã€‚SessionIdä¼šæœ‰httponlyçš„å±æ€§ï¼Œä¸å¯JSè·å–ã€‚Cookieä¿å­˜åœ¨æµè§ˆå™¨ï¼ŒSessionä¿å­˜åœ¨æœåŠ¡å™¨ï¼ŒSessionä¾èµ–äºCookieã€‚</p>
</blockquote>
<h2 id="JSP-å†…ç½®å¯¹è±¡ä½œç”¨åŸŸ"><a href="#JSP-å†…ç½®å¯¹è±¡ä½œç”¨åŸŸ" class="headerlink" title="JSP å†…ç½®å¯¹è±¡ä½œç”¨åŸŸ"></a>JSP å†…ç½®å¯¹è±¡ä½œç”¨åŸŸ</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">pageã€requestã€sessionã€application</span><br><span class="line"></span><br><span class="line">page ä½œâ½¤åŸŸï¼šå¯¹åº”çš„å†…ç½®å¯¹è±¡æ˜¯ pageContextã€‚</span><br><span class="line">request ä½œâ½¤åŸŸï¼šå¯¹åº”çš„å†…ç½®å¯¹è±¡æ˜¯ requestã€‚</span><br><span class="line">session ä½œâ½¤åŸŸï¼šå¯¹åº”çš„å†…ç½®å¯¹è±¡æ˜¯ sessionã€‚</span><br><span class="line">application ä½œâ½¤åŸŸï¼šå¯¹åº”çš„å†…ç½®å¯¹è±¡æ˜¯ applicationã€‚</span><br><span class="line"></span><br><span class="line">page  &lt;  request  &lt;  session  &lt;  application</span><br><span class="line"></span><br><span class="line">page åªåœ¨å½“å‰é¡µé¢æœ‰æ•ˆã€‚</span><br><span class="line">request åœ¨â¼€æ¬¡è¯·æ±‚å†…æœ‰æ•ˆã€‚</span><br><span class="line">session åœ¨â¼€æ¬¡ä¼šè¯å†…æœ‰æ•ˆã€‚</span><br><span class="line">application å¯¹åº”æ•´ä¸ª WEB åº”â½¤çš„ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;%</span><br><span class="line"> Integer count = (Integer) application.getAttribute(<span class="string">&quot;count&quot;</span>);</span><br><span class="line"> <span class="keyword">if</span>(count == <span class="keyword">null</span>)&#123;</span><br><span class="line"> 	count = <span class="number">1</span>;</span><br><span class="line"> 	application.setAttribute(<span class="string">&quot;count&quot;</span>,count);</span><br><span class="line"> &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"> 	count++;</span><br><span class="line"> 	application.setAttribute(<span class="string">&quot;count&quot;</span>,count);</span><br><span class="line"> &#125;</span><br><span class="line">%&gt;</span><br><span class="line">æ‚¨æ˜¯å½“å‰çš„ç¬¬&lt;%=count%&gt;ä½è®¿å®¢</span><br></pre></td></tr></table></figure>


<h2 id="EL-è¡¨è¾¾å¼"><a href="#EL-è¡¨è¾¾å¼" class="headerlink" title="EL è¡¨è¾¾å¼"></a>EL è¡¨è¾¾å¼</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ä¾¿æ·åœ°å–å‡ºåŸŸå¯¹è±¡ï¼ˆpageContextã€requestã€sessionã€applicationï¼‰ä¸­ä¿å­˜çš„æ•°æ®ã€‚</span><br><span class="line">$&#123;å˜é‡å&#125; å˜é‡åå°±æ˜¯ setAttribute å¯¹åº”çš„ key å€¼ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>ã€é»˜è®¤æŸ¥æ‰¾é¡ºåºï¼š</span><br><span class="line">æŒ‰ç…§ä¸Šè¿°çš„é¡ºåºè¿›â¾æŸ¥æ‰¾ï¼Œæ‰¾åˆ°â½´å³è¿”å›ï¼Œåœ¨ application ä¸­ä¹Ÿâ½†æ³•æ‰¾åˆ°ï¼Œåˆ™è¿”å› <span class="keyword">null</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€æŒ‡å®šä½œâ½¤åŸŸè¿›â¾æŸ¥æ‰¾</span><br><span class="line">pageContextï¼š$&#123;pageScope.name&#125;</span><br><span class="line">requestï¼š$&#123;requestScope.name&#125;</span><br><span class="line">sessionï¼š$&#123;sessionScope.name&#125;</span><br><span class="line">applicationï¼š$&#123;applicationScope.name&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">æ•°æ®çº§è”ï¼š$&#123;user.name&#125;</span><br><span class="line"></span><br><span class="line">EL æ‰§â¾è¡¨è¾¾å¼:</span><br><span class="line">$&#123;num1 &amp;&amp; num2&#125;   &amp;&amp;   ||   !   &lt;   &gt;   &lt;=   &lt;=   ==   </span><br><span class="line">&amp;&amp; and    || or   ! not   == eq   != ne</span><br><span class="line">&lt; lt    &gt; gt     &lt;= le    &gt;= ge</span><br><span class="line">empty å˜é‡ä¸º <span class="keyword">null</span>ï¼Œé•¿åº¦ä¸º<span class="number">0</span>çš„Stringï¼Œsizeä¸º<span class="number">0</span>çš„é›†åˆ</span><br><span class="line"></span><br><span class="line">&lt;!--<span class="keyword">true</span>--&gt;</span><br><span class="line">&lt;h3&gt;$&#123;10 &gt; 9&#125;&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--<span class="keyword">false</span>--&gt;</span><br><span class="line">&lt;h3&gt;$&#123;&quot;1000&quot; &gt; &quot;9&quot;&#125;&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--<span class="keyword">false</span>--&gt;</span><br><span class="line">&lt;h3&gt;$&#123;&quot;1&quot; &gt; &quot;2&quot;&#125;&lt;/h3&gt;</span><br></pre></td></tr></table></figure>


<h2 id="JSTL"><a href="#JSTL" class="headerlink" title="JSTL"></a>JSTL</h2><p>å¸¸â½¤æ ‡ç­¾ï¼š setã€outã€removeã€catch</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼•å…¥ä¾èµ– --&gt;</span>	</span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>setï¼šå‘åŸŸå¯¹è±¡ä¸­æ·»åŠ æ•°æ®</p>
<p>outï¼šè¾“å‡ºåŸŸå¯¹è±¡ä¸­çš„æ•°æ®</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;c:set var=&quot;name&quot; value=&quot;tom&quot;&gt;&lt;/c:set&gt; </span><br><span class="line">&lt;c:out value=&quot;$&#123;name&#125;&quot; default=&quot;æœªå®šä¹‰&quot;&gt;&lt;/c:out&gt;</span><br></pre></td></tr></table></figure>
<p>removeï¼šåˆ é™¤åŸŸå¯¹è±¡ä¸­çš„æ•°æ®</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;c:remove var=&quot;name&quot; scope=&quot;page&quot;&gt;&lt;/c:remove&gt; </span><br><span class="line">&lt;c:out value=&quot;$&#123;name&#125;&quot; default=&quot;æœªå®šä¹‰&quot;&gt;&lt;/c:out&gt;</span><br></pre></td></tr></table></figure>
<p>catchï¼šæ•è·å¼‚å¸¸</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;c:catch var=&quot;error&quot;&gt;</span><br><span class="line"> 	&lt;% int a = 10/0; %&gt;</span><br><span class="line">&lt;/c:catch&gt;</span><br><span class="line">$&#123;error&#125;</span><br></pre></td></tr></table></figure>
<p>æ¡ä»¶æ ‡ç­¾ï¼šif choose</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;c:set var=&quot;num1&quot; value=&quot;1&quot;&gt;&lt;/c:set&gt; &lt;c:set var=&quot;num2&quot; value=&quot;2&quot;&gt;&lt;/c:set&gt; </span><br><span class="line">&lt;c:if test=&quot;$&#123;num1&gt;num2&#125;&quot;&gt;ok&lt;/c:if&gt; </span><br><span class="line">&lt;c:if test=&quot;$&#123;num1&lt;num2&#125;&quot;&gt;fail&lt;/c:if&gt; <span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line"> &lt;c:when test=&quot;$&#123;num1 &gt; num2&#125;&quot;&gt;ok&lt;/c:when&gt;</span><br><span class="line"> &lt;c:otherwise&gt;fail&lt;/c:otherwise&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br></pre></td></tr></table></figure>
<p>è¿­ä»£æ ‡ç­¾ï¼šforEach</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;c:forEach items=&quot;$&#123;list&#125;&quot; var=&quot;str&quot; begin=&quot;2&quot; end=&quot;3&quot; step=&quot;2&quot; varStatus=&quot;sta&quot;&gt;</span><br><span class="line"> $&#123;sta.count&#125;ã€$&#123;str&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<p>æ ¼å¼åŒ–æ ‡ç­¾åº“å¸¸â½¤çš„æ ‡ç­¾ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;% request.setAttribute(&quot;date&quot;,new Date()); %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">fmt:formatDate</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;date&#125;&quot;</span> <span class="attr">pattern</span>=<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">fmt:formatDate</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fmt:formatNumber</span> <span class="attr">value</span>=<span class="string">&quot;2145.234&quot;</span> <span class="attr">maxIntegerDigits</span>=<span class="string">&quot;2&quot;</span> <span class="attr">maxFractionDigits</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">fmt:formatNumber</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å‡½æ•°æ ‡ç­¾åº“å¸¸â½¤çš„æ ‡ç­¾ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&lt;% request.setAttribute(&quot;info&quot;,&quot;Java,C&quot;); %&gt;</span><br><span class="line">$&#123;fn:contains(info,&quot;Python&quot;)&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">$&#123;fn:startsWith(info, &quot;Java&quot;)&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">$&#123;fn:endsWith(info, &quot;C&quot;)&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">$&#123;fn:indexOf(info, &quot;va&quot;)&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">$&#123;fn:replace(info, &quot;C&quot;,&quot;Python&quot;)&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">$&#123;fn:substring(info, 2, 3)&#125;<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">$&#123;fn:split(info, &quot;,&quot;)[0]&#125;-$&#123;fn:split(info, &quot;,&quot;)[1]&#125;</span><br></pre></td></tr></table></figure>


<h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">åŠ¨æ€åœ°æ‹¦æˆªè¯·æ±‚å’Œå“åº”ï¼Œå˜æ¢æˆ–ä½¿ç”¨åŒ…å«åœ¨è¯·æ±‚æˆ–å“åº”ä¸­çš„ä¿¡æ¯</span><br><span class="line">åœ¨å®¢æˆ·ç«¯çš„è¯·æ±‚è®¿é—®åç«¯èµ„æºä¹‹å‰ï¼Œæ‹¦æˆªè¿™äº›è¯·æ±‚</span><br><span class="line">åœ¨æœåŠ¡å™¨çš„å“åº”å‘é€å›å®¢æˆ·ç«¯ä¹‹å‰ï¼Œå¤„ç†è¿™äº›å“åº”</span><br></pre></td></tr></table></figure>
<p>å¼€å‘è€…åªéœ€è¦è‡ªå®šä¹‰â¼€ä¸ªç±»å¹¶ä¸”å®ç°Filteræ¥â¼å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CharacterEncodingFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;&#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">                         ServletResponse response,</span></span></span><br><span class="line"><span class="function"><span class="params">                         FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- xmlé…ç½®æ–¹å¼ --&gt;</span>	</span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>myfilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>myfilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/test<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ³¨è§£é…ç½®</span></span><br><span class="line"><span class="meta">@WebFilter(urlPatterns = &#123;&quot;/test&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CharacterEncodingFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯¥Filteræ˜¯å¦æ”¯æŒå¼‚æ­¥æ“ä½œæ¨¡å¼</span></span><br><span class="line">asyncSupported      </span><br><span class="line"><span class="comment">// æŒ‡å®šFilterå¯¹é‚£ç§dispatcheræ¨¡å¼è¿›è¡Œè¿‡æ»¤ è¯¥å±æ€§æ”¯æŒ Async,Error Forward,include,request  </span></span><br><span class="line">dispatcherType  </span><br><span class="line"><span class="comment">// Filter æ˜¾ç¤ºçš„åç§°</span></span><br><span class="line">displayName    </span><br><span class="line"><span class="comment">// Filterçš„åç§°</span></span><br><span class="line">filterName    </span><br><span class="line"><span class="comment">// Filterçš„é…ç½®å‚æ•°</span></span><br><span class="line">initParams    </span><br><span class="line"><span class="comment">// è¿‡æ»¤çš„Servletå¯ä»¥æŒ‡å®šå¤šä¸ª,è¡¨ç¤ºå¯¹è¿™å‡ ä¸ªç‰¹å®šçš„çš„servlet è¿›è¡Œè¿‡æ»¤</span></span><br><span class="line">servletNames    </span><br><span class="line"><span class="comment">// æŒ‡å®š Filteræ‹¦æˆªçš„ URLï¼Œå’Œä¸Šé¢çš„servletNamesé…ç½®ä¸€æ ·ï¼Œç”¨*å¯ä»¥è¡¨ç¤ºé€šé…ç¬¦ï¼Œä½†æ˜¯ä¸ç”¨å­—æ¯ååŠ *ï¼Œåº”è¯¥æŒ‰ç…§æ¨¡å—åˆ’åˆ†ï¼Œæ¯”å¦‚/user/*</span></span><br><span class="line">urlPatterns/value    </span><br></pre></td></tr></table></figure>
<p><strong>Filter çš„ç”Ÿå‘½å‘¨æœŸ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">å½“ Tomcat å¯åŠ¨æ—¶ï¼Œé€šè¿‡åå°„æœºåˆ¶è°ƒâ½¤ Filter çš„â½†å‚æ„é€ å‡½æ•°åˆ›å»ºå®ä¾‹åŒ–å¯¹è±¡ï¼ŒåŒæ—¶è°ƒâ½¤ init â½…æ³•å®ç°åˆå§‹åŒ–ï¼ŒdoFilter â½…æ³•è°ƒâ½¤å¤šæ¬¡ï¼Œå½“ Tomcat æœåŠ¡å…³é—­çš„æ—¶å€™ï¼Œè°ƒâ½¤ destory æ¥é”€æ¯ Filter å¯¹è±¡ã€‚</span><br><span class="line"></span><br><span class="line">â½†å‚æ„é€ å‡½æ•°ï¼šåªè°ƒâ½¤â¼€æ¬¡ï¼Œå½“ Tomcat å¯åŠ¨æ—¶è°ƒâ½¤ï¼ˆFilter â¼€å®šè¦è¿›â¾é…ç½®ï¼‰</span><br><span class="line">init â½…æ³•ï¼šåªè°ƒâ½¤â¼€æ¬¡ï¼Œå½“ Filter çš„å®ä¾‹åŒ–å¯¹è±¡åˆ›å»ºå®Œæˆä¹‹åè°ƒâ½¤</span><br><span class="line">doFilterï¼šè°ƒâ½¤å¤šæ¬¡ï¼Œè®¿é—® Filter çš„ä¸šåŠ¡é€»è¾‘éƒ½å†™åœ¨ Filter ä¸­</span><br><span class="line">destoryï¼šåªè°ƒâ½¤â¼€æ¬¡ï¼ŒTomcat å…³é—­æ—¶è°ƒâ½¤ã€‚</span><br><span class="line"></span><br><span class="line">åŒæ—¶é…ç½®å¤šä¸ª Filterï¼ŒFilter çš„è°ƒâ½¤é¡ºåºæ˜¯ç”± web.xml ä¸­çš„é…ç½®é¡ºåºæ¥å†³å®šçš„ï¼Œå†™åœ¨ä¸Šâ¾¯çš„é…ç½®å…ˆè°ƒâ½¤ï¼Œå› ä¸º web.xml æ˜¯ä»ä¸Šåˆ°ä¸‹é¡ºåºè¯»å–çš„ã€‚</span><br></pre></td></tr></table></figure>


<h2 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h2><p>JavaWebé‡Œé¢çš„ç›‘å¬å™¨ï¼šServletContextListener,  HttpSessionListener,  ServletRequestListenerã€‚</p>
<p>å®ç°æ­¥éª¤ï¼šåˆ›å»ºJavaç±» â†’ ç»§æ‰¿ç›‘å¬æ¥å£ â†’ å®ç°ç›‘å¬æ–¹æ³•</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>å½“å‰åœ¨çº¿äººæ•°ï¼š&lt;%= session.getServletContext().getAttribute(&quot;count&quot;)%&gt;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebListener</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SessionListener</span> <span class="keyword">implements</span> <span class="title">HttpSessionListener</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">        ServletContext servletContext = se.getSession().getServletContext();</span><br><span class="line">        Integer count = (Integer)servletContext.getAttribute(<span class="string">&quot;count&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == count) &#123;</span><br><span class="line">            count = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;count&quot;</span>, count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">        ServletContext servletContext = se.getSession().getServletContext();</span><br><span class="line">        Integer count = (Integer)servletContext.getAttribute(<span class="string">&quot;count&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == count) &#123;</span><br><span class="line">            count = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;count&quot;</span>, count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/upload&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;img&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/upload&quot;)</span></span><br><span class="line"><span class="meta">@MultipartConfig</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//è·å–æ–‡ä»¶åç§°</span></span><br><span class="line">        Part part = req.getPart(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">        String header = part.getHeader(<span class="string">&quot;content-disposition&quot;</span>);</span><br><span class="line">        String filename = header.substring(header.indexOf(<span class="string">&quot;filename=&quot;</span>) + <span class="number">10</span>, header.length() - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–è·¯å¾„  E:\IDEAWorkSpace\javaweb-filter\target\javaweb-filter-1.0-SNAPSHOT\file</span></span><br><span class="line">        String dirPath = req.getServletContext().getRealPath(<span class="string">&quot;/file&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line">        File dirFile = <span class="keyword">new</span> File(dirPath);</span><br><span class="line">        <span class="keyword">if</span> (!dirFile.exists()) &#123;</span><br><span class="line">            dirFile.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸ºæ–‡ä»¶é‡æ–°è®¾ç½®æ–‡ä»¶å</span></span><br><span class="line">        String finalName = UUID.randomUUID().toString() + filename;</span><br><span class="line">        <span class="comment">//åˆ›å»ºæ–‡ä»¶</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(dirFile, finalName);</span><br><span class="line">        <span class="comment">//æµæ“ä½œ</span></span><br><span class="line">        InputStream inputStream = part.getInputStream();</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] temp = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((len = inputStream.read(temp)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(temp, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        inputStream.close();</span><br><span class="line">        req.getRequestDispatcher(<span class="string">&quot;/file/&quot;</span> + finalName).forward(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h2><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/download&quot;</span>&gt;</span>ä¸‹è½½<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/download&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DownloadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        resp.setContentType(<span class="string">&quot;application/x-msdownload&quot;</span>);</span><br><span class="line">        String file = <span class="string">&quot;3.jpg&quot;</span>;</span><br><span class="line">        String path = req.getServletContext().getRealPath(<span class="string">&quot;/file/&quot;</span>);</span><br><span class="line">        String filePath = path + file;</span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(filePath);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;attachment; filename=&quot;</span> + file);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¦‚æœæ–‡ä»¶åä¸åŒ…å«ä¸­æ–‡å¯ä»¥ä¸è®¾ç½®è¯¥é¡¹</span></span><br><span class="line">        <span class="comment">//å¦‚æœåŒ…å«ä¸­æ–‡åï¼Œåˆ™éœ€è¦è®¾ç½®ç¼–ç ï¼Œå¦åˆ™æ–‡ä»¶åä¸‹è½½åä¸­æ–‡å­—ç¬¦ä¼šä¹±ç </span></span><br><span class="line">        <span class="comment">//getBytesæŒ‡å®šäº†ç¼–ç çš„æ–¹å¼ï¼ŒISO-8859-1æŒ‡å®šäº†è§£ç ï¼ˆè¯»å–ï¼‰çš„æ–¹å¼,æƒ³è¦è½¬æ¢ç¼–ç ï¼Œå°±æ˜¯å…ˆç¼–ç ï¼Œå†è§£ç </span></span><br><span class="line">        <span class="comment">//response.setHeader(&quot;Content-Disposition&quot;,&quot;attachment; filename=&quot; + new String(file.getBytes(&quot;gb2312&quot;),&quot;ISO-8859-1&quot;));</span></span><br><span class="line"></span><br><span class="line">        ServletOutputStream out = resp.getOutputStream();</span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(buf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            out.write(buf,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        out.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2><p>Asynchronous JavaScript And XMLï¼šå¼‚æ­¥çš„ JavaScript å’Œ XML ã€‚AjaxæŒ‡å¼‚æ­¥åŠ è½½ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„æ•°æ®äº¤äº’æ›´æ–°åœ¨å±€éƒ¨é¡µé¢çš„æŠ€æœ¯ï¼ˆå±€éƒ¨åˆ·æ–°ï¼‰ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;h2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æäº¤&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#btn&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                url: <span class="string">&quot;/test&quot;</span>,</span></span><br><span class="line"><span class="javascript">                type: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="javascript">                dataType: <span class="string">&quot;text&quot;</span>,</span></span><br><span class="line"><span class="javascript">                success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">&quot;#h2&quot;</span>).html(data)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Servlet ä¸èƒ½è·³è½¬åˆ° JSPï¼Œåªèƒ½å°†æ•°æ®è¿”å›ã€‚</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        String str = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">        resp.getWriter().write(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¯­æ³•ï¼š$.ajax(&#123;å±æ€§&#125;)</span><br><span class="line"></span><br><span class="line">å¸¸â½¤çš„å±æ€§å‚æ•°ï¼š</span><br><span class="line">urlï¼šè¯·æ±‚çš„åç«¯æœåŠ¡åœ°å€</span><br><span class="line">typeï¼šè¯·æ±‚æ–¹å¼ï¼Œé»˜è®¤ get</span><br><span class="line">dataï¼šè¯·æ±‚å‚æ•°</span><br><span class="line">dataTypeï¼šæœåŠ¡å™¨è¿”å›çš„æ•°æ®ç±»å‹ï¼Œtext/json</span><br><span class="line">successï¼šè¯·æ±‚æˆåŠŸçš„å›è°ƒå‡½æ•°</span><br><span class="line">errorï¼šè¯·æ±‚å¤±è´¥çš„å›è°ƒå‡½æ•°</span><br><span class="line">completeï¼šè¯·æ±‚å®Œæˆçš„å›è°ƒå‡½æ•°ï¼ˆæ— è®ºæˆåŠŸæˆ–è€…å¤±è´¥ï¼Œéƒ½ä¼šè°ƒç”¨ï¼‰</span><br></pre></td></tr></table></figure>


<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><p>JavaScript Object Notationï¼Œâ¼€ç§è½»é‡çº§æ•°æ®äº¤äº’æ ¼å¼ï¼Œå®Œæˆ js ä¸ Java ç­‰åç«¯å¼€å‘è¯­â¾”å¯¹è±¡æ•°æ®ä¹‹é—´çš„è½¬æ¢å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ é€’å¯¹è±¡æ•°æ®ï¼Œéœ€è¦â½¤ JSON æ ¼å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User(<span class="number">1</span>, <span class="string">&quot;aa&quot;</span>, <span class="string">&quot;bb&quot;</span>);</span><br><span class="line">        String json = <span class="keyword">new</span> ObjectMapper().writeValueAsString(user);</span><br><span class="line">        resp.getWriter().write(json);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">&quot;#btn&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                url: <span class="string">&quot;/json&quot;</span>,</span></span><br><span class="line"><span class="javascript">                type: <span class="string">&quot;post&quot;</span>,</span></span><br><span class="line"><span class="javascript">                dataType: <span class="string">&quot;json&quot;</span>,</span></span><br><span class="line"><span class="javascript">                success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(data)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">ç»“æœï¼š&#123;id: 1, name: &quot;aa&quot;, address: &quot;bb&quot;&#125;</span><br></pre></td></tr></table></figure>


<h2 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">JDBC çš„ä½¿ç”¨</span><br><span class="line"><span class="number">1</span>ã€åŠ è½½æ•°æ®åº“é©±åŠ¨ï¼ŒJava ç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„æ¡¥æ¢ã€‚</span><br><span class="line"><span class="number">2</span>ã€è·å– Connectionï¼ŒJava ç¨‹åºä¸æ•°æ®åº“çš„â¼€æ¬¡è¿æ¥ã€‚</span><br><span class="line"><span class="number">3</span>ã€åˆ›å»º Statement å¯¹è±¡ï¼Œç”± Connection äº§â½£ï¼Œæ‰§â¾ SQL è¯­å¥ã€‚</span><br><span class="line"><span class="number">4</span>ã€å¦‚æœéœ€è¦æ¥æ”¶è¿”å›å€¼ï¼Œåˆ›å»º ResultSet å¯¹è±¡ï¼Œä¿å­˜ Statement æ‰§è¡Œä¹‹åæ‰€æŸ¥è¯¢åˆ°çš„ç»“æœã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">           String url = <span class="string">&quot;jdbc:mysql://localhost:3306/springboot?useUnicode=true&amp;characterEncoding=UTF-8&quot;</span>;</span><br><span class="line">           String username = <span class="string">&quot;root&quot;</span>;</span><br><span class="line">           String password = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line"></span><br><span class="line">           Connection con = DriverManager.getConnection(url, username, password);</span><br><span class="line">           <span class="comment">//å¢ åˆ  æ”¹ éƒ½ä¸æ­¤ç±»ä¼¼</span></span><br><span class="line">           String sql1 = <span class="string">&quot;insert into book (author,name) values (&#x27;è–›ä¹‹è°¦&#x27;,&#x27;åŠ¨ç‰©ä¸–ç•Œ&#x27;)&quot;</span>;</span><br><span class="line">           Statement statement = con.createStatement();</span><br><span class="line">           <span class="keyword">int</span> row = statement.executeUpdate(sql1);</span><br><span class="line">           System.out.println(row);</span><br><span class="line">       &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">           throwables.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥è¯¢</span></span><br><span class="line">String sql1 = <span class="string">&quot;select * from book&quot;</span>;</span><br><span class="line">Statement statement = con.createStatement();</span><br><span class="line">ResultSet resultSet = statement.executeQuery(sql1);</span><br><span class="line"><span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">     Integer id = resultSet.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">     String author = resultSet.getString(<span class="string">&quot;author&quot;</span>);</span><br><span class="line">     String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">     System.out.println(id + <span class="string">&quot;-&quot;</span> + author + <span class="string">&quot;-&quot;</span> + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="PreparedStatement"><a href="#PreparedStatement" class="headerlink" title="PreparedStatement"></a>PreparedStatement</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Statement çš„â¼¦ç±»ï¼Œæä¾›äº† SQL å ä½ç¬¦çš„åŠŸèƒ½</span><br><span class="line"></span><br><span class="line">ä½¿â½¤ Statement è¿›â¾å¼€å‘æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</span><br><span class="line"><span class="number">1</span>ã€éœ€è¦é¢‘ç¹æ‹¼æ¥ String å­—ç¬¦ä¸²ï¼Œå‡ºé”™ç‡è¾ƒâ¾¼ã€‚</span><br><span class="line"><span class="number">2</span>ã€å­˜åœ¨ SQL æ³¨â¼Šçš„â»›é™©ã€‚</span><br><span class="line"></span><br><span class="line">SQL æ³¨â¼Šï¼šåˆ©â½¤æŸäº›ç³»ç»Ÿæ²¡æœ‰å¯¹â½¤æˆ·è¾“â¼Šçš„ä¿¡æ¯è¿›â¾å……åˆ†æ£€æµ‹ï¼Œåœ¨â½¤æˆ·è¾“â¼Šçš„æ•°æ®ä¸­æ³¨â¼Šâ¾®æ³•çš„ SQLè¯­å¥ï¼Œä»â½½åˆ©â½¤ç³»ç»Ÿçš„ SQL å¼•æ“å®Œæˆæ¶æ„â¾ä¸ºçš„åšæ³•ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">           String url = <span class="string">&quot;jdbc:mysql://localhost:3306/springboot?useUnicode=true&amp;characterEncoding=UTF-8&quot;</span>;</span><br><span class="line">           String username = <span class="string">&quot;root&quot;</span>;</span><br><span class="line">           String password = <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">           Connection con = DriverManager.getConnection(url, username, password);</span><br><span class="line"></span><br><span class="line">           String sql1 = <span class="string">&quot;select * from book where id = ?&quot;</span>;</span><br><span class="line">           PreparedStatement preparedStatement = con.prepareStatement(sql1);</span><br><span class="line">           preparedStatement.setInt(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">           ResultSet resultSet = preparedStatement.executeQuery();</span><br><span class="line">           <span class="keyword">while</span> (resultSet.next()) &#123;</span><br><span class="line">               Integer id = resultSet.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">               String author = resultSet.getString(<span class="string">&quot;author&quot;</span>);</span><br><span class="line">               String name = resultSet.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">               System.out.println(id + <span class="string">&quot;-&quot;</span> + author + <span class="string">&quot;-&quot;</span> + name);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">           throwables.printStackTrace();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>


<h2 id="æ•°æ®åº“è¿æ¥æ± "><a href="#æ•°æ®åº“è¿æ¥æ± " class="headerlink" title="æ•°æ®åº“è¿æ¥æ± "></a>æ•°æ®åº“è¿æ¥æ± </h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">JDBC å¼€å‘æµç¨‹</span><br><span class="line">- åŠ è½½é©±åŠ¨ï¼ˆåªéœ€è¦åŠ è½½â¼€æ¬¡ï¼‰</span><br><span class="line">- å»ºâ½´æ•°æ®åº“è¿æ¥ï¼ˆConnectionï¼‰</span><br><span class="line">- æ‰§â¾ SQL è¯­å¥ï¼ˆStatementï¼‰</span><br><span class="line">- ResultSet æ¥æ”¶ç»“æœé›†ï¼ˆæŸ¥è¯¢ï¼‰</span><br><span class="line">- æ–­å¼€è¿æ¥ï¼Œé‡Šæ”¾èµ„æº</span><br><span class="line"></span><br><span class="line">æ•°æ®åº“è¿æ¥å¯¹è±¡æ˜¯é€šè¿‡ DriverManager æ¥è·å–çš„ï¼Œæ¯æ¬¡è·å–éƒ½éœ€è¦å‘æ•°æ®åº“ç”³è¯·è·å–è¿æ¥ï¼ŒéªŒè¯â½¤æˆ·åå’Œå¯†ç ï¼Œæ‰§â¾å®Œ SQL è¯­å¥åæ–­å¼€è¿æ¥ï¼Œè¿™æ ·çš„â½…å¼ä¼šé€ æˆèµ„æºçš„æµªè´¹ï¼Œæ•°æ®è¿æ¥èµ„æºæ²¡æœ‰å¾—åˆ°å¾ˆå¥½çš„é‡å¤åˆ©â½¤ã€‚å¯ä»¥ä½¿â½¤æ•°æ®åº“è¿æ¥æ± è§£å†³è¿™â¼€é—®é¢˜ã€‚</span><br><span class="line"></span><br><span class="line">æ•°æ®åº“è¿æ¥æ± çš„åŸºæœ¬æ€æƒ³å°±æ˜¯ä¸ºæ•°æ®åº“å»ºâ½´â¼€ä¸ªç¼“å†²æ± ï¼Œé¢„å…ˆå‘ç¼“å†²æ± ä¸­æ”¾â¼Šâ¼€å®šæ•°é‡çš„è¿æ¥å¯¹è±¡ï¼Œå½“éœ€è¦è·å–æ•°æ®åº“è¿æ¥çš„æ—¶å€™ï¼Œåªéœ€è¦ä»ç¼“å†²æ± ä¸­å–å‡ºâ¼€ä¸ªå¯¹è±¡ï¼Œâ½¤å®Œä¹‹åå†æ”¾å›åˆ°ç¼“å†²æ± ä¸­ï¼Œä¾›ä¸‹â¼€æ¬¡è¯·æ±‚ä½¿â½¤ï¼Œåšåˆ°äº†èµ„æºçš„é‡å¤åˆ©â½¤ï¼Œå…è®¸ç¨‹åºé‡å¤ä½¿â½¤â¼€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥å¯¹è±¡ï¼Œâ½½ä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚å½“æ•°æ®åº“è¿æ¥æ± ä¸­æ²¡æœ‰ç©ºé—²çš„è¿æ¥æ—¶ï¼Œæ–°çš„è¯·æ±‚å°±ä¼šè¿›â¼Šç­‰å¾…é˜Ÿåˆ—ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹é‡Šæ”¾è¿æ¥ã€‚</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼•å…¥ä¾èµ– --&gt;</span>	</span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">å°† C3P0 çš„é…ç½®ä¿¡æ¯å®šä¹‰åœ¨ xml â½‚ä»¶ä¸­ï¼ŒJava ç¨‹åºåªéœ€è¦åŠ è½½é…ç½®â½‚ä»¶å³å¯å®Œæˆæ•°æ®åº“è¿æ¥æ± çš„åˆå§‹åŒ–æ“ä½œã€‚</span></span><br><span class="line"><span class="comment">1ã€é…ç½®â½‚ä»¶çš„åå­—å¿…é¡»æ˜¯ c3p0-config.xml</span></span><br><span class="line"><span class="comment">2ã€åˆå§‹åŒ– ComboPooledDataSource æ—¶ï¼Œä¼ â¼Šçš„å‚æ•°å¿…é¡»æ˜¯ c3p0-config.xml ä¸­ named-config æ ‡ç­¾çš„ name å±æ€§å€¼ã€‚</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">named-config</span> <span class="attr">name</span>=<span class="string">&quot;testc3p0&quot;</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- æŒ‡å®šè¿æ¥æ•°æ®æºçš„åŸºæœ¬å±æ€§ --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span>&gt;</span>jdbc:mysql://localhost:3306/springboot?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!-- è‹¥æ•°æ®åº“ä¸­è¿æ¥æ•°ä¸è¶³æ—¶, ä¸€æ¬¡å‘æ•°æ®åº“æœåŠ¡å™¨ç”³è¯·å¤šå°‘ä¸ªè¿æ¥ --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;acquireIncrement&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- åˆå§‹åŒ–æ•°æ®åº“è¿æ¥æ± æ—¶è¿æ¥çš„æ•°é‡ --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;initialPoolSize&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- æ•°æ®åº“è¿æ¥æ± ä¸­çš„æœ€å°çš„æ•°æ®åº“è¿æ¥æ•° --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minPoolSize&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- æ•°æ®åº“è¿æ¥æ± ä¸­çš„æœ€å¤§çš„æ•°æ®åº“è¿æ¥æ•° --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxPoolSize&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">named-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">     ComboPooledDataSource dataSource = <span class="keyword">new</span> ComboPooledDataSource(<span class="string">&quot;testc3p0&quot;</span>);</span><br><span class="line">     <span class="keyword">try</span> &#123;</span><br><span class="line">         Connection connection = dataSource.getConnection();</span><br><span class="line">         System.out.println(connection);</span><br><span class="line">         connection.close();</span><br><span class="line">     &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>


<h2 id="DBUtils"><a href="#DBUtils" class="headerlink" title="DBUtils"></a>DBUtils</h2><p>DBUtils å¯ä»¥å¸®åŠ©å¼€å‘è€…å®Œæˆæ•°æ®çš„å°è£…ï¼ˆç»“æœé›†åˆ° Java å¯¹è±¡çš„æ˜ å°„ï¼‰</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-dbutils<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-dbutils<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ResultHandler æ¥â¼æ˜¯â½¤æ¥å¤„ç†ç»“æœé›†ï¼Œå¯ä»¥å°†æŸ¥è¯¢åˆ°çš„ç»“æœé›†è½¬æ¢æˆ Java å¯¹è±¡ï¼Œæä¾›äº† 4 ç§å®ç°ç±»ã€‚</span></span><br><span class="line"><span class="comment">//BeanHandler å°†ç»“æœé›†æ˜ å°„æˆ Java å¯¹è±¡</span></span><br><span class="line"><span class="comment">//BeanListHandler å°†ç»“æœé›†æ˜ å°„æˆ List é›†åˆ </span></span><br><span class="line"><span class="comment">//MapHandler å°†ç»“æœé›†æ˜ å°„æˆ Map å¯¹è±¡</span></span><br><span class="line"><span class="comment">//MapListHandler å°†ç»“æœé›†æ˜ å°„æˆ Map List é›†åˆ</span></span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ComboPooledDataSource dataSource = <span class="keyword">new</span> ComboPooledDataSource(<span class="string">&quot;testc3p0&quot;</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Connection connection = dataSource.getConnection();</span><br><span class="line">        String sql = <span class="string">&quot;select * from book where id = 1&quot;</span>;</span><br><span class="line">        QueryRunner queryRunner = <span class="keyword">new</span> QueryRunner();</span><br><span class="line">        Book book = queryRunner.query(connection, sql, <span class="keyword">new</span> BeanHandler&lt;&gt;(Book.class));</span><br><span class="line">        System.out.println(book);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h2><p>æœ¯è¯­ï¼šStart Transactionï¼ŒEnd Transactionï¼ŒCommit Transactionï¼ŒRollback Transaction</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       ComboPooledDataSource dataSource = <span class="keyword">new</span> ComboPooledDataSource(<span class="string">&quot;testc3p0&quot;</span>);</span><br><span class="line">       Connection connection = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           connection = dataSource.getConnection();</span><br><span class="line">           <span class="comment">//JDBCä¸­é»˜è®¤äº‹åŠ¡æ˜¯è‡ªåŠ¨æäº¤çš„ï¼Œfalseå°±ä¸ä¼šè‡ªåŠ¨æäº¤</span></span><br><span class="line">           connection.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line">           PreparedStatement ps1 = </span><br><span class="line">             connection.prepareStatement(<span class="string">&quot;insert into  book (author, name) values(?,?) &quot;</span>);</span><br><span class="line">           PreparedStatement ps2 = </span><br><span class="line">             connection.prepareStatement(<span class="string">&quot;insert into  book (author, name) values(?,?) &quot;</span>);</span><br><span class="line">         </span><br><span class="line">           ps1.setString(<span class="number">1</span>, <span class="string">&quot;è–›ä¹‹è°¦&quot;</span>);</span><br><span class="line">           ps1.setString(<span class="number">2</span>, <span class="string">&quot;ç‹ç‹¸&quot;</span>);</span><br><span class="line"></span><br><span class="line">           ps2.setString(<span class="number">1</span>, <span class="string">&quot;è–›ä¹‹è°¦&quot;</span>);</span><br><span class="line">           ps2.setString(<span class="number">2</span>, <span class="string">&quot;æ‘©å¤©å¤§æ¥¼&quot;</span>);</span><br><span class="line">         </span><br><span class="line">           ps1.execute();</span><br><span class="line">           <span class="comment">//æ¨¡æ‹Ÿå¼‚å¸¸</span></span><br><span class="line">           <span class="keyword">int</span> i = <span class="number">1</span> / <span class="number">0</span>;</span><br><span class="line">           ps2.execute();</span><br><span class="line">       &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">           e.printStackTrace();</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               connection.rollback();</span><br><span class="line">           &#125; <span class="keyword">catch</span> (SQLException e1) &#123;</span><br><span class="line">               e1.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               connection.commit();</span><br><span class="line">               connection.close();</span><br><span class="line">           &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>


<h2 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h2><p><strong>Httpè¯·æ±‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Httpè¯·æ±‚æ¶ˆæ¯ç»“æ„:</span><br><span class="line">- è¯·æ±‚è¡Œ</span><br><span class="line">- è¯·æ±‚æ–¹æ³•</span><br><span class="line">- URLåœ°å€</span><br><span class="line">- åè®®å</span><br><span class="line">- è¯·æ±‚å¤´</span><br><span class="line">- æŠ¥æ–‡å¤´åŒ…å«è‹¥å¹²ä¸ªå±æ€§ æ ¼å¼ä¸ºâ€œå±æ€§å : å±æ€§å€¼â€ï¼Œ</span><br><span class="line">- æœåŠ¡ç«¯æ®æ­¤è·å–å®¢æˆ·ç«¯çš„åŸºæœ¬ä¿¡æ¯</span><br><span class="line">- è¯·æ±‚ä½“</span><br><span class="line">- è¯·æ±‚çš„å‚æ•°ï¼Œå¯ä»¥æ˜¯jsonå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯å‰ç«¯è¡¨å•ç”Ÿæˆçš„key=value&amp;key=valueçš„å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">- è¯·æ±‚å¤´</span><br><span class="line">  - æŠ¥æ–‡å¤´åŒ…å«è‹¥å¹²ä¸ªå±æ€§ æ ¼å¼ä¸ºâ€œå±æ€§å:å±æ€§å€¼â€ï¼Œ</span><br><span class="line">  - æœåŠ¡ç«¯æ®æ­¤è·å–å®¢æˆ·ç«¯çš„åŸºæœ¬ä¿¡æ¯</span><br><span class="line">  </span><br><span class="line">- å¸¸è§çš„è¯·æ±‚å¤´</span><br><span class="line">  - Acceptï¼š è§ˆå™¨æ”¯æŒçš„ MIME åª’ä½“ç±»å‹, æ¯”å¦‚ text/html,application/json,image/webp,/ ç­‰</span><br><span class="line">  - Accept-Encoding: æµè§ˆå™¨å‘ç»™æœåŠ¡å™¨,å£°æ˜æµè§ˆå™¨æ”¯æŒçš„ç¼–ç ç±»å‹ï¼Œgzip, deflate</span><br><span class="line">  - Accept-Language: å®¢æˆ·ç«¯æ¥å—çš„è¯­è¨€æ ¼å¼,æ¯”å¦‚ zh-CN</span><br><span class="line">  - Connection: keep-alive , å¼€å¯HTTPæŒä¹…è¿æ¥</span><br><span class="line">  - Hostï¼šæœåŠ¡å™¨çš„åŸŸå</span><br><span class="line">  - Originï¼šå‘Šè¯‰æœåŠ¡å™¨è¯·æ±‚ä»å“ªé‡Œå‘èµ·çš„ï¼Œä»…åŒ…æ‹¬åè®®å’ŒåŸŸå CORSè·¨åŸŸè¯·æ±‚ä¸­å¯ä»¥çœ‹åˆ°responseæœ‰å¯¹åº”çš„headerï¼ŒAccess-Control-Allow-Origin</span><br><span class="line">  - Refererï¼šå‘Šè¯‰æœåŠ¡å™¨è¯·æ±‚çš„åŸå§‹èµ„æºçš„URIï¼Œå…¶ç”¨äºæ‰€æœ‰ç±»å‹çš„è¯·æ±‚ï¼Œå¹¶ä¸”åŒ…æ‹¬ï¼šåè®®+åŸŸå+æŸ¥è¯¢å‚æ•°ï¼› å¾ˆå¤šæŠ¢è´­æœåŠ¡ä¼šç”¨è¿™ä¸ªåšé™åˆ¶ï¼Œå¿…é¡»é€šè¿‡æŸä¸ªå…¥æ¥è¿›æ¥æ‰æœ‰æ•ˆ</span><br><span class="line">  - User-Agent: æœåŠ¡å™¨é€šè¿‡è¿™ä¸ªè¯·æ±‚å¤´åˆ¤æ–­ç”¨æˆ·çš„è½¯ä»¶çš„åº”ç”¨ç±»å‹ã€æ“ä½œç³»ç»Ÿã€è½¯ä»¶å¼€å‘å•†ä»¥åŠç‰ˆæœ¬å·ã€æµè§ˆå™¨å†…æ ¸ä¿¡æ¯ç­‰ï¼› é£æ§ç³»ç»Ÿã€åä½œå¼Šç³»ç»Ÿã€åçˆ¬è™«ç³»ç»Ÿç­‰åŸºæœ¬ä¼šé‡‡é›†è¿™ç±»ä¿¡æ¯åšå‚è€ƒ</span><br><span class="line">  - Cookie: è¡¨ç¤ºæœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯ä¼ çš„httpè¯·æ±‚çŠ¶æ€,ä¹Ÿæ˜¯å¤šä¸ªkey=valueå½¢å¼ç»„åˆï¼Œæ¯”å¦‚ç™»å½•åçš„ä»¤ç‰Œç­‰</span><br><span class="line">  - Content-Typeï¼š HTTPè¯·æ±‚æäº¤çš„å†…å®¹ç±»å‹ï¼Œä¸€èˆ¬åªæœ‰postæäº¤æ—¶æ‰éœ€è¦è®¾ç½®ï¼Œæ¯”å¦‚æ–‡ä»¶ä¸Šä¼ ï¼Œè¡¨å•æäº¤ç­‰</span><br></pre></td></tr></table></figure>
<p><strong>Httpå“åº”</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Httpå“åº”æ¶ˆæ¯ç»“æ„</span><br><span class="line">- å“åº”è¡Œ</span><br><span class="line">- æŠ¥æ–‡åè®®åŠç‰ˆæœ¬ã€çŠ¶æ€ç </span><br><span class="line">- å“åº”å¤´</span><br><span class="line">- æŠ¥æ–‡å¤´åŒ…å«è‹¥å¹²ä¸ªå±æ€§ æ ¼å¼ä¸ºâ€œå±æ€§å:å±æ€§å€¼â€</span><br><span class="line">- å“åº”æ­£æ–‡</span><br><span class="line">- å“åº”æŠ¥æ–‡ä½“ï¼Œæˆ‘ä»¬éœ€è¦çš„å†…å®¹ï¼Œå¤šç§å½¢å¼æ¯”å¦‚htmlã€jsonã€å›¾ç‰‡ã€è§†é¢‘æ–‡ä»¶ç­‰</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">å“åº”</span><br><span class="line">- æŠ¥æ–‡å¤´åŒ…å«è‹¥å¹²ä¸ªå±æ€§ æ ¼å¼ä¸ºâ€œå±æ€§å:å±æ€§å€¼â€</span><br><span class="line"></span><br><span class="line">å¸¸è§çš„å“åº”å¤´</span><br><span class="line">- Allow: æœåŠ¡å™¨æ”¯æŒå“ªäº›è¯·æ±‚æ–¹æ³•</span><br><span class="line">- Content-Length: å“åº”ä½“çš„å­—èŠ‚é•¿åº¦</span><br><span class="line">- Content-Type: å“åº”ä½“çš„MIMEç±»å‹</span><br><span class="line">- Content-Encoding: è®¾ç½®æ•°æ®ä½¿ç”¨çš„ç¼–ç ç±»å‹</span><br><span class="line">- Date: è®¾ç½®æ¶ˆæ¯å‘é€çš„æ—¥æœŸå’Œæ—¶é—´</span><br><span class="line">- Expires: è®¾ç½®å“åº”ä½“çš„è¿‡æœŸæ—¶é—´,ä¸€ä¸ªGMTæ—¶é—´ï¼Œè¡¨ç¤ºè¯¥ç¼“å­˜çš„æœ‰æ•ˆæ—¶é—´</span><br><span class="line">- cache-control: Expiresçš„ä½œç”¨ä¸€è‡´ï¼Œéƒ½æ˜¯æŒ‡æ˜å½“å‰èµ„æºçš„æœ‰æ•ˆæœŸ, æ§åˆ¶æµè§ˆå™¨æ˜¯å¦ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜å–æ•°æ®è¿˜æ˜¯é‡æ–°å‘è¯·æ±‚åˆ°æœåŠ¡å™¨å–æ•°æ®,ä¼˜å…ˆçº§é«˜äºExpires,æ§åˆ¶ç²’åº¦æ›´ç»†ï¼Œå¦‚max-age=<span class="number">240</span>ï¼Œå³<span class="number">4</span>åˆ†é’Ÿ</span><br><span class="line">- Locationï¼šè¡¨ç¤ºå®¢æˆ·åº”å½“åˆ°å“ªé‡Œå»è·å–èµ„æºï¼Œä¸€èˆ¬åŒæ—¶è®¾ç½®çŠ¶æ€ä»£ç ä¸º3xx</span><br><span class="line">- Server: æœåŠ¡å™¨åç§°</span><br><span class="line">- Transfer-Encodingï¼šchunked è¡¨ç¤ºè¾“å‡ºçš„å†…å®¹é•¿åº¦ä¸èƒ½ç¡®å®šï¼Œé™æ€ç½‘é¡µä¸€èˆ¬æ²¡ï¼ŒåŸºæœ¬å‡ºç°åœ¨åŠ¨æ€ç½‘é¡µé‡Œé¢</span><br><span class="line">- Access-Control-Allow-Origin: å®šå“ªäº›ç«™ç‚¹å¯ä»¥å‚ä¸è·¨ç«™èµ„æºå…±äº«</span><br></pre></td></tr></table></figure>


<h2 id="Httpå¸¸è§è¯·æ±‚-å“åº”å¤´content-typeå†…å®¹ç±»å‹"><a href="#Httpå¸¸è§è¯·æ±‚-å“åº”å¤´content-typeå†…å®¹ç±»å‹" class="headerlink" title="Httpå¸¸è§è¯·æ±‚/å“åº”å¤´content-typeå†…å®¹ç±»å‹"></a>Httpå¸¸è§è¯·æ±‚/å“åº”å¤´content-typeå†…å®¹ç±»å‹</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">- Content-type: ç”¨æ¥æŒ‡å®šä¸åŒæ ¼å¼çš„è¯·æ±‚å“åº”ä¿¡æ¯ï¼Œä¿—ç§° MIMEåª’ä½“ç±»å‹</span><br><span class="line">- å¸¸è§çš„å–å€¼</span><br><span class="line">  text/html ï¼šHTMLæ ¼å¼</span><br><span class="line">  text/plain ï¼šçº¯æ–‡æœ¬æ ¼å¼</span><br><span class="line">  text/xml ï¼š XMLæ ¼å¼</span><br><span class="line">  image/gif ï¼šgifå›¾ç‰‡æ ¼å¼ </span><br><span class="line">  image/jpeg ï¼šjpgå›¾ç‰‡æ ¼å¼ </span><br><span class="line">  image/pngï¼špngå›¾ç‰‡æ ¼å¼</span><br><span class="line">  application/jsonï¼šJSONæ•°æ®æ ¼å¼ </span><br><span class="line">  application/pdf ï¼špdfæ ¼å¼ </span><br><span class="line">  application/octet-stream ï¼šäºŒè¿›åˆ¶æµæ•°æ®ï¼Œä¸€èˆ¬æ˜¯æ–‡ä»¶ä¸‹è½½</span><br><span class="line">  application/x-www-form-urlencodedï¼šformè¡¨å•é»˜è®¤çš„æäº¤æ•°æ®çš„æ ¼å¼ï¼Œä¼šç¼–ç æˆkey=valueæ ¼å¼</span><br><span class="line">  multipart/form-dataï¼š è¡¨å•ä¸­éœ€è¦ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶æ ¼å¼ç±»å‹</span><br></pre></td></tr></table></figure>


<h2 id="JavaWebå¸¸è§é¢è¯•é¢˜"><a href="#JavaWebå¸¸è§é¢è¯•é¢˜" class="headerlink" title="JavaWebå¸¸è§é¢è¯•é¢˜"></a>JavaWebå¸¸è§é¢è¯•é¢˜</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. è¯´ä¸‹servletçš„ç”Ÿå‘½å‘¨æœŸ</span><br><span class="line">  - å®ä¾‹åŒ–-&gt; ä½¿ç”¨æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡</span><br><span class="line">  - åˆå§‹åŒ–-&gt; æ‰§è¡Œinitæ–¹æ³•ï¼šServlet çš„ç”Ÿå‘½æœŸä¸­ï¼Œä»…æ‰§è¡Œä¸€æ¬¡ init() æ–¹æ³•ï¼Œå®ƒæ˜¯åœ¨æœåŠ¡å™¨è£…å…¥ Servlet æ—¶æ‰§è¡Œçš„,å³ç¬¬ä¸€æ¬¡è®¿é—®è¿™ä¸ªServletæ‰æ‰§è¡Œ</span><br><span class="line">  - æœåŠ¡-&gt; æ‰§è¡Œserviceæ–¹æ³•ï¼Œservice() æ–¹æ³•æ˜¯ Servlet çš„æ ¸å¿ƒã€‚æ¯å½“ä¸€ä¸ªå®¢æˆ·è¯·æ±‚ä¸€ä¸ªHttpServlet å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„service() æ–¹æ³•å°±è¦è¢«è°ƒç”¨</span><br><span class="line">  - é”€æ¯-&gt; æ‰§è¡Œdestroyæ–¹æ³•,destroy() æ–¹æ³•ä»…æ‰§è¡Œä¸€æ¬¡ï¼Œå³åœ¨æœåŠ¡å™¨åœæ­¢ä¸”å¸è£… Servlet æ—¶æ‰§è¡Œè¯¥æ–¹æ³•</span><br><span class="line">  </span><br><span class="line">2. forwardå’Œredirectçš„åŒºåˆ«</span><br><span class="line">  - é‡å®šå‘ä¼šæ”¹å˜URLåœ°å€ï¼Œè¯·æ±‚è½¬å‘ä¸ä¼šæ”¹å˜URLåœ°å€</span><br><span class="line">  - é‡å®šå‘ä¸å¯ä»¥ä½¿ç”¨å¤šä¸ªä½œç”¨åŸŸçš„å†…å®¹ï¼Œè¯·æ±‚è½¬å‘å¯ä»¥</span><br><span class="line">  - é‡å®šå‘å¯ä»¥ç”¨URLè®¿é—®å¤–éƒ¨èµ„æºï¼Œè¯·æ±‚è½¬å‘åªèƒ½è·³è½¬å†…éƒ¨èµ„æº</span><br><span class="line">  - é‡å®šå‘ä¼šè§¦å‘å¤šæ¬¡è¯·æ±‚ï¼›è½¬å‘çš„è¯åªåœ¨å†…éƒ¨è·³è½¬</span><br><span class="line"></span><br><span class="line">3. è¯´ä¸‹Cookieå’ŒSessionçš„åŒºåˆ«å’Œè”ç³»</span><br><span class="line">  - cookieæ•°æ®ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œsessionæ•°æ®ä¿å­˜åœ¨æœåŠ¡ç«¯</span><br><span class="line">  - cookieä¸æ˜¯å¾ˆå®‰å…¨ï¼Œå®¹æ˜“æ³„éœ²ï¼Œå› ä¸ºä»¥æ˜æ–‡å­˜å‚¨ä¿¡æ¯</span><br><span class="line">  - Cookieå¤§å°å’Œæ•°é‡å­˜å‚¨æœ‰é™åˆ¶</span><br><span class="line"></span><br><span class="line">4. å®¢æˆ·ç«¯å­˜å‚¨é™¤äº†Cookieï¼Œè¿˜æœ‰ä»€ä¹ˆï¼Ÿ</span><br><span class="line">  - localStroage å’Œ sessionStorage</span><br><span class="line">  - sessionStorageä¸ºä¸´æ—¶ä¿å­˜ï¼Œè€ŒlocalStorageä¸ºæ°¸ä¹…ä¿å­˜</span><br></pre></td></tr></table></figure>


<h2 id="JDBCå¸¸è§é¢è¯•é¢˜"><a href="#JDBCå¸¸è§é¢è¯•é¢˜" class="headerlink" title="JDBCå¸¸è§é¢è¯•é¢˜"></a>JDBCå¸¸è§é¢è¯•é¢˜</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. è¯´ä¸‹JDBCè¿æ¥æ•°æ®åº“çš„å¼€å‘æ­¥éª¤</span><br><span class="line">  - 1.åŠ è½½æ•°æ®åº“è¿æ¥é©±åŠ¨â€ƒ</span><br><span class="line">  - 2.è·å–æ•°æ®è¿æ¥å¯¹è±¡</span><br><span class="line">  - 3.è·å–è¯­å¥å¯¹è±¡, ä¼šè¯å¯¹è±¡æœ‰ä¸¤ç§Statementå’ŒPreparedStatement </span><br><span class="line">  - 4.æ‰§è¡Œè¯­å¥ â€ƒ</span><br><span class="line">  - 5.å¤„ç†ç»“æœé›† â€ƒ</span><br><span class="line">  - 6.å…³é—­èµ„æº  rs.close()ã€st.close()ã€conn.close() æ³¨æ„å…³é—­é¡ºåºä»¥åŠå¤„ç†å¼‚å¸¸â€ƒ</span><br><span class="line">    </span><br><span class="line">2. JDBCä¸­çš„Statement å’ŒPreparedStatementçš„åŒºåˆ«</span><br><span class="line">  - PreparedStatementåœ¨æ‰§è¡Œä¹‹å‰ä¼šè¿›è¡Œé¢„ç¼–è¯‘</span><br><span class="line">  - æ•ˆç‡é«˜äºStatement,ä¸”èƒ½å¤Ÿæœ‰æ•ˆé˜²æ­¢SQLæ³¨å…¥</span><br><span class="line">  - PreparedStatementæ”¯æŒ?å ä½ç¬¦è€Œä¸æ˜¯ç›´æ¥æ‹¼æ¥ï¼Œæé«˜å¯è¯»æ€§</span><br><span class="line">  </span><br><span class="line">3. æ•°æ®åº“è¿æ¥æ± å·¥ä½œåŸç†å’Œä¼˜ç‚¹</span><br><span class="line">  - å…ˆåˆ›å»ºä¸€å®šæ•°é‡çš„è¿æ¥å¯¹è±¡å­˜æ”¾åœ¨è¿æ¥æ± </span><br><span class="line">  - éœ€è¦ä½¿ç”¨è¿æ¥å¯¹è±¡çš„æ—¶å€™ï¼Œä»è¿æ¥æ± ä¸­è¯·æ±‚ä¸€ä¸ªç©ºé—²çš„è¿æ¥</span><br><span class="line">  - ä½¿ç”¨å®Œæ¯•ä¹‹åï¼Œå¹¶ä¸ä¼šæŠŠè¿æ¥å…³é—­ï¼Œè€Œæ˜¯è¿˜ç»™è¿æ¥æ± </span><br><span class="line">  - ä¼˜ç‚¹ï¼šç³»ç»Ÿå“åº”é€Ÿåº¦åŠ å¿«ï¼Œèµ„æºåˆ©ç”¨ç‡é«˜</span><br></pre></td></tr></table></figure>


<h2 id="Httpå¸¸è§é¢è¯•é¢˜"><a href="#Httpå¸¸è§é¢è¯•é¢˜" class="headerlink" title="Httpå¸¸è§é¢è¯•é¢˜"></a>Httpå¸¸è§é¢è¯•é¢˜</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1. httpè¯·æ±‚ getå’Œpostçš„åŒºåˆ«ï¼Ÿ</span><br><span class="line">  - getæ˜¯ç”¨æ¥ä»æœåŠ¡å™¨ä¸Šè·å–æ•°æ®ï¼Œè€Œpostæ˜¯ç”¨æ¥å‘æœåŠ¡å™¨ä¸Šä¼ é€’æ•°æ®</span><br><span class="line">  - getæ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œæ•°æ®è¢«æ”¾åœ¨è¯·æ±‚çš„URLä¸­ï¼Œpostæ˜¯æ”¾åˆ°bodyé‡Œé¢ï¼Œå¯¹å°ç™½ç”¨æˆ·ä¸å¯è§</span><br><span class="line">  - getä¼ è¾“çš„æ•°æ®é‡å°ï¼Œä¸»è¦æ˜¯ç”±äºå—URLé•¿åº¦çš„é™åˆ¶ï¼›postå¯ä»¥ä¼ è¾“å¤§é‡çš„æ•°æ®ï¼Œä¸€èˆ¬ä¸Šä¼ æ–‡ä»¶åªèƒ½ç”¨post</span><br><span class="line">  </span><br><span class="line">2. æµè§ˆå™¨è¾“å…¥ä¸€ä¸ªåœ°å€ï¼Œåˆ°é¡µé¢å±•ç¤ºä¸­é—´ç»å†äº†å“ªäº›å¤„ç†</span><br><span class="line">  1ã€æµè§ˆå™¨è¾“å…¥url, è§£æurlåœ°å€æ˜¯å¦åˆæ³•</span><br><span class="line">  2ã€æµè§ˆå™¨æ£€æŸ¥æ˜¯å¦æœ‰ç¼“å­˜, å¦‚æœæœ‰ç›´æ¥æ˜¾ç¤ºã€‚å¦‚æœæ²¡æœ‰è·³åˆ°ç¬¬ä¸‰æ­¥ã€‚</span><br><span class="line">  3ã€åœ¨å‘é€httpè¯·æ±‚å‰ï¼Œéœ€è¦åŸŸåè§£æï¼ˆDNSè§£æï¼‰ï¼Œè§£æè·å–å¯¹åº”è¿‡çš„ipåœ°å€ã€‚</span><br><span class="line">  4ã€æµè§ˆå™¨å‘æœåŠ¡å™¨å‘èµ·tcpé“¾æ¥ï¼Œå®Œæˆtcpä¸‰æ¬¡æ¡æ‰‹</span><br><span class="line">  5ã€æ¡æ‰‹æˆåŠŸåï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€httpè¯·æ±‚</span><br><span class="line">  6ã€æœåŠ¡å™¨æ”¶åˆ°å¤„ç†çš„è¯·æ±‚ï¼Œå°†æ•°æ®è¿”å›è‡³æµè§ˆå™¨</span><br><span class="line">  7ã€æµè§ˆå™¨æ”¶åˆ°httpå“åº”ã€‚</span><br><span class="line">  8ã€æµè§ˆå™¨è§£æå“åº”ã€‚å¦‚æœå“åº”å¯ä»¥ç¼“å­˜ï¼Œåˆ™å­˜å…¥ç¼“å­˜</span><br><span class="line">  9ã€æµè§ˆå™¨è¿›è¡Œé¡µé¢æ¸²æŸ“</span><br><span class="line"></span><br><span class="line">3. ä½ çŸ¥é“HTTPæœ‰å“ªäº›çŠ¶æ€ç å—,åˆ—ä¸¾ä¸‹ </span><br><span class="line">  200ï¼šæˆåŠŸ</span><br><span class="line">  302ï¼šé‡å®šå‘</span><br><span class="line">  404ï¼šè¯·æ±‚å¤±è´¥ï¼ŒåŸºæœ¬éƒ½æ˜¯è·¯å¾„æ‹¼æ¥é”™è¯¯</span><br><span class="line">  400ï¼šè¯·æ±‚æ²¡æœ‰è¿›å…¥åˆ°åå°æœåŠ¡é‡Œï¼Œæ¯”å¦‚httpæŠ¥æ–‡æœ‰é—®é¢˜</span><br><span class="line">  502ï¼šæ— æ•ˆçš„å“åº”ï¼ˆåŸºæœ¬ä¸Šå°±æ˜¯Tomcatæ²¡å¯å¥½æˆ–è€…æŒ‚äº†ï¼‰</span><br><span class="line"></span><br><span class="line">4. ä½ çŸ¥é“httpå’Œhttpsçš„åŒºåˆ«ä¸ï¼Œç®€å•è¯´ä¸‹</span><br><span class="line">  - HTTPS &#x3D; HTTP + SSL</span><br><span class="line">  - httpsæœ‰caè¯ä¹¦ï¼Œhttpä¸€èˆ¬æ²¡æœ‰</span><br><span class="line">  - httpæ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ã€‚httpsåˆ™æ˜¯å…·æœ‰å®‰å…¨æ€§çš„sslåŠ å¯†ä¼ è¾“åè®®</span><br><span class="line">  - httpé»˜è®¤80ç«¯å£ï¼Œhttpsé»˜è®¤443ç«¯å£ã€‚</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JavaWeb</category>
      </categories>
      <tags>
        <tag>JavaWeb</tag>
      </tags>
  </entry>
</search>
